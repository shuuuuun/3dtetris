!function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){!function(e){function r(){this._events={},this._conf&&o.call(this,this._conf)}function o(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._events.maxListeners=t.maxListeners!==e?t.maxListeners:l,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=l}function i(e,t){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,e,t)):console.error(n,e),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,o.call(this,e)}function a(e,t,n,r){if(!n)return[];var o,i,u,s,c,l,f,h=[],d=t.length,p=t[r],_=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(u in n)"_listeners"!==u&&n.hasOwnProperty(u)&&(h=h.concat(a(e,t,n[u],r+1)));return h}if("**"===p){f=r+1===d||r+2===d&&"*"===_,f&&n._listeners&&(h=h.concat(a(e,t,n,d)));for(u in n)"_listeners"!==u&&n.hasOwnProperty(u)&&("*"===u||"**"===u?(n[u]._listeners&&!f&&(h=h.concat(a(e,t,n[u],d))),h=h.concat(a(e,t,n[u],r))):h=u===_?h.concat(a(e,t,n[u],r+2)):h.concat(a(e,t,n[u],r)));return h}h=h.concat(a(e,t,n[p],r+1))}if(s=n["*"],s&&a(e,t,s,r+1),c=n["**"])if(r<d){c._listeners&&a(e,t,c,d);for(u in c)"_listeners"!==u&&c.hasOwnProperty(u)&&(u===_?a(e,t,c[u],r+2):u===p?a(e,t,c[u],r+1):(l={},l[u]=c[u],a(e,t,{"**":l},r+1)))}else c._listeners?a(e,t,c,d):c["*"]&&c["*"]._listeners&&a(e,t,c["*"],d);return h}function s(t,n){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var r=0,o=t.length;r+1<o;r++)if("**"===t[r]&&"**"===t[r+1])return;for(var u=this.listenerTree,a=t.shift();a!==e;){if(u[a]||(u[a]={}),u=u[a],0===t.length)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),u._listeners.push(n),!u._listeners.warned&&this._events.maxListeners>0&&u._listeners.length>this._events.maxListeners&&(u._listeners.warned=!0,i.call(this,u._listeners.length,a))):u._listeners=n,!0;a=t.shift()}return!0}var c=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==e&&(this._events||r.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(e,t){return this.many(e,1,t),this},u.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},u.prototype.emit=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,o,i,u,s=arguments.length;if(this._all&&this._all.length){if(u=this._all.slice(),s>3)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(o=0,n=u.length;o<n;o++)switch(this.event=e,s){case 1:u[o].call(this,e);break;case 2:u[o].call(this,e,arguments[1]);break;case 3:u[o].call(this,e,arguments[1],arguments[2]);break;default:u[o].apply(this,t)}}if(this.wildcard){u=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();a.call(this,u,c,this.listenerTree,0)}else{if(u=this._events[e],"function"==typeof u){switch(this.event=e,s){case 1:u.call(this);break;case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];u.apply(this,t)}return!0}u&&(u=u.slice())}if(u&&u.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(o=0,n=u.length;o<n;o++)switch(this.event=e,s){case 1:u[o].call(this);break;case 2:u[o].call(this,arguments[1]);break;case 3:u[o].call(this,arguments[1],arguments[2]);break;default:u[o].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,o,i,u,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),i=1;i<c;i++)t[i]=arguments[i];for(o=0,n=this._all.length;o<n;o++)switch(this.event=e,c){case 1:s.push(this._all[o].call(this,e));break;case 2:s.push(this._all[o].call(this,e,arguments[1]));break;case 3:s.push(this._all[o].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[o].apply(this,t))}}if(this.wildcard){u=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();a.call(this,u,l,this.listenerTree,0)}else u=this._events[e];if("function"==typeof u)switch(this.event=e,c){case 1:s.push(u.call(this));break;case 2:s.push(u.call(this,arguments[1]));break;case 3:s.push(u.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];s.push(u.apply(this,t))}else if(u&&u.length){if(c>3)for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];for(o=0,n=u.length;o<n;o++)switch(this.event=e,c){case 1:s.push(u[o].call(this));break;case 2:s.push(u[o].call(this,arguments[1]));break;case 3:s.push(u[o].call(this,arguments[1],arguments[2]));break;default:s.push(u[o].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||r.call(this),this.emit("newListener",e,t),this.wildcard?(s.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,i.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(t,n){function r(t){if(t!==e){var n=Object.keys(t);for(var o in n){var i=n[o],u=t[i];u instanceof Function||"object"!=typeof u||null===u||(Object.keys(u).length>0&&r(t[i]),0===Object.keys(u).length&&delete t[i])}}}if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var o,i=[];if(this.wildcard){var u="string"==typeof t?t.split(this.delimiter):t.slice();i=a.call(this,null,u,this.listenerTree,0)}else{if(!this._events[t])return this;o=this._events[t],i.push({_listeners:o})}for(var s=0;s<i.length;s++){var l=i[s];if(o=l._listeners,c(o)){for(var f=-1,h=0,d=o.length;h<d;h++)if(o[h]===n||o[h].listener&&o[h].listener===n||o[h]._origin&&o[h]._origin===n){f=h;break}if(f<0)continue;return this.wildcard?l._listeners.splice(f,1):this._events[t].splice(f,1),0===o.length&&(this.wildcard?delete l._listeners:delete this._events[t]),this.emit("removeListener",t,n),this}(o===n||o.listener&&o.listener===n||o._origin&&o._origin===n)&&(this.wildcard?delete l._listeners:delete this._events[t],this.emit("removeListener",t,n))}return r(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||r.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=a.call(this,null,t,this.listenerTree,0),o=0;o<n.length;o++){var i=n[o];i._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return a.call(this,t,n,this.listenerTree,0),t}return this._events||r.call(this),this._events[e]||(this._events[e]=[]),c(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return u}):"object"==typeof n?t.exports=u:window.EventEmitter2=u}()},{}],2:[function(e,t,n){(function(e){/*!
 *  howler.js v2.0.2
 *  howlerjs.com
 *
 *  (c) 2013-2016, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var e=this||r;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||f(),"undefined"!=typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&(t.masterGain.gain.value=e);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var u=t._howls[n]._soundById(o[i]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||f(),t._muted=e,t.usingWebAudio&&(t.masterGain.gain.value=e?0:t._volume);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var u=t._howls[n]._soundById(o[i]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!=typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var t=new Audio;"undefined"==typeof t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=o&&parseInt(o[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||r,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),n=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||n)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var o=function(){var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchend",o,!0)}};return document.addEventListener("touchend",o,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!=typeof e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!=typeof e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.state="resuming",e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new t,o=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return r.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,"undefined"!=typeof r.ctx&&r.ctx&&r.mobileAutoEnable&&r._enableMobileAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var o,u;if(e._format&&e._format[n])o=e._format[n];else{if(u=e._src[n],"string"!=typeof u){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}o=/^data:audio\/([^;,]+);/i.exec(u),o||(o=/\.([^.]+)$/.exec(u.split("?",1)[0])),o&&(o=o[1].toLowerCase())}if(r.codecs(o)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&a(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var n=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"==typeof e){e="__default";for(var i=0,u=0;u<n._sounds.length;u++)n._sounds[u]._paused&&!n._sounds[u]._ended&&(i++,o=n._sounds[u]._id);1===i?e=null:o=null}}var a=o?n._soundById(o):n._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state&&!n._sprite[e])return n._queue.push({event:"play",action:function(){n.play(n._soundById(a._id)?a._id:void 0)}}),a._id;if(o&&!a._paused)return t||setTimeout(function(){n._emit("play",a._id)},0),a._id;n._webAudio&&r._autoResume();var s=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-s),l=1e3*c/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=e,a._seek=s,a._start=n._sprite[e][0]/1e3,a._stop=(n._sprite[e][0]+n._sprite[e][1])/1e3,a._loop=!(!a._loop&&!n._sprite[e][2]);var f=a._node;if(n._webAudio){var h=function(){n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;f.gain.setValueAtTime(e,r.ctx.currentTime),a._playStart=r.ctx.currentTime,"undefined"==typeof f.bufferSource.start?a._loop?f.bufferSource.noteGrainOn(0,s,86400):f.bufferSource.noteGrainOn(0,s,c):a._loop?f.bufferSource.start(0,s,86400):f.bufferSource.start(0,s,c),l!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),l)),t||setTimeout(function(){n._emit("play",a._id)},0)},d="running"===r.state;"loaded"===n._state&&d?h():(n.once(d?"load":"resume",h,d?a._id:null),n._clearTimer(a._id))}else{var p=function(){f.currentTime=s,f.muted=a._muted||n._muted||r._muted||f.muted,f.volume=a._volume*r.volume(),f.playbackRate=a._rate,setTimeout(function(){f.play(),l!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),l)),t||n._emit("play",a._id)},0)},_="loaded"===n._state&&(window&&window.ejecta||!f.readyState&&r._navigator.isCocoonJS);if(4===f.readyState||_)p();else{var v=function(){p(),f.removeEventListener(r._canPlayEvent,v,!1)};f.addEventListener(r._canPlayEvent,v,!1),n._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)return t;"undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);if(i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node))if(n._webAudio){if(!i._node.bufferSource)return t||n._emit("stop",i._id),n;"undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause());i&&!t&&n._emit("stop",i._id)}return n},mute:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"==typeof t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var u=n._soundById(o[i]);u&&(u._muted=e,n._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,r.ctx.currentTime):u._node&&(u._node.muted=!!r._muted||e),n._emit("mute",u._id))}return n},volume:function(){var e,t,n=this,o=arguments;if(0===o.length)return n._volume;if(1===o.length||2===o.length&&"undefined"==typeof o[1]){var i=n._getSoundIds(),u=i.indexOf(o[0]);u>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if(!("undefined"!=typeof e&&e>=0&&e<=1))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,o)}}),n;"undefined"==typeof t&&(n._volume=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)a=n._soundById(t[s]),a&&(a._volume=e,o[2]||n._stopFade(t[s]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,r.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*r.volume()),n._emit("volume",a._id));return n},fade:function(e,t,n,o){var i=this,u=Math.abs(e-t),a=e>t?"out":"in",s=u/.01,c=s>0?n/s:n;if(c<4&&(s=Math.ceil(s/(4/c)),c=4),"loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,o)}}),i;i.volume(e,o);for(var l=i._getSoundIds(o),f=0;f<l.length;f++){var h=i._soundById(l[f]);if(h){if(o||i._stopFade(l[f]),i._webAudio&&!h._muted){var d=r.ctx.currentTime,p=d+n/1e3;h._volume=e,h._node.gain.setValueAtTime(e,d),h._node.gain.linearRampToValueAtTime(t,p)}var _=e;h._interval=setInterval(function(e,n){s>0&&(_+="in"===a?.01:-.01),_=Math.max(0,_),_=Math.min(1,_),_=Math.round(100*_)/100,i._webAudio?("undefined"==typeof o&&(i._volume=_),n._volume=_):i.volume(_,e,!0),_===t&&(clearInterval(n._interval),n._interval=null,i.volume(_,e),i._emit("fade",e))}.bind(i,l[f],h),c)}}return i},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return n=r._soundById(parseInt(o[0],10)),!!n&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),u=0;u<i.length;u++)n=r._soundById(i[u]),n&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),u=i.indexOf(o[0]);u>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if("number"!=typeof e)return a=n._soundById(t),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,o)}}),n;"undefined"==typeof t&&(n._rate=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)if(a=n._soundById(t[s])){a._rateSeek=n.seek(t[s]),a._playStart=n._webAudio?r.ctx.currentTime:a._playStart,a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=e:a._node&&(a._node.playbackRate=e);var c=n.seek(t[s]),l=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-c,f=1e3*l/Math.abs(a._rate);!n._endTimers[t[s]]&&a._paused||(n._clearTimer(t[s]),n._endTimers[t[s]]=setTimeout(n._ended.bind(n,a),f)),n._emit("rate",a._id)}return n},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),u=i.indexOf(o[0]);u>=0?t=parseInt(o[0],10):(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("undefined"==typeof t)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var s=n.playing(t)?r.ctx.currentTime-a._playStart:0,c=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(c+s*Math.abs(a._rate))}return a._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),l&&n.play(t,!0),!n._webAudio&&a._node&&(a._node.currentTime=e),n._emit("seek",t)}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++){t[n]._paused||(e.stop(t[n]._id),e._emit("end",t[n]._id)),e._webAudio||(t[n]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1)),delete t[n]._node,e._clearTimer(t[n]._id);var o=r._howls.indexOf(e);o>=0&&r._howls.splice(o,1)}var i=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src){i=!1;break}return u&&i&&delete u[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this,i=o["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),o},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if(t){for(i=0;i<o.length;i++)if(t===o[i].fn&&n===o[i].id){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var u=Object.keys(r);for(i=0;i<u.length;i++)0===u[i].indexOf("_on")&&Array.isArray(r[u[i]])&&(r[u[i]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r},_loadQueue:function(){var e=this;if(e._queue.length>0){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var t=this,n=e._sprite,o=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&o&&t.stop(e._id,!0).play(e._id),t._webAudio&&o){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||o||t.stop(e._id),t},_clearTimer:function(e){var t=this;return t._endTimers[e]&&(clearTimeout(t._endTimers[e]),delete t._endTimers[e]),t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"==typeof e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=u[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,t},_cleanBuffer:function(e){var t=this;if(t._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=t._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"==typeof r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorListener,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)}};var u={},a=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void l(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);c(r.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+"."):void c(i.response,e)},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},s(i)}},s=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){r.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(u[t._src]=e,l(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},l=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var o=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());(r._navigator&&r._navigator.standalone&&!o||r._navigator&&!r._navigator.standalone&&!o)&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain="undefined"==typeof r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.value=1,r.masterGain.connect(r.ctx.destination)),r._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:r,Howl:o}}),"undefined"!=typeof n&&(n.Howler=r,n.Howl=o),"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=r,window.Howl=o,window.Sound=i):"undefined"!=typeof e&&(e.HowlerGlobal=t,e.Howler=r,e.Howl=o,e.Sound=i)}(),/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.2
 *  howlerjs.com
 *
 *  (c) 2013-2016, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var u=this;if(!u.ctx||!u.ctx.listener)return u;var a=u._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(u._orientation=[e,t,n,r,o,i],u.ctx.listener.setOrientation(e,t,n,r,o,i),u)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!=typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),u=0;u<i.length;u++){var a=r._soundById(i[u]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,o),"spatial"===o?a._panner.setPosition(t,0,0):a._panner.pan.value=t),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,"undefined"==typeof o){if("number"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var s=i._soundById(u[a]);if(s){if("number"!=typeof t)return s._pos;s._pos=[t,n,r],s._node&&(s._panner&&!s._panner.pan||e(s,"spatial"),s._panner.setPosition(t,n,r)),i._emit("pos",s._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,"undefined"==typeof o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var s=i._soundById(u[a]);if(s){if("number"!=typeof t)return s._orientation;s._orientation=[t,n,r],s._node&&(s._panner||(s._pos||(s._pos=i._pos||[0,0,-.5]),e(s,"spatial")),s._panner.setOrientation(t,n,r)),i._emit("orientation",s._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;t=i[0],"undefined"==typeof n&&(o._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:o._coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:o._coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:o._distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:o._maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:o._panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:o._refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:o._rolloffFactor})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var u=o._getSoundIds(n),a=0;a<u.length;a++)if(r=o._soundById(u[a])){var s=r._pannerAttr;s={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:s.maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:s.panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:s.refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:s.rolloffFactor};var c=r._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.panningModel=s.panningModel,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.value=e._stereo),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){!function(e){var r=!1;if("function"==typeof define&&define.amd&&(define(e),r=!0),"object"==typeof n&&(t.exports=e(),r=!0),!r){var o=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=o,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var u;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{u=JSON.stringify(o),/^[\{\[]/.test(u)&&(o=u)}catch(e){}return o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}t||(u={});for(var s=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<s.length;l++){var f=s[l].split("="),h=f.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var d=f[0].replace(c,decodeURIComponent);if(h=n.read?n.read(h,d):n(h,d)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===d){u=h;break}t||(u[d]=h)}catch(e){}}return u}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},{}],4:[function(e,t,n){(function(e){(function(){function r(e,t){return e.set(t[0],t[1]),e}function o(e,t){return e.add(t),e}function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}function a(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function s(e,t){for(var n=null==e?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function f(e,t){var n=null==e?0:e.length;return!!n&&b(e,t,0)>-1}function h(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function p(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function _(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function v(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function m(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){return e.split("")}function g(e){return e.match(Vt)||[]}function w(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function E(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function b(e,t,n){return t===t?Z(e,t,n):E(e,k,n)}function T(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function k(e){return e!==e}function A(e,t){var n=null==e?0:e.length;return n?C(e,t)/n:He}function O(e){return function(t){return null==t?ne:t[e]}}function S(e){return function(t){return null==e?ne:e[t]}}function L(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function x(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function C(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==ne&&(n=n===ne?i:n+i)}return n}function R(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function I(e,t){return d(t,function(t){return[t,e[t]]})}function B(e){return function(t){return e(t)}}function M(e,t){return d(t,function(t){return e[t]})}function H(e,t){return e.has(t)}function D(e,t){for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function P(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function j(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function N(e){return"\\"+er[e]}function G(e,t){return null==e?ne:e[t]}function V(e){return zn.test(e)}function $(e){return Wn.test(e)}function X(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function F(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function z(e,t){return function(n){return e(t(n))}}function W(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];u!==t&&u!==ce||(e[n]=ce,i[o++]=n)}return i}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Z(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function q(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function K(e){return V(e)?J(e):mr(e)}function Q(e){return V(e)?ee(e):y(e)}function J(e){for(var t=Xn.lastIndex=0;Xn.test(e);)++t;return t}function ee(e){return e.match(Xn)||[]}function te(e){return e.match(Fn)||[]}var ne,re="4.17.2",oe=200,ie="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ue="Expected a function",ae="__lodash_hash_undefined__",se=500,ce="__lodash_placeholder__",le=1,fe=2,he=4,de=1,pe=2,_e=1,ve=2,me=4,ye=8,ge=16,we=32,Ee=64,be=128,Te=256,ke=512,Ae=30,Oe="...",Se=800,Le=16,xe=1,Ce=2,Re=3,Ie=1/0,Be=9007199254740991,Me=1.7976931348623157e308,He=NaN,De=4294967295,Pe=De-1,je=De>>>1,Ne=[["ary",be],["bind",_e],["bindKey",ve],["curry",ye],["curryRight",ge],["flip",ke],["partial",we],["partialRight",Ee],["rearg",Te]],Ge="[object Arguments]",Ve="[object Array]",$e="[object AsyncFunction]",Xe="[object Boolean]",Fe="[object Date]",ze="[object DOMException]",We="[object Error]",Ye="[object Function]",Ue="[object GeneratorFunction]",Ze="[object Map]",qe="[object Number]",Ke="[object Null]",Qe="[object Object]",Je="[object Promise]",et="[object Proxy]",tt="[object RegExp]",nt="[object Set]",rt="[object String]",ot="[object Symbol]",it="[object Undefined]",ut="[object WeakMap]",at="[object WeakSet]",st="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",_t="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",gt=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,kt=RegExp(bt.source),At=RegExp(Tt.source),Ot=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,Rt=/^\./,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bt=/[\\^$.*+?()[\]{}|]/g,Mt=RegExp(Bt.source),Ht=/^\s+|\s+$/g,Dt=/^\s+/,Pt=/\s+$/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$t=/\\(\\)?/g,Xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,zt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,Jt="\\ud800-\\udfff",en="\\u0300-\\u036f",tn="\\ufe20-\\ufe2f",nn="\\u20d0-\\u20ff",rn=en+tn+nn,on="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",an="\\xac\\xb1\\xd7\\xf7",sn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cn="\\u2000-\\u206f",ln=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",dn=an+sn+cn+ln,pn="['’]",_n="["+Jt+"]",vn="["+dn+"]",mn="["+rn+"]",yn="\\d+",gn="["+on+"]",wn="["+un+"]",En="[^"+Jt+dn+yn+on+un+fn+"]",bn="\\ud83c[\\udffb-\\udfff]",Tn="(?:"+mn+"|"+bn+")",kn="[^"+Jt+"]",An="(?:\\ud83c[\\udde6-\\uddff]){2}",On="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+fn+"]",Ln="\\u200d",xn="(?:"+wn+"|"+En+")",Cn="(?:"+Sn+"|"+En+")",Rn="(?:"+pn+"(?:d|ll|m|re|s|t|ve))?",In="(?:"+pn+"(?:D|LL|M|RE|S|T|VE))?",Bn=Tn+"?",Mn="["+hn+"]?",Hn="(?:"+Ln+"(?:"+[kn,An,On].join("|")+")"+Mn+Bn+")*",Dn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Pn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",jn=Mn+Bn+Hn,Nn="(?:"+[gn,An,On].join("|")+")"+jn,Gn="(?:"+[kn+mn+"?",mn,An,On,_n].join("|")+")",Vn=RegExp(pn,"g"),$n=RegExp(mn,"g"),Xn=RegExp(bn+"(?="+bn+")|"+Gn+jn,"g"),Fn=RegExp([Sn+"?"+wn+"+"+Rn+"(?="+[vn,Sn,"$"].join("|")+")",Cn+"+"+In+"(?="+[vn,Sn+xn,"$"].join("|")+")",Sn+"?"+xn+"+"+Rn,Sn+"+"+In,Pn,Dn,yn,Nn].join("|"),"g"),zn=RegExp("["+Ln+Jt+rn+hn+"]"),Wn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Un=-1,Zn={};Zn[lt]=Zn[ft]=Zn[ht]=Zn[dt]=Zn[pt]=Zn[_t]=Zn[vt]=Zn[mt]=Zn[yt]=!0,Zn[Ge]=Zn[Ve]=Zn[st]=Zn[Xe]=Zn[ct]=Zn[Fe]=Zn[We]=Zn[Ye]=Zn[Ze]=Zn[qe]=Zn[Qe]=Zn[tt]=Zn[nt]=Zn[rt]=Zn[ut]=!1;var qn={};qn[Ge]=qn[Ve]=qn[st]=qn[ct]=qn[Xe]=qn[Fe]=qn[lt]=qn[ft]=qn[ht]=qn[dt]=qn[pt]=qn[Ze]=qn[qe]=qn[Qe]=qn[tt]=qn[nt]=qn[rt]=qn[ot]=qn[_t]=qn[vt]=qn[mt]=qn[yt]=!0,qn[We]=qn[Ye]=qn[ut]=!1;var Kn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},er={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tr=parseFloat,nr=parseInt,rr="object"==typeof e&&e&&e.Object===Object&&e,or="object"==typeof self&&self&&self.Object===Object&&self,ir=rr||or||Function("return this")(),ur="object"==typeof n&&n&&!n.nodeType&&n,ar=ur&&"object"==typeof t&&t&&!t.nodeType&&t,sr=ar&&ar.exports===ur,cr=sr&&rr.process,lr=function(){try{return cr&&cr.binding&&cr.binding("util")}catch(e){}}(),fr=lr&&lr.isArrayBuffer,hr=lr&&lr.isDate,dr=lr&&lr.isMap,pr=lr&&lr.isRegExp,_r=lr&&lr.isSet,vr=lr&&lr.isTypedArray,mr=O("length"),yr=S(Kn),gr=S(Qn),wr=S(Jn),Er=function e(t){function n(e){if(ss(e)&&!wh(e)&&!(e instanceof Z)){if(e instanceof S)return e;if(gl.call(e,"__wrapped__"))return iu(e)}return new S(e)}function y(){}function S(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ne}function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=De,this.__views__=[]}function J(){var e=new Z(this.__wrapped__);return e.__actions__=$o(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=$o(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=$o(this.__views__),e}function ee(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Vt(){var e=this.__wrapped__.value(),t=this.__dir__,n=wh(e),r=t<0,o=n?e.length:0,i=Li(0,o,this.__views__),u=i.start,a=i.end,s=a-u,c=r?a:u-1,l=this.__iteratees__,f=l.length,h=0,d=Zl(s,this.__takeCount__);if(!n||o<oe||o==s&&d==s)return To(e,this.__actions__);var p=[];e:for(;s--&&h<d;){c+=t;for(var _=-1,v=e[c];++_<f;){var m=l[_],y=m.iteratee,g=m.type,w=y(v);if(g==Ce)v=w;else if(!w){if(g==xe)continue e;break e}}p[h++]=v}return p}function Jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function en(){this.__data__=uf?uf(null):{},this.size=0}function tn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function nn(e){var t=this.__data__;if(uf){var n=t[e];return n===ae?ne:n}return gl.call(t,e)?t[e]:ne}function rn(e){var t=this.__data__;return uf?t[e]!==ne:gl.call(t,e)}function on(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=uf&&t===ne?ae:t,this}function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function an(){this.__data__=[],this.size=0}function sn(e){var t=this.__data__,n=Mn(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Bl.call(t,n,1),--this.size,!0}function cn(e){var t=this.__data__,n=Mn(t,e);return n<0?ne:t[n][1]}function ln(e){return Mn(this.__data__,e)>-1}function fn(e,t){var n=this.__data__,r=Mn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dn(){this.size=0,this.__data__={hash:new Jt,map:new(tf||un),string:new Jt}}function pn(e){var t=ki(this,e).delete(e);return this.size-=t?1:0,t}function _n(e){return ki(this,e).get(e)}function vn(e){return ki(this,e).has(e)}function mn(e,t){var n=ki(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new hn;++t<n;)this.add(e[t])}function gn(e){return this.__data__.set(e,ae),this}function wn(e){return this.__data__.has(e)}function En(e){var t=this.__data__=new un(e);this.size=t.size}function bn(){this.__data__=new un,this.size=0}function Tn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function kn(e){return this.__data__.get(e)}function An(e){return this.__data__.has(e)}function On(e,t){var n=this.__data__;if(n instanceof un){var r=n.__data__;if(!tf||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hn(r)}return n.set(e,t),this.size=n.size,this}function Sn(e,t){var n=wh(e),r=!n&&gh(e),o=!n&&!r&&bh(e),i=!n&&!r&&!o&&Sh(e),u=n||r||o||i,a=u?R(e.length,hl):[],s=a.length;for(var c in e)!t&&!gl.call(e,c)||u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Di(c,s))||a.push(c);return a}function Ln(e){var t=e.length;return t?e[ro(0,t-1)]:ne}function xn(e,t){return tu($o(e),Gn(t,0,e.length))}function Cn(e){return tu($o(e))}function Rn(e,t,n,r){return e===ne||Ua(e,vl[n])&&!gl.call(r,n)?t:e}function In(e,t,n){(n===ne||Ua(e[t],n))&&(n!==ne||t in e)||jn(e,t,n)}function Bn(e,t,n){var r=e[t];gl.call(e,t)&&Ua(r,n)&&(n!==ne||t in e)||jn(e,t,n)}function Mn(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function Hn(e,t,n,r){return yf(e,function(e,o,i){t(r,e,n(e),i)}),r}function Dn(e,t){return e&&Xo(t,Xs(t),e)}function Pn(e,t){return e&&Xo(t,Fs(t),e)}function jn(e,t,n){"__proto__"==t&&Pl?Pl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Nn(e,t){for(var n=-1,r=t.length,o=il(r),i=null==e;++n<r;)o[n]=i?ne:Gs(e,t[n]);return o}function Gn(e,t,n){return e===e&&(n!==ne&&(e=e<=n?e:n),t!==ne&&(e=e>=t?e:t)),e}function Xn(e,t,n,r,o,i){var u,s=t&le,c=t&fe,l=t&he;if(n&&(u=o?n(e,r,o,i):n(e)),u!==ne)return u;if(!as(e))return e;var f=wh(e);if(f){if(u=Ri(e),!s)return $o(e,u)}else{var h=Cf(e),d=h==Ye||h==Ue;if(bh(e))return Co(e,s);if(h==Qe||h==Ge||d&&!o){if(u=c||d?{}:Ii(e),!s)return c?zo(e,Pn(u,e)):Fo(e,Dn(u,e))}else{if(!qn[h])return o?e:{};u=Bi(e,h,Xn,s)}}i||(i=new En);var p=i.get(e);if(p)return p;i.set(e,u);var _=l?c?wi:gi:c?Fs:Xs,v=f?ne:_(e);return a(v||e,function(r,o){v&&(o=r,r=e[o]),Bn(u,o,Xn(r,t,n,o,e,i))}),u}function Fn(e){var t=Xs(e);return function(n){return zn(n,e,t)}}function zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ll(e);r--;){var o=n[r],i=t[o],u=e[o];if(u===ne&&!(o in e)||!i(u))return!1}return!0}function Wn(e,t,n){if("function"!=typeof e)throw new dl(ue);return Bf(function(){e.apply(ne,n)},t)}function Kn(e,t,n,r){var o=-1,i=f,u=!0,a=e.length,s=[],c=t.length;if(!a)return s;n&&(t=d(t,B(n))),r?(i=h,u=!1):t.length>=oe&&(i=H,u=!1,t=new yn(t));e:for(;++o<a;){var l=e[o],p=null==n?l:n(l);if(l=r||0!==l?l:0,u&&p===p){for(var _=c;_--;)if(t[_]===p)continue e;s.push(l)}else i(t,p,r)||s.push(l)}return s}function Qn(e,t){var n=!0;return yf(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Jn(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=t(i);if(null!=u&&(a===ne?u===u&&!gs(u):n(u,a)))var a=u,s=i}return s}function er(e,t,n,r){var o=e.length;for(n=As(n),n<0&&(n=-n>o?0:o+n),r=r===ne||r>o?o:As(r),r<0&&(r+=o),r=n>r?0:Os(r);n<r;)e[n++]=t;return e}function rr(e,t){var n=[];return yf(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function or(e,t,n,r,o){var i=-1,u=e.length;for(n||(n=Hi),o||(o=[]);++i<u;){var a=e[i];t>0&&n(a)?t>1?or(a,t-1,n,r,o):p(o,a):r||(o[o.length]=a)}return o}function ur(e,t){return e&&wf(e,t,Xs)}function ar(e,t){return e&&Ef(e,t,Xs)}function cr(e,t){return l(t,function(t){return os(e[t])})}function lr(e,t){t=Lo(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[nu(t[n++])];return n&&n==r?e:ne}function mr(e,t,n){var r=t(e);return wh(e)?r:p(r,n(e))}function Er(e){return null==e?e===ne?it:Ke:(e=ll(e),Dl&&Dl in e?Si(e):Zi(e))}function Tr(e,t){return e>t}function kr(e,t){return null!=e&&gl.call(e,t)}function Ar(e,t){return null!=e&&t in ll(e)}function Or(e,t,n){return e>=Zl(t,n)&&e<Ul(t,n)}function Sr(e,t,n){for(var r=n?h:f,o=e[0].length,i=e.length,u=i,a=il(i),s=1/0,c=[];u--;){var l=e[u];u&&t&&(l=d(l,B(t))),s=Zl(l.length,s),a[u]=!n&&(t||o>=120&&l.length>=120)?new yn(u&&l):ne}l=e[0];var p=-1,_=a[0];e:for(;++p<o&&c.length<s;){var v=l[p],m=t?t(v):v;if(v=n||0!==v?v:0,!(_?H(_,m):r(c,m,n))){for(u=i;--u;){var y=a[u];if(!(y?H(y,m):r(e[u],m,n)))continue e}_&&_.push(m),c.push(v)}}return c}function Lr(e,t,n,r){return ur(e,function(e,o,i){t(r,n(e),o,i)}),r}function xr(e,t,n){t=Lo(t,e),e=Ki(e,t);var r=null==e?e:e[nu(ku(t))];return null==r?ne:i(r,e,n)}function Cr(e){return ss(e)&&Er(e)==Ge}function Rr(e){return ss(e)&&Er(e)==st}function Ir(e){return ss(e)&&Er(e)==Fe}function Br(e,t,n,r,o){return e===t||(null==e||null==t||!as(e)&&!ss(t)?e!==e&&t!==t:Mr(e,t,n,r,Br,o))}function Mr(e,t,n,r,o,i){var u=wh(e),a=wh(t),s=Ve,c=Ve;u||(s=Cf(e),s=s==Ge?Qe:s),a||(c=Cf(t),c=c==Ge?Qe:c);var l=s==Qe,f=c==Qe,h=s==c;if(h&&bh(e)){if(!bh(t))return!1;u=!0,l=!1}if(h&&!l)return i||(i=new En),u||Sh(e)?_i(e,t,n,r,o,i):vi(e,t,s,n,r,o,i);if(!(n&de)){var d=l&&gl.call(e,"__wrapped__"),p=f&&gl.call(t,"__wrapped__");if(d||p){var _=d?e.value():e,v=p?t.value():t;return i||(i=new En),o(_,v,n,r,i)}}return!!h&&(i||(i=new En),mi(e,t,n,r,o,i))}function Hr(e){return ss(e)&&Cf(e)==Ze}function Dr(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=ll(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var s=a[0],c=e[s],l=a[1];if(u&&a[2]){if(c===ne&&!(s in e))return!1}else{var f=new En;if(r)var h=r(c,l,s,e,t,f);if(!(h===ne?Br(l,c,de|pe,r,f):h))return!1}}return!0}function Pr(e){if(!as(e)||Vi(e))return!1;var t=os(e)?Al:Yt;return t.test(ru(e))}function jr(e){return ss(e)&&Er(e)==tt}function Nr(e){return ss(e)&&Cf(e)==nt}function Gr(e){return ss(e)&&us(e.length)&&!!Zn[Er(e)]}function Vr(e){return"function"==typeof e?e:null==e?Bc:"object"==typeof e?wh(e)?Yr(e[0],e[1]):Wr(e):Vc(e)}function $r(e){if(!$i(e))return Yl(e);var t=[];for(var n in ll(e))gl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Xr(e){if(!as(e))return Ui(e);var t=$i(e),n=[];for(var r in e)("constructor"!=r||!t&&gl.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function zr(e,t){var n=-1,r=Za(e)?il(e.length):[];return yf(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Wr(e){var t=Ai(e);return 1==t.length&&t[0][2]?Fi(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Yr(e,t){return ji(e)&&Xi(t)?Fi(nu(e),t):function(n){var r=Gs(n,e);return r===ne&&r===t?$s(n,e):Br(t,r,de|pe)}}function Ur(e,t,n,r,o){e!==t&&wf(t,function(i,u){if(as(i))o||(o=new En),Zr(e,t,u,n,Ur,r,o);else{var a=r?r(e[u],i,u+"",e,t,o):ne;a===ne&&(a=i),In(e,u,a)}},Fs)}function Zr(e,t,n,r,o,i,u){var a=e[n],s=t[n],c=u.get(s);if(c)return void In(e,n,c);var l=i?i(a,s,n+"",e,t,u):ne,f=l===ne;if(f){var h=wh(s),d=!h&&bh(s),p=!h&&!d&&Sh(s);l=s,h||d||p?wh(a)?l=a:qa(a)?l=$o(a):d?(f=!1,l=Co(s,!0)):p?(f=!1,l=Po(s,!0)):l=[]:vs(s)||gh(s)?(l=a,gh(a)?l=Ls(a):(!as(a)||r&&os(a))&&(l=Ii(s))):f=!1}f&&(u.set(s,l),o(l,s,r,i,u),u.delete(s)),In(e,n,l)}function qr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Di(t,n)?e[t]:ne}function Kr(e,t,n){var r=-1;t=d(t.length?t:[Bc],B(Ti()));var o=zr(e,function(e,n,o){var i=d(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return x(o,function(e,t){return No(e,t,n)})}function Qr(e,t){return e=ll(e),Jr(e,t,function(t,n){return $s(e,n)})}function Jr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var u=t[r],a=lr(e,u);n(a,u)&&co(i,Lo(u,e),a)}return i}function eo(e){return function(t){return lr(t,e)}}function to(e,t,n,r){var o=r?T:b,i=-1,u=t.length,a=e;for(e===t&&(t=$o(t)),n&&(a=d(e,B(n)));++i<u;)for(var s=0,c=t[i],l=n?n(c):c;(s=o(a,l,s,r))>-1;)a!==e&&Bl.call(a,s,1),Bl.call(e,s,1);return e}function no(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Di(o)?Bl.call(e,o,1):wo(e,o)}}return e}function ro(e,t){return e+$l(Ql()*(t-e+1))}function oo(e,t,n,r){for(var o=-1,i=Ul(Vl((t-e)/(n||1)),0),u=il(i);i--;)u[r?i:++o]=e,e+=n;return u}function io(e,t){var n="";if(!e||t<1||t>Be)return n;do t%2&&(n+=e),t=$l(t/2),t&&(e+=e);while(t);return n}function uo(e,t){return Mf(qi(e,t,Bc),e+"")}function ao(e){return Ln(nc(e))}function so(e,t){var n=nc(e);return tu(n,Gn(t,0,n.length))}function co(e,t,n,r){if(!as(e))return e;t=Lo(t,e);for(var o=-1,i=t.length,u=i-1,a=e;null!=a&&++o<i;){var s=nu(t[o]),c=n;if(o!=u){var l=a[s];c=r?r(l,s,a):ne,c===ne&&(c=as(l)?l:Di(t[o+1])?[]:{})}Bn(a,s,c),a=a[s]}return e}function lo(e){return tu(nc(e))}function fo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=il(o);++r<o;)i[r]=e[r+t];return i}function ho(e,t){var n;return yf(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function po(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=je){for(;r<o;){var i=r+o>>>1,u=e[i];null!==u&&!gs(u)&&(n?u<=t:u<t)?r=i+1:o=i}return o}return _o(e,t,Bc,n)}function _o(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,u=t!==t,a=null===t,s=gs(t),c=t===ne;o<i;){var l=$l((o+i)/2),f=n(e[l]),h=f!==ne,d=null===f,p=f===f,_=gs(f);if(u)var v=r||p;else v=c?p&&(r||h):a?p&&h&&(r||!d):s?p&&h&&!d&&(r||!_):!d&&!_&&(r?f<=t:f<t);v?o=l+1:i=l}return Zl(i,Pe)}function vo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!Ua(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function mo(e){return"number"==typeof e?e:gs(e)?He:+e}function yo(e){if("string"==typeof e)return e;if(wh(e))return d(e,yo)+"";if(gs(e))return vf?vf.call(e):"";var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function go(e,t,n){var r=-1,o=f,i=e.length,u=!0,a=[],s=a;if(n)u=!1,o=h;else if(i>=oe){var c=t?null:Of(e);if(c)return Y(c);u=!1,o=H,s=new yn}else s=t?[]:a;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,u&&d===d){for(var p=s.length;p--;)if(s[p]===d)continue e;t&&s.push(d),a.push(l)}else o(s,d,n)||(s!==a&&s.push(d),a.push(l))}return a}function wo(e,t){return t=Lo(t,e),e=Ki(e,t),null==e||delete e[nu(ku(t))]}function Eo(e,t,n,r){return co(e,t,n(lr(e,t)),r)}function bo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?fo(e,r?0:i,r?i+1:o):fo(e,r?i+1:0,r?o:i)}function To(e,t){var n=e;return n instanceof Z&&(n=n.value()),
_(t,function(e,t){return t.func.apply(t.thisArg,p([e],t.args))},n)}function ko(e,t,n){var r=e.length;if(r<2)return r?go(e[0]):[];for(var o=-1,i=il(r);++o<r;)for(var u=e[o],a=-1;++a<r;)a!=o&&(i[o]=Kn(i[o]||u,e[a],t,n));return go(or(i,1),t,n)}function Ao(e,t,n){for(var r=-1,o=e.length,i=t.length,u={};++r<o;){var a=r<i?t[r]:ne;n(u,e[r],a)}return u}function Oo(e){return qa(e)?e:[]}function So(e){return"function"==typeof e?e:Bc}function Lo(e,t){return wh(e)?e:ji(e,t)?[e]:Hf(Cs(e))}function xo(e,t,n){var r=e.length;return n=n===ne?r:n,!t&&n>=r?e:fo(e,t,n)}function Co(e,t){if(t)return e.slice();var n=e.length,r=xl?xl(n):new e.constructor(n);return e.copy(r),r}function Ro(e){var t=new e.constructor(e.byteLength);return new Ll(t).set(new Ll(e)),t}function Io(e,t){var n=t?Ro(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Bo(e,t,n){var o=t?n(F(e),le):F(e);return _(o,r,new e.constructor)}function Mo(e){var t=new e.constructor(e.source,Ft.exec(e));return t.lastIndex=e.lastIndex,t}function Ho(e,t,n){var r=t?n(Y(e),le):Y(e);return _(r,o,new e.constructor)}function Do(e){return _f?ll(_f.call(e)):{}}function Po(e,t){var n=t?Ro(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function jo(e,t){if(e!==t){var n=e!==ne,r=null===e,o=e===e,i=gs(e),u=t!==ne,a=null===t,s=t===t,c=gs(t);if(!a&&!c&&!i&&e>t||i&&u&&s&&!a&&!c||r&&u&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!s)return-1}return 0}function No(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,u=o.length,a=n.length;++r<u;){var s=jo(o[r],i[r]);if(s){if(r>=a)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}function Go(e,t,n,r){for(var o=-1,i=e.length,u=n.length,a=-1,s=t.length,c=Ul(i-u,0),l=il(s+c),f=!r;++a<s;)l[a]=t[a];for(;++o<u;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[a++]=e[o++];return l}function Vo(e,t,n,r){for(var o=-1,i=e.length,u=-1,a=n.length,s=-1,c=t.length,l=Ul(i-a,0),f=il(l+c),h=!r;++o<l;)f[o]=e[o];for(var d=o;++s<c;)f[d+s]=t[s];for(;++u<a;)(h||o<i)&&(f[d+n[u]]=e[o++]);return f}function $o(e,t){var n=-1,r=e.length;for(t||(t=il(r));++n<r;)t[n]=e[n];return t}function Xo(e,t,n,r){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var a=t[i],s=r?r(n[a],e[a],a,n,e):ne;s===ne&&(s=e[a]),o?jn(n,a,s):Bn(n,a,s)}return n}function Fo(e,t){return Xo(e,Lf(e),t)}function zo(e,t){return Xo(e,xf(e),t)}function Wo(e,t){return function(n,r){var o=wh(n)?u:Hn,i=t?t():{};return o(n,e,Ti(r,2),i)}}function Yo(e){return uo(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:ne,u=o>2?n[2]:ne;for(i=e.length>3&&"function"==typeof i?(o--,i):ne,u&&Pi(n[0],n[1],u)&&(i=o<3?ne:i,o=1),t=ll(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}function Uo(e,t){return function(n,r){if(null==n)return n;if(!Za(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=ll(n);(t?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function Zo(e){return function(t,n,r){for(var o=-1,i=ll(t),u=r(t),a=u.length;a--;){var s=u[e?a:++o];if(n(i[s],s,i)===!1)break}return t}}function qo(e,t,n){function r(){var t=this&&this!==ir&&this instanceof r?i:e;return t.apply(o?n:this,arguments)}var o=t&_e,i=Jo(e);return r}function Ko(e){return function(t){t=Cs(t);var n=V(t)?Q(t):ne,r=n?n[0]:t.charAt(0),o=n?xo(n,1).join(""):t.slice(1);return r[e]()+o}}function Qo(e){return function(t){return _(Lc(sc(t).replace(Vn,"")),e,"")}}function Jo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mf(e.prototype),r=e.apply(n,t);return as(r)?r:n}}function ei(e,t,n){function r(){for(var u=arguments.length,a=il(u),s=u,c=bi(r);s--;)a[s]=arguments[s];var l=u<3&&a[0]!==c&&a[u-1]!==c?[]:W(a,c);if(u-=l.length,u<n)return fi(e,t,ri,r.placeholder,ne,a,l,ne,ne,n-u);var f=this&&this!==ir&&this instanceof r?o:e;return i(f,this,a)}var o=Jo(e);return r}function ti(e){return function(t,n,r){var o=ll(t);if(!Za(t)){var i=Ti(n,3);t=Xs(t),n=function(e){return i(o[e],e,o)}}var u=e(t,n,r);return u>-1?o[i?t[u]:u]:ne}}function ni(e){return yi(function(t){var n=t.length,r=n,o=S.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new dl(ue);if(o&&!u&&"wrapper"==Ei(i))var u=new S([],(!0))}for(r=u?r:n;++r<n;){i=t[r];var a=Ei(i),s="wrapper"==a?Sf(i):ne;u=s&&Gi(s[0])&&s[1]==(be|ye|we|Te)&&!s[4].length&&1==s[9]?u[Ei(s[0])].apply(u,s[3]):1==i.length&&Gi(i)?u[a]():u.thru(i)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&wh(r)&&r.length>=oe)return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function ri(e,t,n,r,o,i,u,a,s,c){function l(){for(var m=arguments.length,y=il(m),g=m;g--;)y[g]=arguments[g];if(p)var w=bi(l),E=j(y,w);if(r&&(y=Go(y,r,o,p)),i&&(y=Vo(y,i,u,p)),m-=E,p&&m<c){var b=W(y,w);return fi(e,t,ri,l.placeholder,n,y,b,a,s,c-m)}var T=h?n:this,k=d?T[e]:e;return m=y.length,a?y=Qi(y,a):_&&m>1&&y.reverse(),f&&s<m&&(y.length=s),this&&this!==ir&&this instanceof l&&(k=v||Jo(k)),k.apply(T,y)}var f=t&be,h=t&_e,d=t&ve,p=t&(ye|ge),_=t&ke,v=d?ne:Jo(e);return l}function oi(e,t){return function(n,r){return Lr(n,e,t(r),{})}}function ii(e,t){return function(n,r){var o;if(n===ne&&r===ne)return t;if(n!==ne&&(o=n),r!==ne){if(o===ne)return r;"string"==typeof n||"string"==typeof r?(n=yo(n),r=yo(r)):(n=mo(n),r=mo(r)),o=e(n,r)}return o}}function ui(e){return yi(function(t){return t=d(t,B(Ti())),uo(function(n){var r=this;return e(t,function(e){return i(e,r,n)})})})}function ai(e,t){t=t===ne?" ":yo(t);var n=t.length;if(n<2)return n?io(t,e):t;var r=io(t,Vl(e/K(t)));return V(t)?xo(Q(r),0,e).join(""):r.slice(0,e)}function si(e,t,n,r){function o(){for(var t=-1,s=arguments.length,c=-1,l=r.length,f=il(l+s),h=this&&this!==ir&&this instanceof o?a:e;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++t];return i(h,u?n:this,f)}var u=t&_e,a=Jo(e);return o}function ci(e){return function(t,n,r){return r&&"number"!=typeof r&&Pi(t,n,r)&&(n=r=ne),t=ks(t),n===ne?(n=t,t=0):n=ks(n),r=r===ne?t<n?1:-1:ks(r),oo(t,n,r,e)}}function li(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ss(t),n=Ss(n)),e(t,n)}}function fi(e,t,n,r,o,i,u,a,s,c){var l=t&ye,f=l?u:ne,h=l?ne:u,d=l?i:ne,p=l?ne:i;t|=l?we:Ee,t&=~(l?Ee:we),t&me||(t&=~(_e|ve));var _=[e,t,o,d,f,p,h,a,s,c],v=n.apply(ne,_);return Gi(e)&&If(v,_),v.placeholder=r,Ji(v,e,t)}function hi(e){var t=cl[e];return function(e,n){if(e=Ss(e),n=Zl(As(n),292)){var r=(Cs(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(Cs(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function di(e){return function(t){var n=Cf(t);return n==Ze?F(t):n==nt?U(t):I(t,e(t))}}function pi(e,t,n,r,o,i,u,a){var s=t&ve;if(!s&&"function"!=typeof e)throw new dl(ue);var c=r?r.length:0;if(c||(t&=~(we|Ee),r=o=ne),u=u===ne?u:Ul(As(u),0),a=a===ne?a:As(a),c-=o?o.length:0,t&Ee){var l=r,f=o;r=o=ne}var h=s?ne:Sf(e),d=[e,t,n,r,o,l,f,i,u,a];if(h&&Wi(d,h),e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],a=d[9]=null==d[9]?s?0:e.length:Ul(d[9]-c,0),!a&&t&(ye|ge)&&(t&=~(ye|ge)),t&&t!=_e)p=t==ye||t==ge?ei(e,t,a):t!=we&&t!=(_e|we)||o.length?ri.apply(ne,d):si(e,t,n,r);else var p=qo(e,t,n);var _=h?bf:If;return Ji(_(p,d),e,t)}function _i(e,t,n,r,o,i){var u=n&de,a=e.length,s=t.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,h=n&pe?new yn:ne;for(i.set(e,t),i.set(t,e);++l<a;){var d=e[l],p=t[l];if(r)var _=u?r(p,d,l,t,e,i):r(d,p,l,e,t,i);if(_!==ne){if(_)continue;f=!1;break}if(h){if(!m(t,function(e,t){if(!H(h,t)&&(d===e||o(d,e,n,r,i)))return h.push(t)})){f=!1;break}}else if(d!==p&&!o(d,p,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function vi(e,t,n,r,o,i,u){switch(n){case ct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case st:return!(e.byteLength!=t.byteLength||!i(new Ll(e),new Ll(t)));case Xe:case Fe:case qe:return Ua(+e,+t);case We:return e.name==t.name&&e.message==t.message;case tt:case rt:return e==t+"";case Ze:var a=F;case nt:var s=r&de;if(a||(a=Y),e.size!=t.size&&!s)return!1;var c=u.get(e);if(c)return c==t;r|=pe,u.set(e,t);var l=_i(a(e),a(t),r,o,i,u);return u.delete(e),l;case ot:if(_f)return _f.call(e)==_f.call(t)}return!1}function mi(e,t,n,r,o,i){var u=n&de,a=Xs(e),s=a.length,c=Xs(t),l=c.length;if(s!=l&&!u)return!1;for(var f=s;f--;){var h=a[f];if(!(u?h in t:gl.call(t,h)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var _=u;++f<s;){h=a[f];var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,i):r(v,m,h,e,t,i);if(!(y===ne?v===m||o(v,m,n,r,i):y)){p=!1;break}_||(_="constructor"==h)}if(p&&!_){var g=e.constructor,w=t.constructor;g!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}function yi(e){return Mf(qi(e,ne,vu),e+"")}function gi(e){return mr(e,Xs,Lf)}function wi(e){return mr(e,Fs,xf)}function Ei(e){for(var t=e.name+"",n=sf[t],r=gl.call(sf,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function bi(e){var t=gl.call(n,"placeholder")?n:e;return t.placeholder}function Ti(){var e=n.iteratee||Mc;return e=e===Mc?Vr:e,arguments.length?e(arguments[0],arguments[1]):e}function ki(e,t){var n=e.__data__;return Ni(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ai(e){for(var t=Xs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Xi(o)]}return t}function Oi(e,t){var n=G(e,t);return Pr(n)?n:ne}function Si(e){var t=gl.call(e,Dl),n=e[Dl];try{e[Dl]=ne;var r=!0}catch(e){}var o=bl.call(e);return r&&(t?e[Dl]=n:delete e[Dl]),o}function Li(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=Zl(t,e+u);break;case"takeRight":e=Ul(e,t-u)}}return{start:e,end:t}}function xi(e){var t=e.match(Nt);return t?t[1].split(Gt):[]}function Ci(e,t,n){t=Lo(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var u=nu(t[r]);if(!(i=null!=e&&n(e,u)))break;e=e[u]}return i||++r!=o?i:(o=null==e?0:e.length,!!o&&us(o)&&Di(u,o)&&(wh(e)||gh(e)))}function Ri(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&gl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ii(e){return"function"!=typeof e.constructor||$i(e)?{}:mf(Cl(e))}function Bi(e,t,n,r){var o=e.constructor;switch(t){case st:return Ro(e);case Xe:case Fe:return new o((+e));case ct:return Io(e,r);case lt:case ft:case ht:case dt:case pt:case _t:case vt:case mt:case yt:return Po(e,r);case Ze:return Bo(e,r,n);case qe:case rt:return new o(e);case tt:return Mo(e);case nt:return Ho(e,r,n);case ot:return Do(e)}}function Mi(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(jt,"{\n/* [wrapped with "+t+"] */\n")}function Hi(e){return wh(e)||gh(e)||!!(Ml&&e&&e[Ml])}function Di(e,t){return t=null==t?Be:t,!!t&&("number"==typeof e||Zt.test(e))&&e>-1&&e%1==0&&e<t}function Pi(e,t,n){if(!as(n))return!1;var r=typeof t;return!!("number"==r?Za(n)&&Di(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function ji(e,t){if(wh(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gs(e))||(Ct.test(e)||!xt.test(e)||null!=t&&e in ll(t))}function Ni(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Gi(e){var t=Ei(e),r=n[t];if("function"!=typeof r||!(t in Z.prototype))return!1;if(e===r)return!0;var o=Sf(r);return!!o&&e===o[0]}function Vi(e){return!!El&&El in e}function $i(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||vl;return e===n}function Xi(e){return e===e&&!as(e)}function Fi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ne||e in ll(n)))}}function zi(e){var t=Ma(e,function(e){return n.size===se&&n.clear(),e}),n=t.cache;return t}function Wi(e,t){var n=e[1],r=t[1],o=n|r,i=o<(_e|ve|be),u=r==be&&n==ye||r==be&&n==Te&&e[7].length<=t[8]||r==(be|Te)&&t[7].length<=t[8]&&n==ye;if(!i&&!u)return e;r&_e&&(e[2]=t[2],o|=n&_e?0:me);var a=t[3];if(a){var s=e[3];e[3]=s?Go(s,a,t[4]):a,e[4]=s?W(e[3],ce):t[4]}return a=t[5],a&&(s=e[5],e[5]=s?Vo(s,a,t[6]):a,e[6]=s?W(e[5],ce):t[6]),a=t[7],a&&(e[7]=a),r&be&&(e[8]=null==e[8]?t[8]:Zl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Yi(e,t,n,r,o,i){return as(e)&&as(t)&&(i.set(t,e),Ur(e,t,ne,Yi,i),i.delete(t)),e}function Ui(e){var t=[];if(null!=e)for(var n in ll(e))t.push(n);return t}function Zi(e){return bl.call(e)}function qi(e,t,n){return t=Ul(t===ne?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=Ul(r.length-t,0),a=il(u);++o<u;)a[o]=r[t+o];o=-1;for(var s=il(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),i(e,this,s)}}function Ki(e,t){return t.length<2?e:lr(e,fo(t,0,-1))}function Qi(e,t){for(var n=e.length,r=Zl(t.length,n),o=$o(e);r--;){var i=t[r];e[r]=Di(i,n)?o[i]:ne}return e}function Ji(e,t,n){var r=t+"";return Mf(e,Mi(r,ou(xi(r),n)))}function eu(e){var t=0,n=0;return function(){var r=ql(),o=Le-(r-n);if(n=r,o>0){if(++t>=Se)return arguments[0]}else t=0;return e.apply(ne,arguments)}}function tu(e,t){var n=-1,r=e.length,o=r-1;for(t=t===ne?r:t;++n<t;){var i=ro(n,o),u=e[i];e[i]=e[n],e[n]=u}return e.length=t,e}function nu(e){if("string"==typeof e||gs(e))return e;var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function ru(e){if(null!=e){try{return yl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ou(e,t){return a(Ne,function(n){var r="_."+n[0];t&n[1]&&!f(e,r)&&e.push(r)}),e.sort()}function iu(e){if(e instanceof Z)return e.clone();var t=new S(e.__wrapped__,e.__chain__);return t.__actions__=$o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function uu(e,t,n){t=(n?Pi(e,t,n):t===ne)?1:Ul(As(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,u=il(Vl(r/t));o<r;)u[i++]=fo(e,o,o+=t);return u}function au(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function su(){var e=arguments.length;if(!e)return[];for(var t=il(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return p(wh(n)?$o(n):[n],or(t,1))}function cu(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:As(t),fo(e,t<0?0:t,r)):[]}function lu(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:As(t),t=r-t,fo(e,0,t<0?0:t)):[]}function fu(e,t){return e&&e.length?bo(e,Ti(t,3),!0,!0):[]}function hu(e,t){return e&&e.length?bo(e,Ti(t,3),!0):[]}function du(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Pi(e,t,n)&&(n=0,r=o),er(e,t,n,r)):[]}function pu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:As(n);return o<0&&(o=Ul(r+o,0)),E(e,Ti(t,3),o)}function _u(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==ne&&(o=As(n),o=n<0?Ul(r+o,0):Zl(o,r-1)),E(e,Ti(t,3),o,!0)}function vu(e){var t=null==e?0:e.length;return t?or(e,1):[]}function mu(e){var t=null==e?0:e.length;return t?or(e,Ie):[]}function yu(e,t){var n=null==e?0:e.length;return n?(t=t===ne?1:As(t),or(e,t)):[]}function gu(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function wu(e){return e&&e.length?e[0]:ne}function Eu(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:As(n);return o<0&&(o=Ul(r+o,0)),b(e,t,o)}function bu(e){var t=null==e?0:e.length;return t?fo(e,0,-1):[]}function Tu(e,t){return null==e?"":Wl.call(e,t)}function ku(e){var t=null==e?0:e.length;return t?e[t-1]:ne}function Au(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==ne&&(o=As(n),o=o<0?Ul(r+o,0):Zl(o,r-1)),t===t?q(e,t,o):E(e,k,o,!0)}function Ou(e,t){return e&&e.length?qr(e,As(t)):ne}function Su(e,t){return e&&e.length&&t&&t.length?to(e,t):e}function Lu(e,t,n){return e&&e.length&&t&&t.length?to(e,t,Ti(n,2)):e}function xu(e,t,n){return e&&e.length&&t&&t.length?to(e,t,ne,n):e}function Cu(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Ti(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return no(e,o),n}function Ru(e){return null==e?e:Jl.call(e)}function Iu(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Pi(e,t,n)?(t=0,n=r):(t=null==t?0:As(t),n=n===ne?r:As(n)),fo(e,t,n)):[]}function Bu(e,t){return po(e,t)}function Mu(e,t,n){return _o(e,t,Ti(n,2))}function Hu(e,t){var n=null==e?0:e.length;if(n){var r=po(e,t);if(r<n&&Ua(e[r],t))return r}return-1}function Du(e,t){return po(e,t,!0)}function Pu(e,t,n){return _o(e,t,Ti(n,2),!0)}function ju(e,t){var n=null==e?0:e.length;if(n){var r=po(e,t,!0)-1;if(Ua(e[r],t))return r}return-1}function Nu(e){return e&&e.length?vo(e):[]}function Gu(e,t){return e&&e.length?vo(e,Ti(t,2)):[]}function Vu(e){var t=null==e?0:e.length;return t?fo(e,1,t):[]}function $u(e,t,n){return e&&e.length?(t=n||t===ne?1:As(t),fo(e,0,t<0?0:t)):[]}function Xu(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:As(t),t=r-t,fo(e,t<0?0:t,r)):[]}function Fu(e,t){return e&&e.length?bo(e,Ti(t,3),!1,!0):[]}function zu(e,t){return e&&e.length?bo(e,Ti(t,3)):[]}function Wu(e){return e&&e.length?go(e):[]}function Yu(e,t){return e&&e.length?go(e,Ti(t,2)):[]}function Uu(e,t){return t="function"==typeof t?t:ne,e&&e.length?go(e,ne,t):[]}function Zu(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){if(qa(e))return t=Ul(e.length,t),!0}),R(t,function(t){return d(e,O(t))})}function qu(e,t){if(!e||!e.length)return[];var n=Zu(e);return null==t?n:d(n,function(e){return i(t,ne,e)})}function Ku(e,t){return Ao(e||[],t||[],Bn)}function Qu(e,t){return Ao(e||[],t||[],co)}function Ju(e){var t=n(e);return t.__chain__=!0,t}function ea(e,t){return t(e),e}function ta(e,t){return t(e)}function na(){return Ju(this)}function ra(){return new S(this.value(),this.__chain__)}function oa(){this.__values__===ne&&(this.__values__=Ts(this.value()));var e=this.__index__>=this.__values__.length,t=e?ne:this.__values__[this.__index__++];return{done:e,value:t}}function ia(){return this}function ua(e){for(var t,n=this;n instanceof y;){var r=iu(n);r.__index__=0,r.__values__=ne,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function aa(){var e=this.__wrapped__;if(e instanceof Z){var t=e;return this.__actions__.length&&(t=new Z(this)),t=t.reverse(),t.__actions__.push({func:ta,args:[Ru],thisArg:ne}),new S(t,this.__chain__)}return this.thru(Ru)}function sa(){return To(this.__wrapped__,this.__actions__)}function ca(e,t,n){var r=wh(e)?c:Qn;return n&&Pi(e,t,n)&&(t=ne),r(e,Ti(t,3))}function la(e,t){var n=wh(e)?l:rr;return n(e,Ti(t,3))}function fa(e,t){return or(ma(e,t),1)}function ha(e,t){return or(ma(e,t),Ie)}function da(e,t,n){return n=n===ne?1:As(n),or(ma(e,t),n)}function pa(e,t){var n=wh(e)?a:yf;return n(e,Ti(t,3))}function _a(e,t){var n=wh(e)?s:gf;return n(e,Ti(t,3))}function va(e,t,n,r){e=Za(e)?e:nc(e),n=n&&!r?As(n):0;var o=e.length;return n<0&&(n=Ul(o+n,0)),ys(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&b(e,t,n)>-1}function ma(e,t){var n=wh(e)?d:zr;return n(e,Ti(t,3))}function ya(e,t,n,r){return null==e?[]:(wh(t)||(t=null==t?[]:[t]),n=r?ne:n,wh(n)||(n=null==n?[]:[n]),Kr(e,t,n))}function ga(e,t,n){var r=wh(e)?_:L,o=arguments.length<3;return r(e,Ti(t,4),n,o,yf)}function wa(e,t,n){var r=wh(e)?v:L,o=arguments.length<3;return r(e,Ti(t,4),n,o,gf)}function Ea(e,t){var n=wh(e)?l:rr;return n(e,Ha(Ti(t,3)))}function ba(e){var t=wh(e)?Ln:ao;return t(e)}function Ta(e,t,n){t=(n?Pi(e,t,n):t===ne)?1:As(t);var r=wh(e)?xn:so;return r(e,t)}function ka(e){var t=wh(e)?Cn:lo;return t(e)}function Aa(e){if(null==e)return 0;if(Za(e))return ys(e)?K(e):e.length;var t=Cf(e);return t==Ze||t==nt?e.size:$r(e).length}function Oa(e,t,n){var r=wh(e)?m:ho;return n&&Pi(e,t,n)&&(t=ne),r(e,Ti(t,3))}function Sa(e,t){if("function"!=typeof t)throw new dl(ue);return e=As(e),function(){if(--e<1)return t.apply(this,arguments)}}function La(e,t,n){return t=n?ne:t,t=e&&null==t?e.length:t,pi(e,be,ne,ne,ne,ne,t)}function xa(e,t){var n;if("function"!=typeof t)throw new dl(ue);return e=As(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ne),n}}function Ca(e,t,n){t=n?ne:t;var r=pi(e,ye,ne,ne,ne,ne,ne,t);return r.placeholder=Ca.placeholder,r}function Ra(e,t,n){t=n?ne:t;var r=pi(e,ge,ne,ne,ne,ne,ne,t);return r.placeholder=Ra.placeholder,r}function Ia(e,t,n){function r(t){var n=h,r=d;return h=d=ne,y=t,_=e.apply(r,n)}function o(e){return y=e,v=Bf(a,t),g?r(e):_}function i(e){var n=e-m,r=e-y,o=t-n;return w?Zl(o,p-r):o}function u(e){var n=e-m,r=e-y;return m===ne||n>=t||n<0||w&&r>=p}function a(){var e=sh();return u(e)?s(e):void(v=Bf(a,i(e)))}function s(e){return v=ne,E&&h?r(e):(h=d=ne,_)}function c(){v!==ne&&Af(v),y=0,h=m=d=v=ne}function l(){return v===ne?_:s(sh())}function f(){var e=sh(),n=u(e);if(h=arguments,d=this,m=e,n){if(v===ne)return o(m);if(w)return v=Bf(a,t),r(m)}return v===ne&&(v=Bf(a,t)),_}var h,d,p,_,v,m,y=0,g=!1,w=!1,E=!0;if("function"!=typeof e)throw new dl(ue);return t=Ss(t)||0,as(n)&&(g=!!n.leading,w="maxWait"in n,p=w?Ul(Ss(n.maxWait)||0,t):p,E="trailing"in n?!!n.trailing:E),f.cancel=c,f.flush=l,f}function Ba(e){return pi(e,ke)}function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new dl(ue);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=e.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(Ma.Cache||hn),n}function Ha(e){if("function"!=typeof e)throw new dl(ue);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Da(e){return xa(2,e)}function Pa(e,t){if("function"!=typeof e)throw new dl(ue);return t=t===ne?t:As(t),uo(e,t)}function ja(e,t){if("function"!=typeof e)throw new dl(ue);return t=t===ne?0:Ul(As(t),0),uo(function(n){var r=n[t],o=xo(n,0,t);return r&&p(o,r),i(e,this,o)})}function Na(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new dl(ue);return as(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ia(e,t,{leading:r,maxWait:t,trailing:o})}function Ga(e){return La(e,1)}function Va(e,t){return ph(So(t),e)}function $a(){if(!arguments.length)return[];var e=arguments[0];return wh(e)?e:[e]}function Xa(e){return Xn(e,he)}function Fa(e,t){return t="function"==typeof t?t:ne,Xn(e,he,t)}function za(e){return Xn(e,le|he)}function Wa(e,t){return t="function"==typeof t?t:ne,Xn(e,le|he,t)}function Ya(e,t){return null==t||zn(e,t,Xs(t))}function Ua(e,t){return e===t||e!==e&&t!==t}function Za(e){return null!=e&&us(e.length)&&!os(e)}function qa(e){return ss(e)&&Za(e)}function Ka(e){return e===!0||e===!1||ss(e)&&Er(e)==Xe}function Qa(e){return ss(e)&&1===e.nodeType&&!vs(e)}function Ja(e){if(null==e)return!0;if(Za(e)&&(wh(e)||"string"==typeof e||"function"==typeof e.splice||bh(e)||Sh(e)||gh(e)))return!e.length;var t=Cf(e);if(t==Ze||t==nt)return!e.size;if($i(e))return!$r(e).length;for(var n in e)if(gl.call(e,n))return!1;return!0}function es(e,t){return Br(e,t)}function ts(e,t,n){n="function"==typeof n?n:ne;var r=n?n(e,t):ne;return r===ne?Br(e,t,ne,n):!!r}function ns(e){if(!ss(e))return!1;var t=Er(e);return t==We||t==ze||"string"==typeof e.message&&"string"==typeof e.name&&!vs(e)}function rs(e){return"number"==typeof e&&zl(e)}function os(e){if(!as(e))return!1;var t=Er(e);return t==Ye||t==Ue||t==$e||t==et}function is(e){return"number"==typeof e&&e==As(e)}function us(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Be}function as(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ss(e){return null!=e&&"object"==typeof e}function cs(e,t){return e===t||Dr(e,t,Ai(t))}function ls(e,t,n){return n="function"==typeof n?n:ne,Dr(e,t,Ai(t),n)}function fs(e){return _s(e)&&e!=+e}function hs(e){if(Rf(e))throw new al(ie);return Pr(e)}function ds(e){return null===e}function ps(e){return null==e}function _s(e){return"number"==typeof e||ss(e)&&Er(e)==qe}function vs(e){if(!ss(e)||Er(e)!=Qe)return!1;var t=Cl(e);if(null===t)return!0;var n=gl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&yl.call(n)==Tl}function ms(e){return is(e)&&e>=-Be&&e<=Be}function ys(e){return"string"==typeof e||!wh(e)&&ss(e)&&Er(e)==rt}function gs(e){return"symbol"==typeof e||ss(e)&&Er(e)==ot}function ws(e){return e===ne}function Es(e){return ss(e)&&Cf(e)==ut}function bs(e){return ss(e)&&Er(e)==at}function Ts(e){if(!e)return[];if(Za(e))return ys(e)?Q(e):$o(e);if(Hl&&e[Hl])return X(e[Hl]());var t=Cf(e),n=t==Ze?F:t==nt?Y:nc;return n(e)}function ks(e){if(!e)return 0===e?e:0;if(e=Ss(e),e===Ie||e===-Ie){var t=e<0?-1:1;return t*Me}return e===e?e:0}function As(e){var t=ks(e),n=t%1;return t===t?n?t-n:t:0}function Os(e){return e?Gn(As(e),0,De):0}function Ss(e){if("number"==typeof e)return e;if(gs(e))return He;if(as(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=as(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ht,"");var n=Wt.test(e);return n||Ut.test(e)?nr(e.slice(2),n?2:8):zt.test(e)?He:+e}function Ls(e){return Xo(e,Fs(e))}function xs(e){return Gn(As(e),-Be,Be)}function Cs(e){return null==e?"":yo(e)}function Rs(e,t){var n=mf(e);return null==t?n:Dn(n,t)}function Is(e,t){return w(e,Ti(t,3),ur)}function Bs(e,t){return w(e,Ti(t,3),ar)}function Ms(e,t){return null==e?e:wf(e,Ti(t,3),Fs)}function Hs(e,t){return null==e?e:Ef(e,Ti(t,3),Fs)}function Ds(e,t){return e&&ur(e,Ti(t,3))}function Ps(e,t){return e&&ar(e,Ti(t,3))}function js(e){return null==e?[]:cr(e,Xs(e))}function Ns(e){return null==e?[]:cr(e,Fs(e))}function Gs(e,t,n){var r=null==e?ne:lr(e,t);return r===ne?n:r}function Vs(e,t){return null!=e&&Ci(e,t,kr)}function $s(e,t){return null!=e&&Ci(e,t,Ar)}function Xs(e){return Za(e)?Sn(e):$r(e)}function Fs(e){return Za(e)?Sn(e,!0):Xr(e)}function zs(e,t){var n={};return t=Ti(t,3),ur(e,function(e,r,o){jn(n,t(e,r,o),e)}),n}function Ws(e,t){var n={};return t=Ti(t,3),ur(e,function(e,r,o){jn(n,r,t(e,r,o))}),n}function Ys(e,t){return Us(e,Ha(Ti(t)))}function Us(e,t){if(null==e)return{};var n=d(wi(e),function(e){return[e]});return t=Ti(t),Jr(e,n,function(e,n){return t(e,n[0])})}function Zs(e,t,n){t=Lo(t,e);var r=-1,o=t.length;for(o||(o=1,e=ne);++r<o;){var i=null==e?ne:e[nu(t[r])];i===ne&&(r=o,i=n),e=os(i)?i.call(e):i}return e}function qs(e,t,n){return null==e?e:co(e,t,n)}function Ks(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:co(e,t,n,r)}function Qs(e,t,n){var r=wh(e),o=r||bh(e)||Sh(e);if(t=Ti(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:as(e)&&os(i)?mf(Cl(e)):{}}return(o?a:ur)(e,function(e,r,o){return t(n,e,r,o)}),n}function Js(e,t){return null==e||wo(e,t)}function ec(e,t,n){return null==e?e:Eo(e,t,So(n))}function tc(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:Eo(e,t,So(n),r)}function nc(e){return null==e?[]:M(e,Xs(e))}function rc(e){return null==e?[]:M(e,Fs(e))}function oc(e,t,n){return n===ne&&(n=t,t=ne),n!==ne&&(n=Ss(n),n=n===n?n:0),t!==ne&&(t=Ss(t),t=t===t?t:0),Gn(Ss(e),t,n)}function ic(e,t,n){return t=ks(t),n===ne?(n=t,t=0):n=ks(n),e=Ss(e),Or(e,t,n)}function uc(e,t,n){if(n&&"boolean"!=typeof n&&Pi(e,t,n)&&(t=n=ne),n===ne&&("boolean"==typeof t?(n=t,t=ne):"boolean"==typeof e&&(n=e,e=ne)),e===ne&&t===ne?(e=0,t=1):(e=ks(e),t===ne?(t=e,e=0):t=ks(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Ql();return Zl(e+o*(t-e+tr("1e-"+((o+"").length-1))),t)}return ro(e,t)}function ac(e){return Jh(Cs(e).toLowerCase())}function sc(e){return e=Cs(e),e&&e.replace(qt,yr).replace($n,"")}function cc(e,t,n){e=Cs(e),t=yo(t);var r=e.length;n=n===ne?r:Gn(As(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function lc(e){return e=Cs(e),e&&At.test(e)?e.replace(Tt,gr):e}function fc(e){return e=Cs(e),e&&Mt.test(e)?e.replace(Bt,"\\$&"):e}function hc(e,t,n){e=Cs(e),t=As(t);var r=t?K(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return ai($l(o),n)+e+ai(Vl(o),n)}function dc(e,t,n){e=Cs(e),t=As(t);var r=t?K(e):0;return t&&r<t?e+ai(t-r,n):e}function pc(e,t,n){e=Cs(e),t=As(t);var r=t?K(e):0;return t&&r<t?ai(t-r,n)+e:e}function _c(e,t,n){return n||null==t?t=0:t&&(t=+t),Kl(Cs(e).replace(Dt,""),t||0)}function vc(e,t,n){return t=(n?Pi(e,t,n):t===ne)?1:As(t),io(Cs(e),t)}function mc(){var e=arguments,t=Cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function yc(e,t,n){return n&&"number"!=typeof n&&Pi(e,t,n)&&(t=n=ne),(n=n===ne?De:n>>>0)?(e=Cs(e),e&&("string"==typeof t||null!=t&&!Ah(t))&&(t=yo(t),!t&&V(e))?xo(Q(e),0,n):e.split(t,n)):[]}function gc(e,t,n){return e=Cs(e),n=Gn(As(n),0,e.length),t=yo(t),e.slice(n,n+t.length)==t}function wc(e,t,r){var o=n.templateSettings;r&&Pi(e,t,r)&&(t=ne),e=Cs(e),t=Ih({},t,o,Rn);var i,u,a=Ih({},t.imports,o.imports,Rn),s=Xs(a),c=M(a,s),l=0,f=t.interpolate||Kt,h="__p += '",d=fl((t.escape||Kt).source+"|"+f.source+"|"+(f===Lt?Xt:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Un+"]")+"\n";e.replace(d,function(t,n,r,o,a,s){return r||(r=o),h+=e.slice(l,s).replace(Qt,N),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),h+="';\n";var _=t.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(gt,""):h).replace(wt,"$1").replace(Et,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=ed(function(){return sl(s,p+"return "+h).apply(ne,c)});if(v.source=h,ns(v))throw v;return v}function Ec(e){return Cs(e).toLowerCase()}function bc(e){return Cs(e).toUpperCase()}function Tc(e,t,n){if(e=Cs(e),e&&(n||t===ne))return e.replace(Ht,"");if(!e||!(t=yo(t)))return e;var r=Q(e),o=Q(t),i=D(r,o),u=P(r,o)+1;return xo(r,i,u).join("")}function kc(e,t,n){if(e=Cs(e),e&&(n||t===ne))return e.replace(Pt,"");if(!e||!(t=yo(t)))return e;var r=Q(e),o=P(r,Q(t))+1;return xo(r,0,o).join("")}function Ac(e,t,n){if(e=Cs(e),e&&(n||t===ne))return e.replace(Dt,"");if(!e||!(t=yo(t)))return e;var r=Q(e),o=D(r,Q(t));return xo(r,o).join("")}function Oc(e,t){var n=Ae,r=Oe;if(as(t)){var o="separator"in t?t.separator:o;n="length"in t?As(t.length):n,r="omission"in t?yo(t.omission):r}e=Cs(e);var i=e.length;if(V(e)){var u=Q(e);i=u.length}if(n>=i)return e;var a=n-K(r);if(a<1)return r;var s=u?xo(u,0,a).join(""):e.slice(0,a);if(o===ne)return s+r;if(u&&(a+=s.length-a),Ah(o)){if(e.slice(a).search(o)){var c,l=s;for(o.global||(o=fl(o.source,Cs(Ft.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var f=c.index;s=s.slice(0,f===ne?a:f)}}else if(e.indexOf(yo(o),a)!=a){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+r}function Sc(e){return e=Cs(e),e&&kt.test(e)?e.replace(bt,wr):e}function Lc(e,t,n){return e=Cs(e),t=n?ne:t,t===ne?$(e)?te(e):g(e):e.match(t)||[]}function xc(e){var t=null==e?0:e.length,n=Ti();return e=t?d(e,function(e){if("function"!=typeof e[1])throw new dl(ue);return[n(e[0]),e[1]]}):[],uo(function(n){for(var r=-1;++r<t;){var o=e[r];if(i(o[0],this,n))return i(o[1],this,n)}})}function Cc(e){return Fn(Xn(e,le))}function Rc(e){return function(){return e}}function Ic(e,t){return null==e||e!==e?t:e}function Bc(e){return e}function Mc(e){return Vr("function"==typeof e?e:Xn(e,le))}function Hc(e){return Wr(Xn(e,le))}function Dc(e,t){return Yr(e,Xn(t,le))}function Pc(e,t,n){var r=Xs(t),o=cr(t,r);null!=n||as(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=cr(t,Xs(t)));var i=!(as(n)&&"chain"in n&&!n.chain),u=os(e);return a(o,function(n){var r=t[n];e[n]=r,u&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=$o(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,p([this.value()],arguments))})}),e}function jc(){return ir._===this&&(ir._=kl),this}function Nc(){}function Gc(e){return e=As(e),uo(function(t){return qr(t,e)})}function Vc(e){return ji(e)?O(nu(e)):eo(e)}function $c(e){return function(t){return null==e?ne:lr(e,t)}}function Xc(){return[]}function Fc(){return!1}function zc(){return{}}function Wc(){return""}function Yc(){return!0}function Uc(e,t){if(e=As(e),
e<1||e>Be)return[];var n=De,r=Zl(e,De);t=Ti(t),e-=De;for(var o=R(r,t);++n<e;)t(n);return o}function Zc(e){return wh(e)?d(e,nu):gs(e)?[e]:$o(Hf(Cs(e)))}function qc(e){var t=++wl;return Cs(e)+t}function Kc(e){return e&&e.length?Jn(e,Bc,Tr):ne}function Qc(e,t){return e&&e.length?Jn(e,Ti(t,2),Tr):ne}function Jc(e){return A(e,Bc)}function el(e,t){return A(e,Ti(t,2))}function tl(e){return e&&e.length?Jn(e,Bc,Fr):ne}function nl(e,t){return e&&e.length?Jn(e,Ti(t,2),Fr):ne}function rl(e){return e&&e.length?C(e,Bc):0}function ol(e,t){return e&&e.length?C(e,Ti(t,2)):0}t=null==t?ir:br.defaults(ir.Object(),t,br.pick(ir,Yn));var il=t.Array,ul=t.Date,al=t.Error,sl=t.Function,cl=t.Math,ll=t.Object,fl=t.RegExp,hl=t.String,dl=t.TypeError,pl=il.prototype,_l=sl.prototype,vl=ll.prototype,ml=t["__core-js_shared__"],yl=_l.toString,gl=vl.hasOwnProperty,wl=0,El=function(){var e=/[^.]+$/.exec(ml&&ml.keys&&ml.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bl=vl.toString,Tl=yl.call(ll),kl=ir._,Al=fl("^"+yl.call(gl).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ol=sr?t.Buffer:ne,Sl=t.Symbol,Ll=t.Uint8Array,xl=Ol?Ol.allocUnsafe:ne,Cl=z(ll.getPrototypeOf,ll),Rl=ll.create,Il=vl.propertyIsEnumerable,Bl=pl.splice,Ml=Sl?Sl.isConcatSpreadable:ne,Hl=Sl?Sl.iterator:ne,Dl=Sl?Sl.toStringTag:ne,Pl=function(){try{var e=Oi(ll,"defineProperty");return e({},"",{}),e}catch(e){}}(),jl=t.clearTimeout!==ir.clearTimeout&&t.clearTimeout,Nl=ul&&ul.now!==ir.Date.now&&ul.now,Gl=t.setTimeout!==ir.setTimeout&&t.setTimeout,Vl=cl.ceil,$l=cl.floor,Xl=ll.getOwnPropertySymbols,Fl=Ol?Ol.isBuffer:ne,zl=t.isFinite,Wl=pl.join,Yl=z(ll.keys,ll),Ul=cl.max,Zl=cl.min,ql=ul.now,Kl=t.parseInt,Ql=cl.random,Jl=pl.reverse,ef=Oi(t,"DataView"),tf=Oi(t,"Map"),nf=Oi(t,"Promise"),rf=Oi(t,"Set"),of=Oi(t,"WeakMap"),uf=Oi(ll,"create"),af=of&&new of,sf={},cf=ru(ef),lf=ru(tf),ff=ru(nf),hf=ru(rf),df=ru(of),pf=Sl?Sl.prototype:ne,_f=pf?pf.valueOf:ne,vf=pf?pf.toString:ne,mf=function(){function e(){}return function(t){if(!as(t))return{};if(Rl)return Rl(t);e.prototype=t;var n=new e;return e.prototype=ne,n}}();n.templateSettings={escape:Ot,evaluate:St,interpolate:Lt,variable:"",imports:{_:n}},n.prototype=y.prototype,n.prototype.constructor=n,S.prototype=mf(y.prototype),S.prototype.constructor=S,Z.prototype=mf(y.prototype),Z.prototype.constructor=Z,Jt.prototype.clear=en,Jt.prototype.delete=tn,Jt.prototype.get=nn,Jt.prototype.has=rn,Jt.prototype.set=on,un.prototype.clear=an,un.prototype.delete=sn,un.prototype.get=cn,un.prototype.has=ln,un.prototype.set=fn,hn.prototype.clear=dn,hn.prototype.delete=pn,hn.prototype.get=_n,hn.prototype.has=vn,hn.prototype.set=mn,yn.prototype.add=yn.prototype.push=gn,yn.prototype.has=wn,En.prototype.clear=bn,En.prototype.delete=Tn,En.prototype.get=kn,En.prototype.has=An,En.prototype.set=On;var yf=Uo(ur),gf=Uo(ar,!0),wf=Zo(),Ef=Zo(!0),bf=af?function(e,t){return af.set(e,t),e}:Bc,Tf=Pl?function(e,t){return Pl(e,"toString",{configurable:!0,enumerable:!1,value:Rc(t),writable:!0})}:Bc,kf=uo,Af=jl||function(e){return ir.clearTimeout(e)},Of=rf&&1/Y(new rf([,-0]))[1]==Ie?function(e){return new rf(e)}:Nc,Sf=af?function(e){return af.get(e)}:Nc,Lf=Xl?z(Xl,ll):Xc,xf=Xl?function(e){for(var t=[];e;)p(t,Lf(e)),e=Cl(e);return t}:Xc,Cf=Er;(ef&&Cf(new ef(new ArrayBuffer(1)))!=ct||tf&&Cf(new tf)!=Ze||nf&&Cf(nf.resolve())!=Je||rf&&Cf(new rf)!=nt||of&&Cf(new of)!=ut)&&(Cf=function(e){var t=Er(e),n=t==Qe?e.constructor:ne,r=n?ru(n):"";if(r)switch(r){case cf:return ct;case lf:return Ze;case ff:return Je;case hf:return nt;case df:return ut}return t});var Rf=ml?os:Fc,If=eu(bf),Bf=Gl||function(e,t){return ir.setTimeout(e,t)},Mf=eu(Tf),Hf=zi(function(e){var t=[];return Rt.test(e)&&t.push(""),e.replace(It,function(e,n,r,o){t.push(r?o.replace($t,"$1"):n||e)}),t}),Df=uo(function(e,t){return qa(e)?Kn(e,or(t,1,qa,!0)):[]}),Pf=uo(function(e,t){var n=ku(t);return qa(n)&&(n=ne),qa(e)?Kn(e,or(t,1,qa,!0),Ti(n,2)):[]}),jf=uo(function(e,t){var n=ku(t);return qa(n)&&(n=ne),qa(e)?Kn(e,or(t,1,qa,!0),ne,n):[]}),Nf=uo(function(e){var t=d(e,Oo);return t.length&&t[0]===e[0]?Sr(t):[]}),Gf=uo(function(e){var t=ku(e),n=d(e,Oo);return t===ku(n)?t=ne:n.pop(),n.length&&n[0]===e[0]?Sr(n,Ti(t,2)):[]}),Vf=uo(function(e){var t=ku(e),n=d(e,Oo);return t="function"==typeof t?t:ne,t&&n.pop(),n.length&&n[0]===e[0]?Sr(n,ne,t):[]}),$f=uo(Su),Xf=yi(function(e,t){var n=null==e?0:e.length,r=Nn(e,t);return no(e,d(t,function(e){return Di(e,n)?+e:e}).sort(jo)),r}),Ff=uo(function(e){return go(or(e,1,qa,!0))}),zf=uo(function(e){var t=ku(e);return qa(t)&&(t=ne),go(or(e,1,qa,!0),Ti(t,2))}),Wf=uo(function(e){var t=ku(e);return t="function"==typeof t?t:ne,go(or(e,1,qa,!0),ne,t)}),Yf=uo(function(e,t){return qa(e)?Kn(e,t):[]}),Uf=uo(function(e){return ko(l(e,qa))}),Zf=uo(function(e){var t=ku(e);return qa(t)&&(t=ne),ko(l(e,qa),Ti(t,2))}),qf=uo(function(e){var t=ku(e);return t="function"==typeof t?t:ne,ko(l(e,qa),ne,t)}),Kf=uo(Zu),Qf=uo(function(e){var t=e.length,n=t>1?e[t-1]:ne;return n="function"==typeof n?(e.pop(),n):ne,qu(e,n)}),Jf=yi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Nn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Z&&Di(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ta,args:[o],thisArg:ne}),new S(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ne),e})):this.thru(o)}),eh=Wo(function(e,t,n){gl.call(e,n)?++e[n]:jn(e,n,1)}),th=ti(pu),nh=ti(_u),rh=Wo(function(e,t,n){gl.call(e,n)?e[n].push(t):jn(e,n,[t])}),oh=uo(function(e,t,n){var r=-1,o="function"==typeof t,u=Za(e)?il(e.length):[];return yf(e,function(e){u[++r]=o?i(t,e,n):xr(e,t,n)}),u}),ih=Wo(function(e,t,n){jn(e,n,t)}),uh=Wo(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ah=uo(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Pi(e,t[0],t[1])?t=[]:n>2&&Pi(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,or(t,1),[])}),sh=Nl||function(){return ir.Date.now()},ch=uo(function(e,t,n){var r=_e;if(n.length){var o=W(n,bi(ch));r|=we}return pi(e,r,t,n,o)}),lh=uo(function(e,t,n){var r=_e|ve;if(n.length){var o=W(n,bi(lh));r|=we}return pi(t,r,e,n,o)}),fh=uo(function(e,t){return Wn(e,1,t)}),hh=uo(function(e,t,n){return Wn(e,Ss(t)||0,n)});Ma.Cache=hn;var dh=kf(function(e,t){t=1==t.length&&wh(t[0])?d(t[0],B(Ti())):d(or(t,1),B(Ti()));var n=t.length;return uo(function(r){for(var o=-1,u=Zl(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return i(e,this,r)})}),ph=uo(function(e,t){var n=W(t,bi(ph));return pi(e,we,ne,t,n)}),_h=uo(function(e,t){var n=W(t,bi(_h));return pi(e,Ee,ne,t,n)}),vh=yi(function(e,t){return pi(e,Te,ne,ne,ne,t)}),mh=li(Tr),yh=li(function(e,t){return e>=t}),gh=Cr(function(){return arguments}())?Cr:function(e){return ss(e)&&gl.call(e,"callee")&&!Il.call(e,"callee")},wh=il.isArray,Eh=fr?B(fr):Rr,bh=Fl||Fc,Th=hr?B(hr):Ir,kh=dr?B(dr):Hr,Ah=pr?B(pr):jr,Oh=_r?B(_r):Nr,Sh=vr?B(vr):Gr,Lh=li(Fr),xh=li(function(e,t){return e<=t}),Ch=Yo(function(e,t){if($i(t)||Za(t))return void Xo(t,Xs(t),e);for(var n in t)gl.call(t,n)&&Bn(e,n,t[n])}),Rh=Yo(function(e,t){Xo(t,Fs(t),e)}),Ih=Yo(function(e,t,n,r){Xo(t,Fs(t),e,r)}),Bh=Yo(function(e,t,n,r){Xo(t,Xs(t),e,r)}),Mh=yi(Nn),Hh=uo(function(e){return e.push(ne,Rn),i(Ih,ne,e)}),Dh=uo(function(e){return e.push(ne,Yi),i(Vh,ne,e)}),Ph=oi(function(e,t,n){e[t]=n},Rc(Bc)),jh=oi(function(e,t,n){gl.call(e,t)?e[t].push(n):e[t]=[n]},Ti),Nh=uo(xr),Gh=Yo(function(e,t,n){Ur(e,t,n)}),Vh=Yo(function(e,t,n,r){Ur(e,t,n,r)}),$h=yi(function(e,t){var n={};if(null==e)return n;var r=!1;t=d(t,function(t){return t=Lo(t,e),r||(r=t.length>1),t}),Xo(e,wi(e),n),r&&(n=Xn(n,le|fe|he));for(var o=t.length;o--;)wo(n,t[o]);return n}),Xh=yi(function(e,t){return null==e?{}:Qr(e,t)}),Fh=di(Xs),zh=di(Fs),Wh=Qo(function(e,t,n){return t=t.toLowerCase(),e+(n?ac(t):t)}),Yh=Qo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Uh=Qo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Zh=Ko("toLowerCase"),qh=Qo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Kh=Qo(function(e,t,n){return e+(n?" ":"")+Jh(t)}),Qh=Qo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Jh=Ko("toUpperCase"),ed=uo(function(e,t){try{return i(e,ne,t)}catch(e){return ns(e)?e:new al(e)}}),td=yi(function(e,t){return a(t,function(t){t=nu(t),jn(e,t,ch(e[t],e))}),e}),nd=ni(),rd=ni(!0),od=uo(function(e,t){return function(n){return xr(n,e,t)}}),id=uo(function(e,t){return function(n){return xr(e,n,t)}}),ud=ui(d),ad=ui(c),sd=ui(m),cd=ci(),ld=ci(!0),fd=ii(function(e,t){return e+t},0),hd=hi("ceil"),dd=ii(function(e,t){return e/t},1),pd=hi("floor"),_d=ii(function(e,t){return e*t},1),vd=hi("round"),md=ii(function(e,t){return e-t},0);return n.after=Sa,n.ary=La,n.assign=Ch,n.assignIn=Rh,n.assignInWith=Ih,n.assignWith=Bh,n.at=Mh,n.before=xa,n.bind=ch,n.bindAll=td,n.bindKey=lh,n.castArray=$a,n.chain=Ju,n.chunk=uu,n.compact=au,n.concat=su,n.cond=xc,n.conforms=Cc,n.constant=Rc,n.countBy=eh,n.create=Rs,n.curry=Ca,n.curryRight=Ra,n.debounce=Ia,n.defaults=Hh,n.defaultsDeep=Dh,n.defer=fh,n.delay=hh,n.difference=Df,n.differenceBy=Pf,n.differenceWith=jf,n.drop=cu,n.dropRight=lu,n.dropRightWhile=fu,n.dropWhile=hu,n.fill=du,n.filter=la,n.flatMap=fa,n.flatMapDeep=ha,n.flatMapDepth=da,n.flatten=vu,n.flattenDeep=mu,n.flattenDepth=yu,n.flip=Ba,n.flow=nd,n.flowRight=rd,n.fromPairs=gu,n.functions=js,n.functionsIn=Ns,n.groupBy=rh,n.initial=bu,n.intersection=Nf,n.intersectionBy=Gf,n.intersectionWith=Vf,n.invert=Ph,n.invertBy=jh,n.invokeMap=oh,n.iteratee=Mc,n.keyBy=ih,n.keys=Xs,n.keysIn=Fs,n.map=ma,n.mapKeys=zs,n.mapValues=Ws,n.matches=Hc,n.matchesProperty=Dc,n.memoize=Ma,n.merge=Gh,n.mergeWith=Vh,n.method=od,n.methodOf=id,n.mixin=Pc,n.negate=Ha,n.nthArg=Gc,n.omit=$h,n.omitBy=Ys,n.once=Da,n.orderBy=ya,n.over=ud,n.overArgs=dh,n.overEvery=ad,n.overSome=sd,n.partial=ph,n.partialRight=_h,n.partition=uh,n.pick=Xh,n.pickBy=Us,n.property=Vc,n.propertyOf=$c,n.pull=$f,n.pullAll=Su,n.pullAllBy=Lu,n.pullAllWith=xu,n.pullAt=Xf,n.range=cd,n.rangeRight=ld,n.rearg=vh,n.reject=Ea,n.remove=Cu,n.rest=Pa,n.reverse=Ru,n.sampleSize=Ta,n.set=qs,n.setWith=Ks,n.shuffle=ka,n.slice=Iu,n.sortBy=ah,n.sortedUniq=Nu,n.sortedUniqBy=Gu,n.split=yc,n.spread=ja,n.tail=Vu,n.take=$u,n.takeRight=Xu,n.takeRightWhile=Fu,n.takeWhile=zu,n.tap=ea,n.throttle=Na,n.thru=ta,n.toArray=Ts,n.toPairs=Fh,n.toPairsIn=zh,n.toPath=Zc,n.toPlainObject=Ls,n.transform=Qs,n.unary=Ga,n.union=Ff,n.unionBy=zf,n.unionWith=Wf,n.uniq=Wu,n.uniqBy=Yu,n.uniqWith=Uu,n.unset=Js,n.unzip=Zu,n.unzipWith=qu,n.update=ec,n.updateWith=tc,n.values=nc,n.valuesIn=rc,n.without=Yf,n.words=Lc,n.wrap=Va,n.xor=Uf,n.xorBy=Zf,n.xorWith=qf,n.zip=Kf,n.zipObject=Ku,n.zipObjectDeep=Qu,n.zipWith=Qf,n.entries=Fh,n.entriesIn=zh,n.extend=Rh,n.extendWith=Ih,Pc(n,n),n.add=fd,n.attempt=ed,n.camelCase=Wh,n.capitalize=ac,n.ceil=hd,n.clamp=oc,n.clone=Xa,n.cloneDeep=za,n.cloneDeepWith=Wa,n.cloneWith=Fa,n.conformsTo=Ya,n.deburr=sc,n.defaultTo=Ic,n.divide=dd,n.endsWith=cc,n.eq=Ua,n.escape=lc,n.escapeRegExp=fc,n.every=ca,n.find=th,n.findIndex=pu,n.findKey=Is,n.findLast=nh,n.findLastIndex=_u,n.findLastKey=Bs,n.floor=pd,n.forEach=pa,n.forEachRight=_a,n.forIn=Ms,n.forInRight=Hs,n.forOwn=Ds,n.forOwnRight=Ps,n.get=Gs,n.gt=mh,n.gte=yh,n.has=Vs,n.hasIn=$s,n.head=wu,n.identity=Bc,n.includes=va,n.indexOf=Eu,n.inRange=ic,n.invoke=Nh,n.isArguments=gh,n.isArray=wh,n.isArrayBuffer=Eh,n.isArrayLike=Za,n.isArrayLikeObject=qa,n.isBoolean=Ka,n.isBuffer=bh,n.isDate=Th,n.isElement=Qa,n.isEmpty=Ja,n.isEqual=es,n.isEqualWith=ts,n.isError=ns,n.isFinite=rs,n.isFunction=os,n.isInteger=is,n.isLength=us,n.isMap=kh,n.isMatch=cs,n.isMatchWith=ls,n.isNaN=fs,n.isNative=hs,n.isNil=ps,n.isNull=ds,n.isNumber=_s,n.isObject=as,n.isObjectLike=ss,n.isPlainObject=vs,n.isRegExp=Ah,n.isSafeInteger=ms,n.isSet=Oh,n.isString=ys,n.isSymbol=gs,n.isTypedArray=Sh,n.isUndefined=ws,n.isWeakMap=Es,n.isWeakSet=bs,n.join=Tu,n.kebabCase=Yh,n.last=ku,n.lastIndexOf=Au,n.lowerCase=Uh,n.lowerFirst=Zh,n.lt=Lh,n.lte=xh,n.max=Kc,n.maxBy=Qc,n.mean=Jc,n.meanBy=el,n.min=tl,n.minBy=nl,n.stubArray=Xc,n.stubFalse=Fc,n.stubObject=zc,n.stubString=Wc,n.stubTrue=Yc,n.multiply=_d,n.nth=Ou,n.noConflict=jc,n.noop=Nc,n.now=sh,n.pad=hc,n.padEnd=dc,n.padStart=pc,n.parseInt=_c,n.random=uc,n.reduce=ga,n.reduceRight=wa,n.repeat=vc,n.replace=mc,n.result=Zs,n.round=vd,n.runInContext=e,n.sample=ba,n.size=Aa,n.snakeCase=qh,n.some=Oa,n.sortedIndex=Bu,n.sortedIndexBy=Mu,n.sortedIndexOf=Hu,n.sortedLastIndex=Du,n.sortedLastIndexBy=Pu,n.sortedLastIndexOf=ju,n.startCase=Kh,n.startsWith=gc,n.subtract=md,n.sum=rl,n.sumBy=ol,n.template=wc,n.times=Uc,n.toFinite=ks,n.toInteger=As,n.toLength=Os,n.toLower=Ec,n.toNumber=Ss,n.toSafeInteger=xs,n.toString=Cs,n.toUpper=bc,n.trim=Tc,n.trimEnd=kc,n.trimStart=Ac,n.truncate=Oc,n.unescape=Sc,n.uniqueId=qc,n.upperCase=Qh,n.upperFirst=Jh,n.each=pa,n.eachRight=_a,n.first=wu,Pc(n,function(){var e={};return ur(n,function(t,r){gl.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION=re,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),a(["drop","take"],function(e,t){Z.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Z(this);n=n===ne?1:Ul(As(n),0);var o=this.clone();return r?o.__takeCount__=Zl(n,o.__takeCount__):o.__views__.push({size:Zl(n,De),type:e+(o.__dir__<0?"Right":"")}),o},Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),a(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==xe||n==Re;Z.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ti(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),a(["head","last"],function(e,t){var n="take"+(t?"Right":"");Z.prototype[e]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[n](1)}}),Z.prototype.compact=function(){return this.filter(Bc)},Z.prototype.find=function(e){return this.filter(e).head()},Z.prototype.findLast=function(e){return this.reverse().find(e)},Z.prototype.invokeMap=uo(function(e,t){return"function"==typeof e?new Z(this):this.map(function(n){return xr(n,e,t)})}),Z.prototype.reject=function(e){return this.filter(Ha(Ti(e)))},Z.prototype.slice=function(e,t){e=As(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Z(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ne&&(t=As(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Z.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Z.prototype.toArray=function(){return this.take(De)},ur(Z.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=n[o?"take"+("last"==t?"Right":""):t],u=o||/^find/.test(t);i&&(n.prototype[t]=function(){var t=this.__wrapped__,a=o?[1]:arguments,s=t instanceof Z,c=a[0],l=s||wh(t),f=function(e){var t=i.apply(n,p([e],a));return o&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,_=u&&!h,v=s&&!d;if(!u&&l){t=v?t:new Z(this);var m=e.apply(t,a);return m.__actions__.push({func:ta,args:[f],thisArg:ne}),new S(m,h)}return _&&v?e.apply(this,a):(m=this.thru(f),_?o?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(e){var t=pl[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(wh(n)?n:[],e)}return this[r](function(n){return t.apply(wh(n)?n:[],e)})}}),ur(Z.prototype,function(e,t){var r=n[t];if(r){var o=r.name+"",i=sf[o]||(sf[o]=[]);i.push({name:t,func:r})}}),sf[ri(ne,ve).name]=[{name:"wrapper",func:ne}],Z.prototype.clone=J,Z.prototype.reverse=ee,Z.prototype.value=Vt,n.prototype.at=Jf,n.prototype.chain=na,n.prototype.commit=ra,n.prototype.next=oa,n.prototype.plant=ua,n.prototype.reverse=aa,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=sa,n.prototype.first=n.prototype.head,Hl&&(n.prototype[Hl]=ia),n},br=Er();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ir._=br,define(function(){return br})):ar?((ar.exports=br)._=br,ur._=br):ir._=br}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("js-cookie"),a=r(u),s=e("howler"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.COOKIE_NAME=t.COOKIE_NAME||"isMute",this.EXPIRES_DATE=t.EXPIRES_DATE,this.disableBlurPause=!!t.disableBlurPause,this.isMute=this.getCookie(),this.isPaused=!1,this.isPlayng=!1,this.toggleMute(this.isMute),this.sound=new s.Howl(t.howl),this.initListeners()}return i(e,[{key:"initListeners",value:function(){var e=this;this.disableBlurPause||$(window).on("blur",function(){e.pause()}).on("focus",function(){e.play()})}},{key:"play",value:function(){return this.isMute||this.isPlayng?this:(this.isPaused=!1,this.isPlayng=!0,this.sound.play(),this)}},{key:"pause",value:function(){return this.isPaused=!0,this.isPlayng=!1,this.sound.pause(),this}},{key:"togglePlay",value:function(e){return void 0===e&&(e=!this.isPaused),e?this.play():this.pause(),this}},{key:"mute",value:function(){return this.isMute=!0,this.setCookie(this.isMute),this}},{key:"unmute",value:function(){return this.isMute=!1,this.setCookie(this.isMute),this}},{key:"toggleMute",value:function(e){return void 0===e&&(e=!this.getCookie()),e?this.mute():this.unmute(),this}},{key:"setCookie",value:function(e){return a.default.set(this.COOKIE_NAME,e,{expires:this.EXPIRES_DATE})}},{key:"getCookie",value:function(){var e=a.default.get(this.COOKIE_NAME);return"true"===e}},{key:"hasCookie",value:function(){return void 0!==a.default.get(this.COOKIE_NAME)}}]),e}();n.default=c},{howler:2,"js-cookie":3}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("eventemitter2"),c=e("./TouchController"),l=r(c),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.element=e.element,n.maxDistance=e.maxDistance,n.holdingDelay=e.holdingDelay||1e3,n.watchInterval=e.watchInterval||100,n.position={x:0,y:0},n.setEvent(),n}return u(t,e),a(t,[{key:"setEvent",value:function(){var e=this,t=new l.default({touchstartElement:this.element,touchmoveElement:document,touchendElement:document,holdingDelay:this.holdingDelay,watchInterval:this.watchInterval});t.on("touchstart",function(e){}),t.on("touchmove",function(t){e.movePosition({x:-t.deltaX,y:-t.deltaY})}),t.on("touchend",function(t){e.animatePosition({x:0,y:0}),t.isDoubleTap&&e.emit("doubletapped"),e.emit("touchend")}),t.on("touchholding",function(t){e.emit("holding",e.position)})}},{key:"movePosition",value:function(e){var t=this.position,n={x:t.x-e.x,y:t.y-e.y};this.jumpPosition(n),this.emit("moved",this.position)}},{key:"animatePosition",value:function(e){var t=this;e&&$(this.position).animate(e,{step:function(e,n){var r={};r[n.prop]=n.now,t.jumpPosition(r)},complete:function(){t.setPosition(e),t.emit("animateend",t.position)}})}},{key:"jumpPosition",value:function(e){if(e){var t=e.x||this.position.x,n=e.y||this.position.y,r=Math.sqrt(t*t+n*n);if(this.maxDistance&&r>this.maxDistance){var o=this.maxDistance/r;t*=o,n*=o,e.x=t,e.y=n}this.element.style.transform="translate("+t+"px, "+n+"px)",this.setPosition(e),this.emit("jumped",this.position)}}},{key:"setPosition",value:function(e){Object.assign(this.position,e)}}]),t}(s.EventEmitter2);n.default=f},{"./TouchController":12,eventemitter2:1}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(){r(this,e),this.COLS=7,this.ROWS=9,this.VOXEL_LENGTH=4,this.VOXEL_SIZE=55,this.START_X=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.START_Y=0,this.START_Z=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.HIDDEN_ROWS=this.VOXEL_LENGTH,this.LOGICAL_ROWS=this.ROWS+this.HIDDEN_ROWS,this.WIDTH=this.VOXEL_SIZE*this.COLS,this.HEIGHT=this.VOXEL_SIZE*this.ROWS,this.CENTER_X=this.WIDTH/2,this.CENTER_Y=this.HEIGHT/2,this.CENTER_Z=this.WIDTH/2,this.FIELD_MARK_LENGTH=50,this.RENDER_INTERVAL=30,this.TICK_INTERVAL=1200,this.SPEEDUP_RATE=100,this.CLEARLINE_EFFECT_INTERVAL=50,this.AUTO_ROTATE_SPEED=.02,this.STICK_WEIGHT=850,this.STICK_CONTROLL_THROTTLE=50,this.CAMERA_HEIGHT_DEFAULT=300,this.CAMERA_DISTANCE_DEFAULT=1400,this.GOAL_LINES_RATE=5,this.SHADOW_BLOCK={id:8,color:"#000",opacity:.3,scale:.99},this.CLEARLINE_BLOCK={id:9,color:"#aaa"},this.GAMEOVER_BLOCK={id:10,color:"#777"},this.BLOCK_LIST=[{id:0,color:"#FF6666",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:1,color:"#FFCC66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:2,color:"#FFFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,1],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:3,color:"#CCFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:4,color:"#66FF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:5,color:"#66FFCC",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:6,color:"#66FFFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:7,color:"#66CCFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}]};t.exports=new o},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("lodash"),c=r(s),l=e("eventemitter2"),f=e("./Util"),h=r(f),d=e("./TouchController"),p=r(d),_=e("./StickController"),v=r(_),m=e("./TetricusCONST"),y=r(m),g=y.default,w=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.model=e,r.view=n,r.rootElm=document.querySelector(".js-game-controller"),r.stickTouchareaElm=document.querySelector(".js-stick-toucharea"),r.infoLevelElm=document.querySelector(".js-info-level"),r.infoScoreElm=document.querySelector(".js-info-score"),r.infoLinesElm=document.querySelector(".js-info-lines"),r.touch=new p.default({touchstartElement:r.rootElm,touchmoveElement:document,touchendElement:document,holdingDelay:200,watchInterval:100}),r.stick=new v.default({element:r.stickTouchareaElm,maxDistance:30,holdingDelay:50,watchInterval:g.STICK_CONTROLL_THROTTLE}),r.isAutoMode=!1,r.isTutorialMode=!1,r.isPlayngGame=!1,r.isPausingGame=!1,r.initModelEvent(),r.initResizeEvent(),r.initBlurEvent(),r.initKeyEvent(),r.initTouchEvent(),r.initStickController(),r}return u(t,e),a(t,[{key:"newGame",value:function(){this.view.dispose(),this.view.init(),this.view.start(),this.model.initGame(),this.model.startGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("startGame")}},{key:"pauseGame",value:function(){this.view.stop(),this.model.pauseGame(),this.isPlayngGame=!1,this.isPausingGame=!0,this.saveDataToStrage(),this.emit("pauseGame")}},{key:"resumeGame",value:function(){this.view.start(),this.model.resumeGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("resumeGame")}},{key:"resumeLastGame",value:function(){var e=this.getStrageData();return this.setDataToModel(e),this.model.checkGameOver()?void this.newGame():(this.view.isAutoRotate=!1,this.view.dispose(),this.view.init(),this.view.start(),this.view.drawCurrentBlock(this.model.currentBlock),this.isPlayngGame=!0,this.isPausingGame=!1,this.model.resumeGame(),void this.updateBoard())}},{key:"setAutoMode",value:function(){this.isAutoMode=!0,this.isTutorialMode=!1,this.view.isAutoRotate=!0}},{key:"setTutorialMode",value:function(){this.isAutoMode=!1,this.isTutorialMode=!0,this.view.isAutoRotate=!1,this.view.setCamera()}},{key:"initModelEvent",value:function(){var e=this;this.model.on("gamestart",function(){e.view.isAutoRotate=e.isAutoMode}),this.model.on("newblockcreated",function(){}),this.model.on("currentblockcreated",function(){e.view.drawCurrentBlock(e.model.currentBlock);var t=e.getShadowBlock(),n=e.setBlockToBoard(t);e.updateBoard(n)}),this.model.on("nextblockcreated",function(){}),this.model.on("gameover",function(){e.isAutoMode||e.isTutorialMode?e.newGame():e.view.isAutoRotate=!0,e.emit("gameover")}),this.model.on("tick",function(t){e.view.moveCurrentBlock(e.model.currentBlock);var n=e.getShadowBlock(),r=e.setBlockToBoard(n);e.updateBoard(r),e.isAutoMode||e.isTutorialMode||e.saveDataToStrage()}),this.model.on("blockmoved",function(){e.view.moveCurrentBlock(e.model.currentBlock);var t=e.getShadowBlock(),n=e.setBlockToBoard(t);e.updateBoard(n)}),this.model.on("gamequit",function(){}),this.model.on("freeze",function(){e.updateBoard()}),this.model.on("clearline",function(){e.updateBoard(),e.infoLevelElm.innerText=e.model.level,e.infoScoreElm.innerText=h.default.zeroPadding(e.model.score,4),e.infoLinesElm.innerText=h.default.zeroPadding(e.model.sumOfClearLines,4)}),this.model.on("beforeDropClearLines",function(t){var n=$.Deferred();n.resolve().then(function(){e.model.pauseGame()}).then(e.effectClearLine(t)).then(function(){e.model.resumeGame(),t.dfd.resolve()})}),this.model.on("afterDropClearLines",function(){e.updateBoard()})}},{key:"effectClearLine",value:function(e){var t=this;return function(){var n=$.Deferred(),r=$.Deferred();r.resolve();var o=function(e,n,o,i){r=r.then(h.default.sleep(g.CLEARLINE_EFFECT_INTERVAL)).then(function(){e[i][o][n]=g.CLEARLINE_BLOCK.id+1,t.updateBoard(e)})};return e.filledRowList.reverse().forEach(function(e,n){var r=e[0],i=e[1];(r.length||i.length)&&(r.forEach(function(e){for(var r=c.default.cloneDeep(t.model.board),i=0;i<g.COLS;++i)r[i][n][e]&&o(r,e,n,i)}),i.forEach(function(e){for(var r=c.default.cloneDeep(t.model.board),i=0;i<g.COLS;++i)r[e][n][i]&&o(r,i,n,e)}))}),r.then(function(){n.resolve()}),n.promise()}}},{key:"getShadowBlock",value:function(){var e=c.default.clone(this.model.currentBlock);return e.id=g.SHADOW_BLOCK.id,this.model.dropBlockY(e),e}},{key:"setBlockToBoard",value:function(e){for(var t=c.default.cloneDeep(this.model.board),n=0;n<g.VOXEL_LENGTH;++n)for(var r=0;r<g.VOXEL_LENGTH;++r)for(var o=0;o<g.VOXEL_LENGTH;++o){var i=o+e.x,u=r+e.y,a=n+e.z;!e.shape[n][r][o]||a<0||(t[a][u][i]=e.shape[n][r][o]?e.id+1:0)}return t}},{key:"initResizeEvent",value:function(){var e=this;window.addEventListener("resize",function(){e.view.setSize()},!1)}},{key:"initBlurEvent",value:function(){var e=this;window.addEventListener("blur",function(){e.pauseGame()},!1),window.addEventListener("focus",function(){(e.isAutoMode||e.isTutorialMode)&&e.resumeGame()},!1)}},{key:"initKeyEvent",value:function(){var e=this,t=[[37,"left"],[39,"right"],[40,"forward"],[38,"backward"],[32,"rotate"],[16,"rotateX"],[17,"rotateY"],[13,"drop"],[27,"pause"],[48,"pers"],[49,"ortho1"],[50,"ortho2"],[51,"ortho3"],[67,"camera"],[66,"block"]],n=new Map(t);document.addEventListener("keydown",function(t){if(e.isPlayngGame){var r=n.get(t.keyCode);r&&(t.preventDefault(),e.handleMethod(r))}},!1)}},{key:"handleMethod",value:function(e){switch(e){case"left":this.moveBlockRightAndLeft(-1);break;case"right":this.moveBlockRightAndLeft(1);break;case"forward":this.moveBlockBackAndForward(1);break;case"backward":this.moveBlockBackAndForward(-1);break;case"rotate":this.rotateBlock();break;case"rotateX":this.rotateBlockHorizontal();break;case"rotateY":this.rotateBlockVertical();break;case"drop":this.dropBlock();break;case"pause":this.pauseGame();break;case"pers":break;case"ortho1":break;case"ortho2":break;case"ortho3":break;case"camera":this.switchModeCamera();break;case"block":this.switchModeBlock()}}},{key:"initTouchEvent",value:function(){var e=this,t=void 0,n=void 0,r=!1,o=!1;this.model.on("freeze",function(){r=!0}),this.touch.on("touchstart",function(e){t=e.touchStartX,n=e.touchStartY,r=!1}),this.touch.on("touchmove",function(i){var u=i.touchX-t,a=i.touchY-n,s=u/g.VOXEL_SIZE|0,c=a/g.VOXEL_SIZE|0;if(!r){for((s||c)&&(o=!0);s;){var l=s/Math.abs(s);e.moveBlockRightAndLeft(l),s-=l,t=i.touchX}for(;c;){var f=c/Math.abs(c);e.moveBlockBackAndForward(f),c-=f,n=i.touchY}}}),this.touch.on("touchend",function(t){var n=e.rootElm,r=.25*n.clientHeight,i=.5*n.clientWidth,u=n.clientHeight-r;t.isDoubleTap,t.isTap&&(t.touchEndY<r?(e.rotateBlockVertical(!0),e.emit("taptop")):t.touchEndY>u?(e.rotateBlockVertical(!1),e.emit("tapbottom")):t.touchEndX<i?(e.rotateBlockHorizontal(!1),e.emit("tapleft")):(e.rotateBlockHorizontal(!0),e.emit("tapright"))),e.emit("touchend",{isBlockMoved:o}),o=!1}),this.touch.on("touchholding",function(){e.model.moveBlockY()})}},{key:"initStickController",value:function(){var e=this,t=!1;this.stick.on("moved",h.default.throttle(function(n){t=!0,e.rotateView(n)},g.STICK_CONTROLL_THROTTLE)),this.stick.on("doubletapped",function(){e.view.setCamera()}),this.stick.on("holding",function(t){e.rotateView(t)}),this.stick.on("touchend",function(){e.emit("stickTouchend",{isStickMoved:t}),t=!1})}},{key:"rotateView",value:function(e){var t=this,n=e.x/-g.STICK_WEIGHT,r=e.y/-g.STICK_WEIGHT;r<0&&this.view.camera.position.y>g.HEIGHT&&(this.view.camera.position.y=g.HEIGHT,r=0),this.model.pauseGame(),this.view.controls.rotate({
x:n,y:r}),setTimeout(function(){t.model.resumeGame()})}},{key:"switchModeCamera",value:function(){this.touch.dispose(),this.view.enableControls(),this.emit("switchModeCamera")}},{key:"switchModeBlock",value:function(){this.touch.setEvent(),this.view.disableControls(),this.emit("switchModeBlock")}},{key:"changeRotateDirection",value:function(){this.isVertical=!this.isVertical,this.emit("changeRotateDirection")}},{key:"updateBoard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.model.board;e=c.default.cloneDeep(e),e.forEach(function(e){e.splice(0,g.HIDDEN_ROWS)}),this.view.disposeBoard(),this.view.drawBoard(e)}},{key:"rotateBlock",value:function(){this.isVertical?this.rotateBlockVertical():this.rotateBlockHorizontal()}},{key:"rotateBlockHorizontal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.model.rotateBlockXZ(e)}},{key:"rotateBlockVertical",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.view.checkCameraDirection();0!==t.x&&this.model.rotateBlockXY(e?t.x<0:t.x>=0),0!==t.z&&this.model.rotateBlockZY(e?t.z<0:t.z>=0)}},{key:"moveBlockRightAndLeft",value:function(e){var t=this.view.checkCameraDirection();0!==t.x&&this.model.moveBlockZ(e*t.x),0!==t.z&&this.model.moveBlockX(e*-t.z)}},{key:"moveBlockBackAndForward",value:function(e){var t=this.view.checkCameraDirection();0!==t.x&&this.model.moveBlockX(e*t.x),0!==t.z&&this.model.moveBlockZ(e*t.z)}},{key:"dropBlock",value:function(){this.model.dropBlockY(),this.view.moveCurrentBlock(this.model.currentBlock)}},{key:"setDataToModel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.level&&(this.model.level=e.level),e.score&&(this.model.score=e.score),e.sumOfClearLines&&(this.model.sumOfClearLines=e.sumOfClearLines),e.tickInterval&&(this.model.tickInterval=e.tickInterval),e.frameCount&&(this.model.frameCount=e.frameCount),e.board&&(this.model.board=e.board),e.currentBlock&&(this.model.currentBlock=e.currentBlock),e.nextBlock&&(this.model.nextBlock=e.nextBlock)}},{key:"getStrageData",value:function(){if(window.localStorage){var e=JSON.parse(window.localStorage.getItem("tetricus"))||{};return e}}},{key:"saveDataToStrage",value:function(){if(window.localStorage){var e={level:this.model.level,score:this.model.score,sumOfClearLines:this.model.sumOfClearLines,tickInterval:this.model.tickInterval,frameCount:this.model.frameCount,board:this.model.board,currentBlock:this.model.currentBlock,nextBlock:this.model.nextBlock};window.localStorage.setItem("tetricus",JSON.stringify(e))}}}]),t}(l.EventEmitter2);n.default=w},{"./StickController":6,"./TetricusCONST":7,"./TouchController":12,"./Util":13,eventemitter2:1,lodash:4}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("lodash"),c=r(s),l=e("eventemitter2"),f=e("./TetricusCONST"),h=r(f),d=h.default,p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return u(t,e),a(t,[{key:"newGame",value:function(){this.initGame(),this.startGame()}},{key:"initGame",value:function(){clearTimeout(this.tickId),clearInterval(this.renderId),this.isPlayng=!1,this.isPausing=!1,this.lose=!1,this.tickInterval=d.TICK_INTERVAL,this.sumOfClearLines=0,this.level=1,this.score=0,this.frameCount=0,this.initBoard(),this.initBlock(),this.createNextBlock()}},{key:"startGame",value:function(){this.isPlayng=!0,this.isPausing=!1,this.createCurrentBlock(),this.createNextBlock(),this.tick(),this.emit("gamestart")}},{key:"pauseGame",value:function(){this.isPlayng=!1,this.isPausing=!0,clearTimeout(this.tickId),delete this.tickId}},{key:"resumeGame",value:function(){var e=this;!this.isPlayng&&this.isPausing&&(this.isPlayng=!0,this.isPausing=!1,this.tickId=setTimeout(function(){e.tick()},this.tickInterval))}},{key:"quitGame",value:function(){var e=$.Deferred();return e.promise()}},{key:"stopGame",value:function(){this.quitGame()}},{key:"tick",value:function(){var e=this;if(clearTimeout(this.tickId),this.isPlayng&&!this.isPausing){var t=this.moveBlockY();if(!t){if(this.freeze(),this.checkClearLines(),this.checkGameOver())return this.emit("gameover"),!1;this.frameCount++,this.createCurrentBlock(),this.createNextBlock()}this.tickId=setTimeout(function(){e.tick()},this.tickInterval),this.emit("tick",!t)}}},{key:"initBoard",value:function(){this.board=[];for(var e=0;e<d.COLS;++e){this.board[e]=[];for(var t=0;t<d.LOGICAL_ROWS;++t){this.board[e][t]=[];for(var n=0;n<d.COLS;++n)this.board[e][t][n]=0}}}},{key:"initBlock",value:function(){this.nextBlock=this.createBlock(0),this.currentBlock=this.createBlock(0),this.currentBlock.x=d.START_X,this.currentBlock.y=d.START_Y,this.currentBlock.z=d.START_Z}},{key:"createBlock",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=d.BLOCK_LIST[e]||{},n=t.shape,r={id:e,color:t.color,shape:[],x:0,y:0,z:0},o=0;o<d.VOXEL_LENGTH;++o){r.shape[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r.shape[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)r.shape[o][i][u]=n[o][i][u]||0}}return this.emit("newblockcreated"),r}},{key:"createCurrentBlock",value:function(){this.nextBlock||this.createNextBlock(),this.currentBlock=this.nextBlock,this.currentBlock.x=d.START_X,this.currentBlock.y=d.START_Y,this.currentBlock.z=d.START_Z,this.emit("currentblockcreated")}},{key:"createNextBlock",value:function(){var e=Math.floor(Math.random()*d.BLOCK_LIST.length);this.nextBlock=this.createBlock(e),this.emit("nextblockcreated")}},{key:"freeze",value:function(){for(var e=0;e<d.VOXEL_LENGTH;++e)for(var t=0;t<d.VOXEL_LENGTH;++t)for(var n=0;n<d.VOXEL_LENGTH;++n){var r=n+this.currentBlock.x,o=t+this.currentBlock.y,i=e+this.currentBlock.z;!this.currentBlock.shape[e][t][n]||i<0||(this.board[i][o][r]=this.currentBlock.shape[e][t][n]?this.currentBlock.id+1:0)}this.emit("freeze")}},{key:"checkClearLines",value:function(){var e=this,t=$.Deferred(),n=this.getFilledRowList(),r=c.default.flattenDeep(n).length;r&&t.resolve().then(function(){var t=$.Deferred(),r={filledRowList:n,dfd:t};return e.emit("beforeDropClearLines",r),t.promise()}).then(function(){return e.dropRow(n)}).then(function(){e.emit("afterDropClearLines"),e.sumOfClearLines+=r,e.levelUp(),e.setSpeed(),e.calcScore(r),r>0&&e.emit("clearline")})}},{key:"getFilledRowList",value:function(){for(var e=this,t=[],n=function(n){for(var r=[],o=[],i=0;i<d.COLS;++i){var u=e.board[i][n].every(function(e){return 0!==e});u&&r.push(i)}for(var a=function(t){var r=e.board.every(function(e){return 0!==e[n][t]});return r?void o.push(t):"continue"},s=0;s<d.COLS;++s){a(s)}t.push([o,r])},r=d.LOGICAL_ROWS-1;r>=0;--r)n(r);return t}},{key:"levelUp",value:function(){for(var e=0,t=0;t<this.level;t++)e+=d.GOAL_LINES_RATE*(t+1);this.sumOfClearLines>=e&&++this.level}},{key:"setSpeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.level;this.tickInterval=d.TICK_INTERVAL-d.SPEEDUP_RATE*(e-1)}},{key:"calcScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.score+=e<=1?e:Math.pow(2,e)}},{key:"dropRow",value:function(e){var t=this;e.length&&e.forEach(function(e,n){var r=e[0],o=e[1];(r.length||o.length)&&(r.forEach(function(e){t.dropRowX(e,n)}),o.forEach(function(e){t.dropRowZ(e,n)}))})}},{key:"dropRowX",value:function(e,t){for(var n=[],r=0;r<=t;++r){n[r]=[];for(var o=0;o<d.COLS;++o)n[r][o]=this.board[o][r][e],this.board[o][r][e]=r?n[r-1][o]:0}}},{key:"dropRowZ",value:function(e,t){for(var n=[],r=0;r<=t;++r){n[r]=[];for(var o=0;o<d.COLS;++o)n[r][o]=this.board[e][r][o],this.board[e][r][o]=r?n[r-1][o]:0}}},{key:"rotateBoard",value:function(e){for(var t=d.COLS-1,n=[],r=0;r<d.COLS;++r){n[r]=[];for(var o=0;o<d.LOGICAL_ROWS;++o){n[r][o]=[];for(var i=0;i<d.COLS;++i)n[r][o][i]=e[t-i][o][r]}}return n}},{key:"dropBlockY",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentBlock,t=this.validate(0,1,0,e);t;)e.y++,t=this.validate(0,1,0,e);return t}},{key:"moveBlockX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.validate(e,0,0);return t&&(this.currentBlock.x+=e,this.emit("blockmoved")),t}},{key:"moveBlockY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.validate(0,e,0);return t&&(this.currentBlock.y+=e,this.emit("blockmoved")),t}},{key:"moveBlockZ",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.validate(0,0,e);return t&&(this.currentBlock.z+=e,this.emit("blockmoved")),t}},{key:"rotateBlockXZ",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.assign({},this.currentBlock);t.shape=this.rotateXZ(this.currentBlock.shape,e);var n=this.validate(0,0,0,t);return n&&(this.currentBlock=t),n}},{key:"rotateBlockXY",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.assign({},this.currentBlock);t.shape=this.rotateXY(this.currentBlock.shape,e);var n=this.validate(0,0,0,t);return n&&(this.currentBlock=t),n}},{key:"rotateBlockZY",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.assign({},this.currentBlock);t.shape=this.rotateZY(this.currentBlock.shape,e);var n=this.validate(0,0,0,t);return n&&(this.currentBlock=t),n}},{key:"rotateXZ",value:function(e,t){for(var n=d.VOXEL_LENGTH-1,r=[],o=0;o<d.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)t?r[o][i][u]=e[n-u][i][o]:r[o][i][u]=e[u][i][n-o]}}return r}},{key:"rotateXY",value:function(e,t){for(var n=d.VOXEL_LENGTH-1,r=[],o=0;o<d.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)t?r[o][i][u]=e[o][n-u][i]:r[o][i][u]=e[o][u][n-i]}}return r}},{key:"rotateZY",value:function(e,t){for(var n=d.VOXEL_LENGTH-1,r=[],o=0;o<d.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)t?r[o][i][u]=e[i][n-o][u]:r[o][i][u]=e[n-i][o][u]}}return r}},{key:"validate",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentBlock,o=r.x+e,i=r.y+t,u=r.z+n,a=0;a<d.VOXEL_LENGTH;++a)for(var s=0;s<d.VOXEL_LENGTH;++s)for(var c=0;c<d.VOXEL_LENGTH;++c){var l=c+o,f=s+i,h=a+u;if(r.shape[a][s][c]&&("undefined"==typeof this.board[h]||"undefined"==typeof this.board[h][f]||"undefined"==typeof this.board[h][f][l]||this.board[h][f][l]||l<0||l>=d.COLS||h<0||h>=d.COLS||f>=d.LOGICAL_ROWS))return!1}return!0}},{key:"checkGameOver",value:function(){for(var e=!0,t=0;t<d.VOXEL_LENGTH;++t)for(var n=0;n<d.VOXEL_LENGTH;++n)for(var r=0;r<d.VOXEL_LENGTH;++r){var o=(r+this.currentBlock.x,n+this.currentBlock.y);t+this.currentBlock.z;if(o>=d.HIDDEN_ROWS){e=!1;break}}return e}}]),t}(l.EventEmitter2);n.default=p},{"./TetricusCONST":7,eventemitter2:1,lodash:4}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("eventemitter2"),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.controller=e,n.$modalPause=$(".js-modal-pause"),n.$modalGameover=$(".js-modal-gameover"),n.$modalStart=$(".js-modal-start"),n.$modalHowto=$(".js-modal-howto"),n.$modalResult=$(".js-modal-result"),n.$modals=n.$modalPause.add(n.$modalGameover).add(n.$modalStart).add(n.$modalHowto).add(n.$modalResult),n.$btnModalClose=$(".js-btn-modal-close"),n.$btnResume=$(".js-btn-resume"),n.$btnStart=$(".js-btn-start"),n.$btnPause=$(".js-btn-pause"),n.$btnSound=$(".js-btn-sound"),n.$btnToResult=$(".js-btn-to-result"),n.$btnToHowto=$(".js-btn-to-howto"),n.$btnToBack=$(".js-btn-to-back"),n.$btnRotateVertical=$(".js-btn-rotate-vertical"),n.$btnRotateHorizontal=$(".js-btn-rotate-horizontal"),n.$btnRotate=n.$btnRotateVertical.add(n.$btnRotateHorizontal),n.$tapAreaTop=$(".js-tap-area-top"),n.$tapAreaLeft=$(".js-tap-area-left"),n.$tapAreaRight=$(".js-tap-area-right"),n.$tapAreaBottom=$(".js-tap-area-bottom"),n.$slideHowto=$(".js-slide-howto"),n.$slideDots=$(".js-slide-dots"),n.setEvent(),n.setControllerEvent(),n.setHowto(),n}return i(t,e),u(t,[{key:"setEvent",value:function(){var e=this;$("button").on("touchstart",function(e){e.stopPropagation()}),this.$btnPause.on("click",function(){e.$btnPause.toggleClass("is-active"),e.$modalPause.show(),e.controller.isPlayngGame?e.controller.pauseGame():e.controller.resumeGame()}),this.$btnSound.on("click",function(){e.toggleBtnSound();var t=e.$btnSound.hasClass("is-sound-on");e.emit("toggleSound",{isSoundOn:t})}),this.$btnRotateVertical.on("touchstart",function(){e.controller.rotateBlockVertical()}),this.$btnRotateHorizontal.on("touchstart",function(){e.controller.rotateBlockHorizontal()}),this.$btnModalClose.on("click",function(){e.$modals.hide()}),this.$btnResume.on("click",function(){e.controller.isAutoMode?(e.controller.isAutoMode=!1,e.controller.resumeLastGame()):e.controller.resumeGame()}),this.$btnStart.on("click",function(){e.controller.isAutoMode=!1,e.controller.newGame()}),this.$btnToResult.on("click",function(){e.$modals.hide(),e.$modalResult.show()}),this.$btnToHowto.on("click",function(){return e.$modals.hide(),e.$modalHowto.show(),e.$modalHowto.removeClass("is-touch-none"),e.controller.isAutoMode?(e.controller.setTutorialMode(),void e.$modalHowto.addClass("is-touch-none")):void(e.controller.isPlayngGame&&e.controller.pauseGame())}),this.$btnToBack.on("click",function(){e.backModal()})}},{key:"setControllerEvent",value:function(){var e=this,t="is-active",n=500;this.controller.on("pauseGame",function(){e.isModalShown()||e.$modalPause.show()}),this.controller.on("resumeGame",function(){e.controller.isAutoMode||e.controller.isTutorialMode||e.$modals.hide()}),this.controller.on("gameover",function(){e.isModalShown()||e.controller.isAutoMode||e.$modalResult.show()}),this.controller.on("taptop",function(){e.$tapAreaTop.addClass(t),setTimeout(function(){return e.$tapAreaTop.removeClass(t)},n)}),this.controller.on("tapleft",function(){e.$tapAreaLeft.addClass(t),setTimeout(function(){return e.$tapAreaLeft.removeClass(t)},n)}),this.controller.on("tapright",function(){e.$tapAreaRight.addClass(t),setTimeout(function(){return e.$tapAreaRight.removeClass(t)},n)}),this.controller.on("tapbottom",function(){e.$tapAreaBottom.addClass(t),setTimeout(function(){return e.$tapAreaBottom.removeClass(t)},n)})}},{key:"setHowto",value:function(){var e=this,t="is-active",n="data-slide-index",r=this.$slideHowto.children(),o=this.$slideDots.children(),i=r.length,u=+this.$modalHowto.attr(n)||0;r.hide().first().show();var a=function(){++u,u>=i&&(u=0,e.backModal()),r.hide().eq(u).show(),o.removeClass(t).eq(u).addClass(t),e.$modalHowto.attr(n,u)};this.$modalHowto.on("click",a),this.controller.on("touchend",function(t){e.controller.isTutorialMode&&0===u&&t.isBlockMoved&&a()}),this.controller.on("stickTouchend",function(t){e.controller.isTutorialMode&&1===u&&t.isStickMoved&&a()}),this.$btnRotate.on("click",function(t){e.controller.isTutorialMode&&2===u&&a()})}},{key:"backModal",value:function(){this.$modals.hide(),this.controller.isPausingGame?this.controller.resumeGame():(this.$modalStart.show(),this.controller.setAutoMode())}},{key:"showStartModal",value:function(){this.$modalStart.show()}},{key:"isModalShown",value:function(){return this.$modals.get().some(function(e){return $(e).is(":visible")})}},{key:"toggleBtnSound",value:function(e){this.$btnSound.toggleClass("is-sound-on",e)}}]),t}(a.EventEmitter2);n.default=s},{eventemitter2:1}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e("./lib/EditorControls_");var u=e("./TetricusCONST"),a=r(u),s=a.default,c=function(){function e(){o(this,e),this.framecount=0,this.isAutoRotate=!1,this.CONTAINER_ID="js-game-view",this.ZERO_VECTOR=new THREE.Vector3(0,0,0),this.CENTER_VECTOR=new THREE.Vector3(s.CENTER_X,s.CENTER_Y,s.CENTER_Z),this.CAMERA_POSITION=new THREE.Vector3(s.CENTER_X,(-s.CAMERA_HEIGHT_DEFAULT),s.CAMERA_DISTANCE_DEFAULT),this.CAMERA_NEAR=1,this.CAMERA_FAR=1e5,this.VIEW_BLOCK_LIST=s.BLOCK_LIST.concat([s.SHADOW_BLOCK,s.CLEARLINE_BLOCK,s.GAMEOVER_BLOCK])}return i(e,[{key:"dispose",value:function(){this.stop(),this.container&&(this.container.innerHTML=""),this.renderer&&(this.renderer.dispose(),delete this.renderer),this.scene&&delete this.scene,this.camera&&delete this.camera,this.controls&&(this.controls.dispose(),delete this.controls)}},{key:"init",value:function(){var e=this;this.container=document.getElementById(this.CONTAINER_ID),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(15790320),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(s.WIDTH,s.HEIGHT),this.container.appendChild(this.renderer.domElement),this.scene=new THREE.Scene,this.perscamera=new THREE.PerspectiveCamera(45,s.WIDTH/s.HEIGHT,this.CAMERA_NEAR,this.CAMERA_FAR),this.orthocamera=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,window.innerHeight/2,-window.innerHeight/2,this.CAMERA_NEAR,this.CAMERA_FAR),this.cubecamera=new THREE.CubeCamera(this.CAMERA_NEAR,this.CAMERA_FAR,128),this.setCamera(),this.controls=new THREE.EditorControls(this.camera),this.controls.center=this.CENTER_VECTOR,this.disableControls();var t=new THREE.AxisHelper(this.CAMERA_FAR);t.position.set(0,0,0);var n=s.CENTER_X,r=s.WIDTH/s.VOXEL_SIZE,o=new THREE.GridHelper(n,r);o.position.set(n,s.HEIGHT,n),this.scene.add(o);var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(0,s.FIELD_MARK_LENGTH,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,s.FIELD_MARK_LENGTH),new THREE.Vector3(0,0,0),new THREE.Vector3(s.FIELD_MARK_LENGTH,0,0));var u=new THREE.LineBasicMaterial({color:0,opacity:.2,transparent:!0}),a=new THREE.Line(i,u);a.type=THREE.LinePieces;var c=a.clone().translateX(s.WIDTH).rotateY(-Math.PI/2),l=a.clone().translateZ(s.WIDTH).rotateY(Math.PI/2),f=a.clone().translateX(s.WIDTH).translateZ(s.WIDTH).rotateY(Math.PI);this.scene.add(a,c,l,f);var h=new THREE.AmbientLight(6316128);this.scene.add(h);var d=new THREE.DirectionalLight(16777215);d.position.set(.5,-.75,1).normalize(),this.scene.add(d),this.cubeGeo=new THREE.BoxGeometry(s.VOXEL_SIZE,s.VOXEL_SIZE,s.VOXEL_SIZE),this.cubeMaterial=[],this.VIEW_BLOCK_LIST.forEach(function(t){var n=new THREE.MeshLambertMaterial({color:t.color});t.opacity>=0&&(n.transparent=!0,n.opacity=.3),e.cubeMaterial.push(n)}),this.setSize()}},{key:"setSize",value:function(){this.width=window.innerWidth||s.WIDTH,this.height=window.innerHeight||s.HEIGHT,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),this.render()}},{key:"setCamera",value:function(e){switch(e){case"ortho1":this.camera=this.orthocamera,this.camera.position.set(s.CENTER_X,s.CENTER_Y,s.CAMERA_DISTANCE_DEFAULT);break;case"ortho2":this.camera=this.orthocamera,this.camera.position.set(s.CAMERA_DISTANCE_DEFAULT,s.CENTER_Y,s.CENTER_Z);break;case"ortho3":this.camera=this.orthocamera,this.camera.position.set(s.CENTER_X,-1e3,s.CENTER_Z);break;default:this.camera=this.perscamera,this.camera.position.copy(this.CAMERA_POSITION)}this.camera.up.set(0,-1,0),this.camera.zoom=1,this.camera.lookAt(this.CENTER_VECTOR)}},{key:"disableControls",value:function(){this.controls&&(this.controls.enabled=!1)}},{key:"enableControls",value:function(){this.controls&&(this.controls.enabled=!0)}},{key:"checkCameraDirection",value:function(){var e=this.camera.position.clone().sub(this.CENTER_VECTOR),t={x:Math.sign(Math.abs(e.x)>Math.abs(e.z)?e.x:0),y:Math.sign(-e.y),z:Math.sign(Math.abs(e.z)>Math.abs(e.x)?e.z:0)};return t}},{key:"rotateCamera",value:function(){this.controls.rotate({x:s.AUTO_ROTATE_SPEED,y:0})}},{key:"tick",value:function(){this.framecount++}},{key:"render",value:function(){this.isAutoRotate&&this.rotateCamera(),this.renderer.render(this.scene,this.camera)}},{key:"drawBoard",value:function(e){this.boardVoxels=[];for(var t=0;t<s.COLS;++t)for(var n=0;n<s.ROWS;++n)for(var r=0;r<s.COLS;++r){var o=r,i=n,u=t,a=e[u][i][o]-1;if(e[u][i][o]){var c=this.drawVoxel(o,i,u,a);this.boardVoxels.push(c)}}}},{key:"disposeBoard",value:function(){this.boardVoxels&&this.boardVoxels.length&&this.disposeVoxels(this.boardVoxels)}},{key:"disposeBlock",value:function(e){this.disposeVoxels(e.voxels)}},{key:"disposeVoxels",value:function(e){var t=this;e.forEach(function(e){e.geometry.dispose(),e.material.dispose(),t.scene.remove(e)})}},{key:"drawCurrentBlock",value:function(e){this.currentBlock&&this.disposeBlock(this.currentBlock),this.currentBlock=Object.assign({},e),this.drawBlock(this.currentBlock)}},{key:"drawBlock",value:function(e){if(e){e.voxels=[];for(var t=0;t<s.VOXEL_LENGTH;++t)for(var n=0;n<s.VOXEL_LENGTH;++n)for(var r=0;r<s.VOXEL_LENGTH;++r)if(e.shape[t][n][r]){var o=r+e.x,i=n+e.y-s.HIDDEN_ROWS,u=t+e.z,a=this.drawVoxel(o,i,u,e.id);e.voxels.push(a)}}}},{key:"drawVoxel",value:function(e,t,n,r){var o=e*s.VOXEL_SIZE,i=t*s.VOXEL_SIZE,u=n*s.VOXEL_SIZE,a=new THREE.Mesh(this.cubeGeo,this.cubeMaterial[r]);return a.position.set(o,i,u),a.position.addScalar(s.VOXEL_SIZE/2),a.scale.setScalar(this.VIEW_BLOCK_LIST[r].scale||1),t<0?a:(this.scene.add(a),a)}},{key:"moveCurrentBlock",value:function(e){this.currentBlock&&(Object.assign(this.currentBlock,e),this.moveBlock(this.currentBlock))}},{key:"moveBlock",value:function(e){if(e)for(var t=0,n=0;n<s.VOXEL_LENGTH;++n)for(var r=0;r<s.VOXEL_LENGTH;++r)for(var o=0;o<s.VOXEL_LENGTH;++o)if(e.shape[n][r][o]){var i=o+e.x,u=r+e.y-s.HIDDEN_ROWS,a=n+e.z,c=e.voxels[t];this.moveVoxel(i,u,a,c),t++}}},{key:"moveVoxel",value:function(e,t,n,r){if(!(t<0)){var o=e*s.VOXEL_SIZE,i=t*s.VOXEL_SIZE,u=n*s.VOXEL_SIZE;r.position.set(o,i,u),r.position.addScalar(s.VOXEL_SIZE/2),this.scene.add(r)}}},{key:"start",value:function(){var e=this,t=Date.now(),n=t,r=n,o=n;if("number"!=typeof this.loopId){this.loopId=null;var i=function t(i){var u=Date.now(),a=u-r,c=u-o;a>s.RENDER_INTERVAL&&(r=u,e.render()),c>s.TICK_INTERVAL&&(o=u,e.tick()),n=u,e.loopId=requestAnimationFrame(t)};i()}}},{key:"stop",value:function(){cancelAnimationFrame(this.loopId),this.loopId=null}}]),e}();n.default=c},{"./TetricusCONST":7,"./lib/EditorControls_":14}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("eventemitter2"),s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.element=e.element||document,n.touchstartElement=e.touchstartElement||n.element,n.touchmoveElement=e.touchmoveElement||n.element,n.touchendElement=e.touchendElement||n.element,n.doubleTapDelay=e.doubleTapDelay||500,n.holdingDelay=e.holdingDelay||1e3,n.watchInterval=e.watchInterval||100,n.isTouchSupport="ontouchstart"in window,n.touchstart=n.isTouchSupport?"touchstart":"mousedown",n.touchmove=n.isTouchSupport?"touchmove":"mousemove",n.touchend=n.isTouchSupport?"touchend":"mouseup",n.deltaX=0,n.deltaY=0,n.moveX=0,n.moveY=0,n.defineEventListener(),n.setEvent(),n}return i(t,e),u(t,[{key:"setEvent",value:function(){this.touchstartElement.addEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.addEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.addEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"dispose",value:function(){this.touchstartElement.removeEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.removeEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.removeEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"defineEventListener",value:function(){var e=this,t=void 0,n=void 0,r=function(){clearInterval(t),clearTimeout(n)},o=function(){r(),n=setTimeout(function(){e.isTap=e.isDoubleTap=!1,t=setInterval(function(){e.emit("touchholding",e)},e.watchInterval)},e.holdingDelay)};this.onTouchStart=function(t){t.preventDefault(),t.stopPropagation(),e.isDoubleTap=e.isTap,e.isDragging=!0,e.isTap=!0,e.touchStartTime=Date.now(),e.touchStartX=e.isTouchSupport?t.touches[0].pageX:t.pageX,e.touchStartY=e.isTouchSupport?t.touches[0].pageY:t.pageY,o(),e.emit("touchstart",{touchStartTime:e.touchStartTime,touchStartX:e.touchStartX,touchStartY:e.touchStartY})},this.onTouchMove=function(t){e.isDragging&&(r(),e.lasttouchX=e.touchX||e.touchStartX,e.lasttouchY=e.touchY||e.touchStartY,e.touchX=e.isTouchSupport?t.touches[0].pageX:t.pageX,e.touchY=e.isTouchSupport?t.touches[0].pageY:t.pageY,e.deltaX=e.touchX-e.lasttouchX,e.deltaY=e.touchY-e.lasttouchY,e.moveX=e.touchX-e.touchStartX,e.moveY=e.touchY-e.touchStartY,e.isTap=e.isDoubleTap=!1,o(),e.emit("touchmove",{lasttouchX:e.lasttouchX,lasttouchY:e.lasttouchY,touchX:e.touchX,touchY:e.touchY,deltaX:e.deltaX,deltaY:e.deltaY,moveX:e.moveX,moveY:e.moveY}))},this.onTouchEnd=function(t){e.isDragging=!1,r(),e.elapsedTime=Date.now()-e.touchStartTime,e.touchEndX=e.isTouchSupport?t.changedTouches[0].pageX:t.pageX,e.touchEndY=e.isTouchSupport?t.changedTouches[0].pageY:t.pageY,e.emit("touchend",{elapsedTime:e.elapsedTime,touchEndX:e.touchEndX,touchEndY:e.touchEndY,moveX:e.moveX,moveY:e.moveY,isTap:e.isTap,isDoubleTap:e.isDoubleTap}),e.touchX=e.touchY=null,e.moveX=e.moveY=0,setTimeout(function(){e.isTap=e.isDoubleTap=!1},e.doubleTapDelay)}}}]),t}(a.EventEmitter2);n.default=s},{eventemitter2:1}],13:[function(e,t,n){"use strict";var r=$(window);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){var t=window.setTimeout(e,1e3/60);return t},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(e){window.clearTimeout(e)};var o={TRANSITIONEND:"transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd",ANIMATIONEND:"animationend webkitAnimationEnd mozAnimationEnd msAnimationEnd oAnimationEnd",getWinSize:function(){window.winW=Math.max(r.width(),window.innerWidth||0),window.winH=Math.max(r.height(),window.innerHeight||0)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},throttle:function(e,t){var n=!1,r=function(r){n||(n=!0,setTimeout(function(){n=!1,e(r)},t))};return r},debounce:function(e,t){var n,r=function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)};return r},async:function(e){!function t(n){e[n]&&e[n](function(){t(n+1)})}(0)},delay:function(e){return function(t){setTimeout(t,e)}},sleep:function(e){return function(){var t=$.Deferred();return setTimeout(function(){t.resolve()},e),t.promise()}},zeroPadding:function(e,t){return(new Array(t).join("0")+e).slice(-t)},getQueryString:function(){var e={},t=window.location.search;if(t.length>1)for(var n=t.substring(1),r=n.split("&"),o=0;o<r.length;o++){var i=r[o].split("="),u=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]);e[u]=a}return e},getUserAgent:function(){return o.ua={},o.ua.name=window.navigator.userAgent.toLowerCase(),o.ua.isSP=/ipod|iphone|ipad|android/i.test(o.ua.name),o.ua.isPC=!o.ua.isSP,o.ua.isIOS=/ipod|iphone|ipad/i.test(o.ua.name),o.ua.isAndroid=/android/.test(o.ua.name),o.ua.isIE8=/msie 8/.test(o.ua.name),o.ua.isIE9=/msie 9/.test(o.ua.name),o.ua.isSP&&(document.body.className+=" isSP"),o.ua.isPC&&(document.body.className+=" isPC"),o.ua},removeOtherDeviceElement:function(){o.ua.isSP?$(".onlypc").remove():$(".onlysp").remove()}};t.exports=o},{}],14:[function(e,t,n){"use strict";THREE.EditorControls=function(e,t){function n(e){c.enabled!==!1&&(0===e.button?h=f.ROTATE:1===e.button?h=f.ZOOM:2===e.button&&(h=f.PAN),_.set(e.clientX,e.clientY),t.addEventListener("mousemove",r,!1),t.addEventListener("mouseup",o,!1),t.addEventListener("mouseout",o,!1),t.addEventListener("dblclick",o,!1))}function r(e){if(c.enabled!==!1){p.set(e.clientX,e.clientY);var t=p.x-_.x,n=p.y-_.y;h===f.ROTATE?c.rotate(new THREE.Vector3(.005*-t,.005*-n,0)):h===f.ZOOM?c.zoom(new THREE.Vector3(0,0,n)):h===f.PAN&&c.pan(new THREE.Vector3((-t),n,0)),_.set(e.clientX,e.clientY)}}function o(e){t.removeEventListener("mousemove",r,!1),t.removeEventListener("mouseup",o,!1),t.removeEventListener("mouseout",o,!1),t.removeEventListener("dblclick",o,!1),h=f.NONE}function i(e){e.preventDefault();var t=0;e.wheelDelta?t=-e.wheelDelta:e.detail&&(t=10*e.detail),c.zoom(new THREE.Vector3(0,0,t))}function u(e){e.preventDefault()}function a(e){if(c.enabled!==!1){switch(e.touches.length){case 1:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[0].pageX,e.touches[0].pageY,0);break;case 2:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[1].pageX,e.touches[1].pageY,0),w=y[0].distanceTo(y[1])}g[0].copy(y[0]),g[1].copy(y[1])}}function s(e){function t(e,t){var n=t[0];for(var r in t)n.distanceTo(e)>t[r].distanceTo(e)&&(n=t[r]);return n}if(c.enabled!==!1){switch(e.preventDefault(),e.stopPropagation(),
e.touches.length){case 1:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[0].pageX,e.touches[0].pageY,0),c.rotate(y[0].sub(t(y[0],g)).multiplyScalar(-.005));break;case 2:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[1].pageX,e.touches[1].pageY,0);var n=y[0].distanceTo(y[1]);c.zoom(new THREE.Vector3(0,0,w-n)),w=n;var r=y[0].clone().sub(t(y[0],g)),o=y[1].clone().sub(t(y[1],g));r.x=-r.x,o.x=-o.x,c.pan(r.add(o).multiplyScalar(.5))}g[0].copy(y[0]),g[1].copy(y[1])}}t=void 0!==t?t:document,this.enabled=!0,this.center=new THREE.Vector3;var c=this,l=new THREE.Vector3,f={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},h=f.NONE,d=new THREE.Matrix3,p=new THREE.Vector2,_=new THREE.Vector2,v=new THREE.Spherical,m={type:"change"};this.focus=function(t,n){var r=new THREE.Vector3;if(t.matrixWorld.decompose(c.center,new THREE.Quaternion,r),n&&t.geometry){r=(r.x+r.y+r.z)/3,c.center.add(t.geometry.boundingSphere.center.clone().multiplyScalar(r));var o=t.geometry.boundingSphere.radius*r,i=e.position.clone().sub(c.center).normalize().multiplyScalar(2*o);e.position.copy(c.center).add(i)}e.lookAt(c.center),c.dispatchEvent(m)},this.pan=function(t){var n=e.position.distanceTo(c.center);t.multiplyScalar(.001*n),t.applyMatrix3(d.getNormalMatrix(e.matrix)),e.position.add(t),c.center.add(t),c.dispatchEvent(m)},this.zoom=function(t){var n=e.position.distanceTo(c.center);t.multiplyScalar(.001*n),t.length()>n||(t.applyMatrix3(d.getNormalMatrix(e.matrix)),e.position.add(t),c.dispatchEvent(m))},this.rotate=function(t){l.copy(e.position).sub(c.center),v.setFromVector3(l),v.theta+=t.x,v.phi+=t.y,v.makeSafe(),l.setFromSpherical(v),e.position.copy(c.center).add(l),e.lookAt(c.center),c.dispatchEvent(m)},this.dispose=function(){t.removeEventListener("contextmenu",u,!1),t.removeEventListener("mousedown",n,!1),t.removeEventListener("mousewheel",i,!1),t.removeEventListener("MozMousePixelScroll",i,!1),t.removeEventListener("mousemove",r,!1),t.removeEventListener("mouseup",o,!1),t.removeEventListener("mouseout",o,!1),t.removeEventListener("dblclick",o,!1),t.removeEventListener("touchstart",a,!1),t.removeEventListener("touchmove",s,!1)},t.addEventListener("contextmenu",u,!1),t.addEventListener("mousedown",n,!1),t.addEventListener("mousewheel",i,!1),t.addEventListener("MozMousePixelScroll",i,!1);var y=(new THREE.Vector3,[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]),g=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],w=null;t.addEventListener("touchstart",a,!1),t.addEventListener("touchmove",s,!1)},THREE.EditorControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.EditorControls.prototype.constructor=THREE.EditorControls},{}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("./Util"),i=r(o),u=e("./SoundController"),a=r(u),s=e("./TetricusCONST"),c=r(s),l=e("./TetricusView"),f=r(l),h=e("./TetricusModel"),d=r(h),p=e("./TetricusController"),_=r(p),v=e("./TetricusUI"),m=r(v),y=new d.default,g=new f.default,w=new _.default(y,g),E=new m.default(w),b=new a.default({src:"./audio/bgm.mp3",COOKIE_NAME:"TETRICUS-isMute",EXPIRES_DATE:365,howl:{src:["./audio/bgm.mp3"],loop:!0,volume:.2}});w.on("startGame",function(){b.play()}),E.on("toggleSound",function(e){b.toggleMute(!e.isSoundOn),b.togglePlay(e.isSoundOn)}),E.toggleBtnSound(!b.isMute),E.showStartModal(),w.isAutoMode=!0,w.newGame();var T=i.default.getQueryString();T.debug&&!function(){var e=+T.debug||0,t=c.default.BLOCK_LIST[e].shape;c.default.BLOCK_LIST.forEach(function(e){e.shape=t});var n=function(){c.default.START_X=Math.floor((c.default.COLS-c.default.VOXEL_LENGTH)/2),c.default.START_Y=0,c.default.START_Z=Math.floor((c.default.COLS-c.default.VOXEL_LENGTH)/2),c.default.HIDDEN_ROWS=c.default.VOXEL_LENGTH,c.default.LOGICAL_ROWS=c.default.ROWS+c.default.HIDDEN_ROWS,c.default.WIDTH=c.default.VOXEL_SIZE*c.default.COLS,c.default.HEIGHT=c.default.VOXEL_SIZE*c.default.ROWS,c.default.CENTER_X=c.default.WIDTH/2,c.default.CENTER_Y=c.default.HEIGHT/2,c.default.CENTER_Z=c.default.WIDTH/2,g.constructor()};T.interval&&(y.tickInterval=+T.interval),T.cols&&(c.default.COLS=+T.cols,n()),T.rows&&(c.default.ROWS=+T.rows,n()),T.voxel_size&&(c.default.VOXEL_SIZE=+T.voxel_size,n()),T.render_interval&&(c.default.RENDER_INTERVAL=+T.render_interval),T.tick_interval&&(c.default.TICK_INTERVAL=+T.tick_interval),T.speedup_rate&&(c.default.SPEEDUP_RATE=+T.speedup_rate),w.newGame()}()},{"./SoundController":5,"./TetricusCONST":7,"./TetricusController":8,"./TetricusModel":9,"./TetricusUI":10,"./TetricusView":11,"./Util":13}]},{},[15]);