!function t(e,n,r){function o(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){function e(){this._events={},this._conf&&o.call(this,this._conf)}function o(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function i(t){this._events={},this.newListener=!1,o.call(this,t)}function u(t,e,n,r){if(!n)return[];var o,i,a,c,s,l,f,h=[],v=e.length,d=e[r],p=e[r+1];if(r===v&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(o=0,i=n._listeners.length;i>o;o++)t&&t.push(n._listeners[o]);return[n]}if("*"===d||"**"===d||n[d]){if("*"===d){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(h=h.concat(u(t,e,n[a],r+1)));return h}if("**"===d){f=r+1===v||r+2===v&&"*"===p,f&&n._listeners&&(h=h.concat(u(t,e,n,v)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(h=h.concat(u(t,e,n[a],v))),h=h.concat(u(t,e,n[a],r))):h=a===p?h.concat(u(t,e,n[a],r+2)):h.concat(u(t,e,n[a],r)));return h}h=h.concat(u(t,e,n[d],r+1))}if(c=n["*"],c&&u(t,e,c,r+1),s=n["**"])if(v>r){s._listeners&&u(t,e,s,v);for(a in s)"_listeners"!==a&&s.hasOwnProperty(a)&&(a===p?u(t,e,s[a],r+2):a===d?u(t,e,s[a],r+1):(l={},l[a]=s[a],u(t,e,{"**":l},r+1)))}else s._listeners?u(t,e,s,v):s["*"]&&s["*"]._listeners&&u(t,e,s["*"],v);return h}function a(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;r>n+1;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var o=this.listenerTree,i=t.shift();i;){if(o[i]||(o[i]={}),o=o[i],0===t.length){if(o._listeners){if("function"==typeof o._listeners)o._listeners=[o._listeners,e];else if(c(o._listeners)&&(o._listeners.push(e),!o._listeners.warned)){var u=s;"undefined"!=typeof this._events.maxListeners&&(u=this._events.maxListeners),u>0&&o._listeners.length>u&&(o._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",o._listeners.length),console.trace())}}else o._listeners=e;return!0}i=t.shift()}return!0}var c=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=10;i.prototype.delimiter=".",i.prototype.setMaxListeners=function(t){this._events||e.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},i.prototype.event="",i.prototype.once=function(t,e){return this.many(t,1,e),this},i.prototype.many=function(t,e,n){function r(){0===--e&&o.off(t,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),o},i.prototype.emit=function(){this._events||e.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var n=arguments.length,r=new Array(n-1),o=1;n>o;o++)r[o-1]=arguments[o];for(o=0,n=this._all.length;n>o;o++)this.event=t,this._all[o].apply(this,r)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var i;if(this.wildcard){i=[];var a="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,i,a,this.listenerTree,0)}else i=this._events[t];if("function"==typeof i){if(this.event=t,1===arguments.length)i.call(this);else if(arguments.length>1)switch(arguments.length){case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(var n=arguments.length,r=new Array(n-1),o=1;n>o;o++)r[o-1]=arguments[o];i.apply(this,r)}return!0}if(i){for(var n=arguments.length,r=new Array(n-1),o=1;n>o;o++)r[o-1]=arguments[o];for(var c=i.slice(),o=0,n=c.length;n>o;o++)this.event=t,c[o].apply(this,r);return c.length>0||!!this._all}return!!this._all},i.prototype.on=function(t,n){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");if(this._events||e.call(this),this.emit("newListener",t,n),this.wildcard)return a.call(this,t,n),this;if(this._events[t]){if("function"==typeof this._events[t])this._events[t]=[this._events[t],n];else if(c(this._events[t])&&(this._events[t].push(n),!this._events[t].warned)){var r=s;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}}else this._events[t]=n;return this},i.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var o="string"==typeof t?t.split(this.delimiter):t.slice();r=u.call(this,null,o,this.listenerTree,0)}else{if(!this._events[t])return this;n=this._events[t],r.push({_listeners:n})}for(var i=0;i<r.length;i++){var a=r[i];if(n=a._listeners,c(n)){for(var s=-1,l=0,f=n.length;f>l;l++)if(n[l]===e||n[l].listener&&n[l].listener===e||n[l]._origin&&n[l]._origin===e){s=l;break}if(0>s)continue;return this.wildcard?a._listeners.splice(s,1):this._events[t].splice(s,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[t]),this}(n===e||n.listener&&n.listener===e||n._origin&&n._origin===e)&&(this.wildcard?delete a._listeners:delete this._events[t])}return this},i.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;r>n;n++)if(t===e[n])return e.splice(n,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||e.call(this),this;if(this.wildcard)for(var n="string"==typeof t?t.split(this.delimiter):t.slice(),r=u.call(this,null,n,this.listenerTree,0),o=0;o<r.length;o++){var i=r[o];i._listeners=null}else{if(!this._events[t])return this;this._events[t]=null}return this},i.prototype.listeners=function(t){if(this.wildcard){var n=[],r="string"==typeof t?t.split(this.delimiter):t.slice();return u.call(this,n,r,this.listenerTree,0),n}return this._events||e.call(this),this._events[t]||(this._events[t]=[]),c(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return i}):"object"===("undefined"==typeof n?"undefined":r(n))?n.EventEmitter2=i:window.EventEmitter2=i}()},{}],2:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};/*!
 * JavaScript Cookie v2.1.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!function(t){if("function"==typeof define&&define.amd)define(t);else if("object"===("undefined"==typeof n?"undefined":r(n)))e.exports=t();else{var o=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=o,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var u;if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{u=JSON.stringify(o),/^[\{\[]/.test(u)&&(o=u)}catch(c){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}e||(u={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;f<s.length;f++){var h=s[f].split("="),v=h[0].replace(l,decodeURIComponent),d=h.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{if(d=n.read?n.read(d,v):n(d,v)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(c){}if(e===v){u=d;break}e||(u[v]=d)}catch(c){}}return u}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},{}],3:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var o=-1,i=t.length;++o<i;){var u=t[o];e(r,u,n(u),t)}return r}function a(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}function f(t,e){return!!t.length&&E(t,e,0)>-1}function h(t,e,n){for(var r=-1,o=t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function v(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function d(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function p(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function _(t,e,n,r){var o=t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function m(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t,e,n,r){var o;return n(t,function(t,n,i){return e(t,n,i)?(o=r?n:t,!1):void 0}),o}function g(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function E(t,e,n){if(e!==e)return D(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function w(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function b(t,e){var n=t?t.length:0;return n?O(t,e)/n:kt}function k(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function T(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==U&&(n=n===U?i:n+i)}return n}function L(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function C(t,e){return v(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function S(t,e){return v(e,function(e){return t[e]})}function A(t,e){return t.has(e)}function x(t,e){for(var n=-1,r=t.length;++n<r&&E(e,t[n],0)>-1;);return n}function I(t,e){for(var n=t.length;n--&&E(e,t[n],0)>-1;);return n}function B(t){return t&&t.Object===Object?t:null}function j(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function H(t){return Ln[t]}function N(t){return Cn[t]}function M(t){return"\\"+An[t]}function D(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function X(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function P(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];u!==e&&u!==tt||(t[n]=tt,i[o++]=n)}return i}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function F(t){if(!t||!En.test(t))return t.length;for(var e=yn.lastIndex=0;yn.test(t);)e++;return e}function z(t){return t.match(yn)}function Y(t){return Rn[t]}function Z(t){function e(t){if(pa(t)&&!uf(t)&&!(t instanceof Ie)){if(t instanceof B)return t;if(gs.call(t,"__wrapped__"))return ci(t)}return new B(t)}function n(){}function B(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=U}function Ie(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function Be(){var t=new Ie(this.__wrapped__);return t.__actions__=to(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=to(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=to(this.__views__),t}function je(){if(this.__filtered__){var t=new Ie(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function He(){var t=this.__wrapped__.value(),e=this.__dir__,n=uf(t),r=0>e,o=n?t.length:0,i=Xo(0,o,this.__views__),u=i.start,a=i.end,c=a-u,s=r?a:u-1,l=this.__iteratees__,f=l.length,h=0,v=Ws(c,this.__takeCount__);if(!n||q>o||o==c&&v==c)return Hr(t,this.__actions__);var d=[];t:for(;c--&&v>h;){s+=e;for(var p=-1,_=t[s];++p<f;){var m=l[p],y=m.iteratee,g=m.type,E=y(_);if(g==yt)_=E;else if(!E){if(g==mt)continue t;break t}}d[h++]=_}return d}function Ne(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Me(){this.__data__=el?el(null):{}}function De(t){return this.has(t)&&delete this.__data__[t]}function $e(t){var e=this.__data__;if(el){var n=e[t];return n===Q?U:n}return gs.call(e,t)?e[t]:U}function Xe(t){var e=this.__data__;return el?e[t]!==U:gs.call(e,t)}function Ve(t,e){var n=this.__data__;return n[t]=el&&e===U?Q:e,this}function Pe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ge(){this.__data__=[]}function We(t){var e=this.__data__,n=vn(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():Ns.call(e,n,1),!0}function Fe(t){var e=this.__data__,n=vn(e,t);return 0>n?U:e[n][1]}function ze(t){return vn(this.__data__,t)>-1}function Ye(t,e){var n=this.__data__,r=vn(n,t);return 0>r?n.push([t,e]):n[r][1]=e,this}function Ze(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ue(){this.__data__={hash:new Ne,map:new(qs||Pe),string:new Ne}}function Ke(t){return jo(this,t)["delete"](t)}function qe(t){return jo(this,t).get(t)}function Je(t){return jo(this,t).has(t)}function Qe(t,e){return jo(this,t).set(t,e),this}function tn(t){var e=-1,n=t?t.length:0;for(this.__data__=new Ze;++e<n;)this.add(t[e])}function en(t){return this.__data__.set(t,Q),this}function nn(t){return this.__data__.has(t)}function rn(t){this.__data__=new Pe(t)}function on(){this.__data__=new Pe}function un(t){return this.__data__["delete"](t)}function an(t){return this.__data__.get(t)}function cn(t){return this.__data__.has(t)}function sn(t,e){var n=this.__data__;return n instanceof Pe&&n.__data__.length==q&&(n=this.__data__=new Ze(n.__data__)),n.set(t,e),this}function ln(t,e,n,r){return t===U||Ju(t,_s[n])&&!gs.call(r,n)?e:t}function fn(t,e,n){(n===U||Ju(t[e],n))&&("number"!=typeof e||n!==U||e in t)||(t[e]=n)}function hn(t,e,n){var r=t[e];gs.call(t,e)&&Ju(r,n)&&(n!==U||e in t)||(t[e]=n)}function vn(t,e){for(var n=t.length;n--;)if(Ju(t[n][0],e))return n;return-1}function dn(t,e,n,r){return vl(t,function(t,o,i){e(r,t,n(t),i)}),r}function pn(t,e){return t&&eo(e,tc(e),t)}function yn(t,e){for(var n=-1,r=null==t,o=e.length,i=Array(o);++n<o;)i[n]=r?U:qa(t,e[n]);return i}function Ln(t,e,n){return t===t&&(n!==U&&(t=n>=t?t:n),e!==U&&(t=t>=e?t:e)),t}function Cn(t,e,n,r,o,i,u){var c;if(r&&(c=i?r(t,o,i,u):r(t)),c!==U)return c;if(!da(t))return t;var s=uf(t);if(s){if(c=Po(t),!e)return to(t,c)}else{var l=$o(t),f=l==It||l==Bt;if(af(t))return Pr(t,e);if(l==Nt||l==Ct||f&&!i){if($(t))return i?t:{};if(c=Go(f?{}:t),!e)return no(t,pn(c,t))}else{if(!On[l])return i?t:{};c=Wo(t,l,Cn,e)}}u||(u=new rn);var h=u.get(t);if(h)return h;if(u.set(t,c),!s)var v=n?So(t):tc(t);return a(v||t,function(o,i){v&&(i=o,o=t[i]),hn(c,i,Cn(o,e,n,r,i,t,u))}),c}function Rn(t){var e=tc(t),n=e.length;return function(r){if(null==r)return!n;for(var o=n;o--;){var i=e[o],u=t[i],a=r[i];if(a===U&&!(i in Object(r))||!u(a))return!1}return!0}}function Sn(t){return da(t)?Bs(t):{}}function An(t,e,n){if("function"!=typeof t)throw new ds(J);return Hs(function(){t.apply(U,n)},e)}function Bn(t,e,n,r){var o=-1,i=f,u=!0,a=t.length,c=[],s=e.length;if(!a)return c;n&&(e=v(e,R(n))),r?(i=h,u=!1):e.length>=q&&(i=A,u=!1,e=new tn(e));t:for(;++o<a;){var l=t[o],d=n?n(l):l;if(l=r||0!==l?l:0,u&&d===d){for(var p=s;p--;)if(e[p]===d)continue t;c.push(l)}else i(e,d,r)||c.push(l)}return c}function jn(t,e){var n=!0;return vl(t,function(t,r,o){return n=!!e(t,r,o)}),n}function Nn(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],u=e(i);if(null!=u&&(a===U?u===u&&!Sa(u):n(u,a)))var a=u,c=i}return c}function Mn(t,e,n,r){var o=t.length;for(n=Na(n),0>n&&(n=-n>o?0:o+n),r=r===U||r>o?o:Na(r),0>r&&(r+=o),r=n>r?0:Ma(r);r>n;)t[n++]=e;return t}function Dn(t,e){var n=[];return vl(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function $n(t,e,n,r,o){var i=-1,u=t.length;for(n||(n=zo),o||(o=[]);++i<u;){var a=t[i];e>0&&n(a)?e>1?$n(a,e-1,n,r,o):d(o,a):r||(o[o.length]=a)}return o}function Pn(t,e){return t&&pl(t,e,tc)}function Gn(t,e){return t&&_l(t,e,tc)}function Wn(t,e){return l(e,function(e){return fa(t[e])})}function Fn(t,e){e=Ko(e,t)?[e]:Xr(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[ui(e[n++])];return n&&n==r?t:U}function zn(t,e,n){var r=e(t);return uf(t)?r:d(r,n(t))}function Yn(t,e){return t>e}function Zn(t,e){return gs.call(t,e)||"object"==typeof t&&e in t&&null===Mo(t)}function Un(t,e){return e in Object(t)}function Kn(t,e,n){return t>=Ws(e,n)&&t<Gs(e,n)}function qn(t,e,n){for(var r=n?h:f,o=t[0].length,i=t.length,u=i,a=Array(i),c=1/0,s=[];u--;){var l=t[u];u&&e&&(l=v(l,R(e))),c=Ws(l.length,c),a[u]=!n&&(e||o>=120&&l.length>=120)?new tn(u&&l):U}l=t[0];var d=-1,p=a[0];t:for(;++d<o&&s.length<c;){var _=l[d],m=e?e(_):_;if(_=n||0!==_?_:0,!(p?A(p,m):r(s,m,n))){for(u=i;--u;){var y=a[u];if(!(y?A(y,m):r(t[u],m,n)))continue t}p&&p.push(m),s.push(_)}}return s}function Jn(t,e,n,r){return Pn(t,function(t,o,i){e(r,n(t),o,i)}),r}function Qn(t,e,n){Ko(e,t)||(e=Xr(e),t=oi(t,e),e=Ci(e));var r=null==t?t:t[ui(e)];return null==r?U:i(r,t,n)}function tr(t,e,n,r,o){return t===e?!0:null==t||null==e||!da(t)&&!pa(e)?t!==t&&e!==e:er(t,e,tr,n,r,o)}function er(t,e,n,r,o,i){var u=uf(t),a=uf(e),c=Rt,s=Rt;u||(c=$o(t),c=c==Ct?Nt:c),a||(s=$o(e),s=s==Ct?Nt:s);var l=c==Nt&&!$(t),f=s==Nt&&!$(e),h=c==s;if(h&&!l)return i||(i=new rn),u||Aa(t)?Lo(t,e,n,r,o,i):Co(t,e,c,n,r,o,i);if(!(o&ht)){var v=l&&gs.call(t,"__wrapped__"),d=f&&gs.call(e,"__wrapped__");if(v||d){var p=v?t.value():t,_=d?e.value():e;return i||(i=new rn),n(p,_,r,o,i)}}return h?(i||(i=new rn),Ro(t,e,n,r,o,i)):!1}function nr(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=n[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){a=n[o];var c=a[0],s=t[c],l=a[1];if(u&&a[2]){if(s===U&&!(c in t))return!1}else{var f=new rn;if(r)var h=r(s,l,c,t,e,f);if(!(h===U?tr(l,s,r,ft|ht,f):h))return!1}}return!0}function rr(t){return"function"==typeof t?t:null==t?Gc:"object"==typeof t?uf(t)?sr(t[0],t[1]):cr(t):qc(t)}function or(t){return Ps(Object(t))}function ir(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function ur(t,e){return e>t}function ar(t,e){var n=-1,r=ea(t)?Array(t.length):[];return vl(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function cr(t){var e=Ho(t);return 1==e.length&&e[0][2]?ei(e[0][0],e[0][1]):function(n){return n===t||nr(n,t,e)}}function sr(t,e){return Ko(t)&&ti(e)?ei(ui(t),e):function(n){var r=qa(n,t);return r===U&&r===e?Qa(n,t):tr(e,r,U,ft|ht)}}function lr(t,e,n,r,o){if(t!==e){if(!uf(e)&&!Aa(e))var i=ec(e);a(i||e,function(u,a){if(i&&(a=u,u=e[a]),da(u))o||(o=new rn),fr(t,e,a,n,lr,r,o);else{var c=r?r(t[a],u,a+"",t,e,o):U;c===U&&(c=u),fn(t,a,c)}})}}function fr(t,e,n,r,o,i,u){var a=t[n],c=e[n],s=u.get(c);if(s)return void fn(t,n,s);var l=i?i(a,c,n+"",t,e,u):U,f=l===U;f&&(l=c,uf(c)||Aa(c)?uf(a)?l=a:na(a)?l=to(a):(f=!1,l=Cn(c,!0)):Ta(c)||Qu(c)?Qu(a)?l=$a(a):!da(a)||r&&fa(a)?(f=!1,l=Cn(c,!0)):l=a:f=!1),u.set(c,l),f&&o(l,c,r,i,u),u["delete"](c),fn(t,n,l)}function hr(t,e){var n=t.length;if(n)return e+=0>e?n:0,Zo(e,n)?t[e]:U}function vr(t,e,n){var r=-1;e=v(e.length?e:[Gc],R(Bo()));var o=ar(t,function(t,n,o){var i=v(e,function(e){return e(t)});return{criteria:i,index:++r,value:t}});return T(o,function(t,e){return qr(t,e,n)})}function dr(t,e){return t=Object(t),p(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function pr(t,e){for(var n=-1,r=Ao(t),o=r.length,i={};++n<o;){var u=r[n],a=t[u];e(a,u)&&(i[u]=a)}return i}function _r(t){return function(e){return null==e?U:e[t]}}function mr(t){return function(e){return Fn(e,t)}}function yr(t,e,n,r){var o=r?w:E,i=-1,u=e.length,a=t;for(n&&(a=v(t,R(n)));++i<u;)for(var c=0,s=e[i],l=n?n(s):s;(c=o(a,l,c,r))>-1;)a!==t&&Ns.call(a,c,1),Ns.call(t,c,1);return t}function gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;if(Zo(o))Ns.call(t,o,1);else if(Ko(o,t))delete t[ui(o)];else{var u=Xr(o),a=oi(t,u);null!=a&&delete a[ui(Ci(u))]}}}return t}function Er(t,e){return t+Ds(zs()*(e-t+1))}function wr(t,e,n,r){for(var o=-1,i=Gs(Ms((e-t)/(n||1)),0),u=Array(i);i--;)u[r?i:++o]=t,t+=n;return u}function br(t,e){var n="";if(!t||1>e||e>wt)return n;do e%2&&(n+=t),e=Ds(e/2),e&&(t+=t);while(e);return n}function kr(t,e,n,r){e=Ko(e,t)?[e]:Xr(e);for(var o=-1,i=e.length,u=i-1,a=t;null!=a&&++o<i;){var c=ui(e[o]);if(da(a)){var s=n;if(o!=u){var l=a[c];s=r?r(l,c,a):U,s===U&&(s=null==l?Zo(e[o+1])?[]:{}:l)}hn(a,c,s)}a=a[c]}return t}function Tr(t,e,n){var r=-1,o=t.length;0>e&&(e=-e>o?0:o+e),n=n>o?o:n,0>n&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function Or(t,e){var n;return vl(t,function(t,r,o){return n=e(t,r,o),!n}),!!n}function Lr(t,e,n){var r=0,o=t?t.length:r;if("number"==typeof e&&e===e&&Lt>=o){for(;o>r;){var i=r+o>>>1,u=t[i];null!==u&&!Sa(u)&&(n?e>=u:e>u)?r=i+1:o=i}return o}return Cr(t,e,Gc,n)}function Cr(t,e,n,r){e=n(e);for(var o=0,i=t?t.length:0,u=e!==e,a=null===e,c=Sa(e),s=e===U;i>o;){var l=Ds((o+i)/2),f=n(t[l]),h=f!==U,v=null===f,d=f===f,p=Sa(f);if(u)var _=r||d;else _=s?d&&(r||h):a?d&&h&&(r||!v):c?d&&h&&!v&&(r||!p):v||p?!1:r?e>=f:e>f;_?o=l+1:i=l}return Ws(i,Ot)}function Rr(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n],a=e?e(u):u;if(!n||!Ju(a,c)){var c=a;i[o++]=0===u?0:u}}return i}function Sr(t){return"number"==typeof t?t:Sa(t)?kt:+t}function Ar(t){if("string"==typeof t)return t;if(Sa(t))return hl?hl.call(t):"";var e=t+"";return"0"==e&&1/t==-Et?"-0":e}function xr(t,e,n){var r=-1,o=f,i=t.length,u=!0,a=[],c=a;if(n)u=!1,o=h;else if(i>=q){var s=e?null:yl(t);if(s)return G(s);u=!1,o=A,c=new tn}else c=e?[]:a;t:for(;++r<i;){var l=t[r],v=e?e(l):l;if(l=n||0!==l?l:0,u&&v===v){for(var d=c.length;d--;)if(c[d]===v)continue t;e&&c.push(v),a.push(l)}else o(c,v,n)||(c!==a&&c.push(v),a.push(l))}return a}function Ir(t,e){e=Ko(e,t)?[e]:Xr(e),t=oi(t,e);var n=ui(Ci(e));return!(null!=t&&Zn(t,n))||delete t[n]}function Br(t,e,n,r){return kr(t,e,n(Fn(t,e)),r)}function jr(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Tr(t,r?0:i,r?i+1:o):Tr(t,r?i+1:0,r?o:i)}function Hr(t,e){var n=t;return n instanceof Ie&&(n=n.value()),p(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function Nr(t,e,n){for(var r=-1,o=t.length;++r<o;)var i=i?d(Bn(i,t[r],e,n),Bn(t[r],i,e,n)):t[r];return i&&i.length?xr(i,e,n):[]}function Mr(t,e,n){for(var r=-1,o=t.length,i=e.length,u={};++r<o;){var a=i>r?e[r]:U;n(u,t[r],a)}return u}function Dr(t){return na(t)?t:[]}function $r(t){return"function"==typeof t?t:Gc}function Xr(t){return uf(t)?t:kl(t)}function Vr(t,e,n){var r=t.length;return n=n===U?r:n,!e&&n>=r?t:Tr(t,e,n)}function Pr(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Gr(t){var e=new t.constructor(t.byteLength);return new Rs(e).set(new Rs(t)),e}function Wr(t,e){var n=e?Gr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Fr(t,e,n){var o=e?n(V(t),!0):V(t);return p(o,r,new t.constructor)}function zr(t){var e=new t.constructor(t.source,be.exec(t));return e.lastIndex=t.lastIndex,e}function Yr(t,e,n){var r=e?n(G(t),!0):G(t);return p(r,o,new t.constructor)}function Zr(t){return fl?Object(fl.call(t)):{}}function Ur(t,e){var n=e?Gr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Kr(t,e){if(t!==e){var n=t!==U,r=null===t,o=t===t,i=Sa(t),u=e!==U,a=null===e,c=e===e,s=Sa(e);if(!a&&!s&&!i&&t>e||i&&u&&c&&!a&&!s||r&&u&&c||!n&&c||!o)return 1;if(!r&&!i&&!s&&e>t||s&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!c)return-1}return 0}function qr(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,u=o.length,a=n.length;++r<u;){var c=Kr(o[r],i[r]);if(c){if(r>=a)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}function Jr(t,e,n,r){for(var o=-1,i=t.length,u=n.length,a=-1,c=e.length,s=Gs(i-u,0),l=Array(c+s),f=!r;++a<c;)l[a]=e[a];for(;++o<u;)(f||i>o)&&(l[n[o]]=t[o]);for(;s--;)l[a++]=t[o++];return l}function Qr(t,e,n,r){for(var o=-1,i=t.length,u=-1,a=n.length,c=-1,s=e.length,l=Gs(i-a,0),f=Array(l+s),h=!r;++o<l;)f[o]=t[o];for(var v=o;++c<s;)f[v+c]=e[c];for(;++u<a;)(h||i>o)&&(f[v+n[u]]=t[o++]);return f}function to(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function eo(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var u=e[o],a=r?r(n[u],t[u],u,n,t):t[u];hn(n,u,a)}return n}function no(t,e){return eo(t,Do(t),e)}function ro(t,e){return function(n,r){var o=uf(n)?u:dn,i=e?e():{};return o(n,t,Bo(r),i)}}function oo(t){return Pu(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:U,u=o>2?n[2]:U;for(i=t.length>3&&"function"==typeof i?(o--,i):U,u&&Uo(n[0],n[1],u)&&(i=3>o?U:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}function io(t,e){return function(n,r){if(null==n)return n;if(!ea(n))return t(n,r);for(var o=n.length,i=e?o:-1,u=Object(n);(e?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function uo(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(n(i[c],c,i)===!1)break}return e}}function ao(t,e,n){function r(){var e=this&&this!==Xn&&this instanceof r?i:t;return e.apply(o?n:this,arguments)}var o=e&et,i=lo(t);return r}function co(t){return function(e){e=Va(e);var n=En.test(e)?z(e):U,r=n?n[0]:e.charAt(0),o=n?Vr(n,1).join(""):e.slice(1);return r[t]()+o}}function so(t){return function(e){return p($c(gc(e).replace(_n,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Sn(t.prototype),r=t.apply(n,e);return da(r)?r:n}}function fo(t,e,n){function r(){for(var u=arguments.length,a=Array(u),c=u,s=Io(r);c--;)a[c]=arguments[c];var l=3>u&&a[0]!==s&&a[u-1]!==s?[]:P(a,s);if(u-=l.length,n>u)return bo(t,e,vo,r.placeholder,U,a,l,U,U,n-u);var f=this&&this!==Xn&&this instanceof r?o:t;return i(f,this,a)}var o=lo(t);return r}function ho(t){return Pu(function(e){e=$n(e,1);var n=e.length,r=n,o=B.prototype.thru;for(t&&e.reverse();r--;){var i=e[r];if("function"!=typeof i)throw new ds(J);if(o&&!u&&"wrapper"==xo(i))var u=new B([],!0)}for(r=u?r:n;++r<n;){i=e[r];var a=xo(i),c="wrapper"==a?gl(i):U;u=c&&Jo(c[0])&&c[1]==(ct|ot|ut|st)&&!c[4].length&&1==c[9]?u[xo(c[0])].apply(u,c[3]):1==i.length&&Jo(i)?u[a]():u.thru(i)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&uf(r)&&r.length>=q)return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}function vo(t,e,n,r,o,i,u,a,c,s){function l(){for(var m=arguments.length,y=Array(m),g=m;g--;)y[g]=arguments[g];if(d)var E=Io(l),w=j(y,E);if(r&&(y=Jr(y,r,o,d)),i&&(y=Qr(y,i,u,d)),m-=w,d&&s>m){var b=P(y,E);return bo(t,e,vo,l.placeholder,n,y,b,a,c,s-m)}var k=h?n:this,T=v?k[t]:t;return m=y.length,a?y=ii(y,a):p&&m>1&&y.reverse(),f&&m>c&&(y.length=c),this&&this!==Xn&&this instanceof l&&(T=_||lo(T)),T.apply(k,y)}var f=e&ct,h=e&et,v=e&nt,d=e&(ot|it),p=e&lt,_=v?U:lo(t);return l}function po(t,e){return function(n,r){return Jn(n,t,e(r),{})}}function _o(t){return function(e,n){var r;if(e===U&&n===U)return 0;if(e!==U&&(r=e),n!==U){if(r===U)return n;"string"==typeof e||"string"==typeof n?(e=Ar(e),n=Ar(n)):(e=Sr(e),n=Sr(n)),r=t(e,n)}return r}}function mo(t){return Pu(function(e){return e=1==e.length&&uf(e[0])?v(e[0],R(Bo())):v($n(e,1,Yo),R(Bo())),Pu(function(n){var r=this;return t(e,function(t){return i(t,r,n)})})})}function yo(t,e){e=e===U?" ":Ar(e);var n=e.length;if(2>n)return n?br(e,t):e;var r=br(e,Ms(t/F(e)));return En.test(e)?Vr(z(r),0,t).join(""):r.slice(0,t)}function go(t,e,n,r){function o(){for(var e=-1,c=arguments.length,s=-1,l=r.length,f=Array(l+c),h=this&&this!==Xn&&this instanceof o?a:t;++s<l;)f[s]=r[s];for(;c--;)f[s++]=arguments[++e];return i(h,u?n:this,f)}var u=e&et,a=lo(t);return o}function Eo(t){return function(e,n,r){return r&&"number"!=typeof r&&Uo(e,n,r)&&(n=r=U),e=Da(e),e=e===e?e:0,n===U?(n=e,e=0):n=Da(n)||0,r=r===U?n>e?1:-1:Da(r)||0,wr(e,n,r,t)}}function wo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Da(e),n=Da(n)),t(e,n)}}function bo(t,e,n,r,o,i,u,a,c,s){var l=e&ot,f=l?u:U,h=l?U:u,v=l?i:U,d=l?U:i;e|=l?ut:at,e&=~(l?at:ut),e&rt||(e&=~(et|nt));var p=[t,e,o,v,f,d,h,a,c,s],_=n.apply(U,p);return Jo(t)&&bl(_,p),_.placeholder=r,_}function ko(t){var e=hs[t];return function(t,n){if(t=Da(t),n=Na(n)){var r=(Va(t)+"e").split("e"),o=e(r[0]+"e"+(+r[1]+n));return r=(Va(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function To(t){return function(e){var n=$o(e);return n==jt?V(e):n==$t?W(e):C(e,t(e))}}function Oo(t,e,n,r,o,i,u,a){var c=e&nt;if(!c&&"function"!=typeof t)throw new ds(J);var s=r?r.length:0;if(s||(e&=~(ut|at),r=o=U),u=u===U?u:Gs(Na(u),0),a=a===U?a:Na(a),s-=o?o.length:0,e&at){var l=r,f=o;r=o=U}var h=c?U:gl(t),v=[t,e,n,r,o,l,f,i,u,a];if(h&&ni(v,h),t=v[0],e=v[1],n=v[2],r=v[3],o=v[4],a=v[9]=null==v[9]?c?0:t.length:Gs(v[9]-s,0),!a&&e&(ot|it)&&(e&=~(ot|it)),e&&e!=et)d=e==ot||e==it?fo(t,e,a):e!=ut&&e!=(et|ut)||o.length?vo.apply(U,v):go(t,e,n,r);else var d=ao(t,e,n);var p=h?ml:bl;return p(d,v)}function Lo(t,e,n,r,o,i){var u=o&ht,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var s=i.get(t);if(s)return s==e;var l=-1,f=!0,h=o&ft?new tn:U;for(i.set(t,e);++l<a;){var v=t[l],d=e[l];if(r)var p=u?r(d,v,l,e,t,i):r(v,d,l,t,e,i);if(p!==U){if(p)continue;f=!1;break}if(h){if(!m(e,function(t,e){return h.has(e)||v!==t&&!n(v,t,r,o,i)?void 0:h.add(e)})){f=!1;break}}else if(v!==d&&!n(v,d,r,o,i)){f=!1;break}}return i["delete"](t),f}function Co(t,e,n,r,o,i,u){switch(n){case Ft:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wt:return!(t.byteLength!=e.byteLength||!r(new Rs(t),new Rs(e)));case St:case At:return+t==+e;case xt:return t.name==e.name&&t.message==e.message;case Ht:return t!=+t?e!=+e:t==+e;case Dt:case Xt:return t==e+"";case jt:var a=V;case $t:var c=i&ht;if(a||(a=G),t.size!=e.size&&!c)return!1;var s=u.get(t);return s?s==e:(i|=ft,u.set(t,e),Lo(a(t),a(e),r,o,i,u));case Vt:if(fl)return fl.call(t)==fl.call(e)}return!1}function Ro(t,e,n,r,o,i){var u=o&ht,a=tc(t),c=a.length,s=tc(e),l=s.length;if(c!=l&&!u)return!1;for(var f=c;f--;){var h=a[f];if(!(u?h in e:Zn(e,h)))return!1}var v=i.get(t);if(v)return v==e;var d=!0;i.set(t,e);for(var p=u;++f<c;){h=a[f];var _=t[h],m=e[h];if(r)var y=u?r(m,_,h,e,t,i):r(_,m,h,t,e,i);if(!(y===U?_===m||n(_,m,r,o,i):y)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var g=t.constructor,E=e.constructor;g!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof E&&E instanceof E)&&(d=!1)}return i["delete"](t),d}function So(t){return zn(t,tc,Do)}function Ao(t){return zn(t,ec,wl)}function xo(t){for(var e=t.name+"",n=ol[e],r=gs.call(ol,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Io(t){var n=gs.call(e,"placeholder")?e:t;return n.placeholder}function Bo(){var t=e.iteratee||Wc;return t=t===Wc?rr:t,arguments.length?t(arguments[0],arguments[1]):t}function jo(t,e){var n=t.__data__;return qo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ho(t){for(var e=Tf(t),n=e.length;n--;)e[n][2]=ti(e[n][1]);return e}function No(t,e){var n=t[e];return Ea(n)?n:U}function Mo(t){return $s(Object(t))}function Do(t){return xs(Object(t))}function $o(t){return bs.call(t)}function Xo(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=Ws(e,t+u);break;case"takeRight":t=Gs(t,e-u)}}return{start:t,end:e}}function Vo(t,e,n){e=Ko(e,t)?[e]:Xr(e);for(var r,o=-1,i=e.length;++o<i;){var u=ui(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;var i=t?t.length:0;return!!i&&va(i)&&Zo(u,i)&&(uf(t)||Ra(t)||Qu(t))}function Po(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&gs.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Go(t){return"function"!=typeof t.constructor||Qo(t)?{}:Sn(Mo(t))}function Wo(t,e,n,r){var o=t.constructor;switch(e){case Wt:return Gr(t);case St:case At:return new o(+t);case Ft:return Wr(t,r);case zt:case Yt:case Zt:case Ut:case Kt:case qt:case Jt:case Qt:case te:return Ur(t,r);case jt:return Fr(t,r,n);case Ht:case Xt:return new o(t);case Dt:return zr(t);case $t:return Yr(t,r,n);case Vt:return Zr(t)}}function Fo(t){var e=t?t.length:U;return va(e)&&(uf(t)||Ra(t)||Qu(t))?L(e,String):null}function zo(t){return uf(t)||Qu(t)}function Yo(t){return uf(t)&&!(2==t.length&&!fa(t[0]))}function Zo(t,e){return e=null==e?wt:e,!!e&&("number"==typeof t||Re.test(t))&&t>-1&&t%1==0&&e>t}function Uo(t,e,n){if(!da(n))return!1;var r=typeof e;return("number"==r?ea(n)&&Zo(e,n.length):"string"==r&&e in n)?Ju(n[e],t):!1}function Ko(t,e){if(uf(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||Sa(t)?!0:he.test(t)||!fe.test(t)||null!=e&&t in Object(e)}function qo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Jo(t){var n=xo(t),r=e[n];if("function"!=typeof r||!(n in Ie.prototype))return!1;if(t===r)return!0;var o=gl(r);return!!o&&t===o[0]}function Qo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||_s;return t===n}function ti(t){return t===t&&!da(t)}function ei(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==U||t in Object(n))}}function ni(t,e){var n=t[1],r=e[1],o=n|r,i=(et|nt|ct)>o,u=r==ct&&n==ot||r==ct&&n==st&&t[7].length<=e[8]||r==(ct|st)&&e[7].length<=e[8]&&n==ot;if(!i&&!u)return t;r&et&&(t[2]=e[2],o|=n&et?0:rt);var a=e[3];if(a){var c=t[3];t[3]=c?Jr(c,a,e[4]):a,t[4]=c?P(t[3],tt):e[4]}return a=e[5],a&&(c=t[5],t[5]=c?Qr(c,a,e[6]):a,t[6]=c?P(t[5],tt):e[6]),a=e[7],a&&(t[7]=a),r&ct&&(t[8]=null==t[8]?e[8]:Ws(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function ri(t,e,n,r,o,i){return da(t)&&da(e)&&lr(t,e,U,ri,i.set(e,t)),t}function oi(t,e){return 1==e.length?t:Fn(t,Tr(e,0,-1))}function ii(t,e){for(var n=t.length,r=Ws(e.length,n),o=to(t);r--;){var i=e[r];t[r]=Zo(i,n)?o[i]:U}return t}function ui(t){if("string"==typeof t||Sa(t))return t;var e=t+"";return"0"==e&&1/t==-Et?"-0":e}function ai(t){if(null!=t){try{return ys.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ci(t){if(t instanceof Ie)return t.clone();var e=new B(t.__wrapped__,t.__chain__);return e.__actions__=to(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function si(t,e,n){e=(n?Uo(t,e,n):e===U)?1:Gs(Na(e),0);var r=t?t.length:0;if(!r||1>e)return[];for(var o=0,i=0,u=Array(Ms(r/e));r>o;)u[i++]=Tr(t,o,o+=e);return u}function li(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function fi(){for(var t=arguments.length,e=Array(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?d(uf(n)?to(n):[n],$n(e,1)):[]}function hi(t,e,n){var r=t?t.length:0;return r?(e=n||e===U?1:Na(e),Tr(t,0>e?0:e,r)):[]}function vi(t,e,n){var r=t?t.length:0;return r?(e=n||e===U?1:Na(e),e=r-e,Tr(t,0,0>e?0:e)):[]}function di(t,e){return t&&t.length?jr(t,Bo(e,3),!0,!0):[]}function pi(t,e){return t&&t.length?jr(t,Bo(e,3),!0):[]}function _i(t,e,n,r){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&Uo(t,e,n)&&(n=0,r=o),Mn(t,e,n,r)):[]}function mi(t,e){return t&&t.length?g(t,Bo(e,3)):-1}function yi(t,e){return t&&t.length?g(t,Bo(e,3),!0):-1}function gi(t){var e=t?t.length:0;return e?$n(t,1):[]}function Ei(t){var e=t?t.length:0;return e?$n(t,Et):[]}function wi(t,e){var n=t?t.length:0;return n?(e=e===U?1:Na(e),$n(t,e)):[]}function bi(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r}function ki(t){return t&&t.length?t[0]:U}function Ti(t,e,n){var r=t?t.length:0;return r?(n=Na(n),0>n&&(n=Gs(r+n,0)),E(t,e,n)):-1}function Oi(t){return vi(t,1)}function Li(t,e){return t?Vs.call(t,e):""}function Ci(t){var e=t?t.length:0;return e?t[e-1]:U}function Ri(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=r;if(n!==U&&(o=Na(n),o=(0>o?Gs(r+o,0):Ws(o,r-1))+1),e!==e)return D(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1}function Si(t,e){return t&&t.length?hr(t,Na(e)):U}function Ai(t,e){return t&&t.length&&e&&e.length?yr(t,e):t}function xi(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,Bo(n)):t}function Ii(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,U,n):t}function Bi(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Bo(e,3);++r<i;){var u=t[r];e(u,r,t)&&(n.push(u),o.push(r))}return gr(t,o),n}function ji(t){return t?Zs.call(t):t}function Hi(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Uo(t,e,n)?(e=0,n=r):(e=null==e?0:Na(e),n=n===U?r:Na(n)),Tr(t,e,n)):[]}function Ni(t,e){return Lr(t,e)}function Mi(t,e,n){return Cr(t,e,Bo(n))}function Di(t,e){var n=t?t.length:0;if(n){var r=Lr(t,e);if(n>r&&Ju(t[r],e))return r}return-1}function $i(t,e){return Lr(t,e,!0)}function Xi(t,e,n){return Cr(t,e,Bo(n),!0)}function Vi(t,e){var n=t?t.length:0;if(n){var r=Lr(t,e,!0)-1;if(Ju(t[r],e))return r}return-1}function Pi(t){return t&&t.length?Rr(t):[]}function Gi(t,e){return t&&t.length?Rr(t,Bo(e)):[]}function Wi(t){return hi(t,1)}function Fi(t,e,n){return t&&t.length?(e=n||e===U?1:Na(e),Tr(t,0,0>e?0:e)):[]}function zi(t,e,n){var r=t?t.length:0;return r?(e=n||e===U?1:Na(e),e=r-e,Tr(t,0>e?0:e,r)):[]}function Yi(t,e){return t&&t.length?jr(t,Bo(e,3),!1,!0):[]}function Zi(t,e){return t&&t.length?jr(t,Bo(e,3)):[]}function Ui(t){return t&&t.length?xr(t):[]}function Ki(t,e){return t&&t.length?xr(t,Bo(e)):[]}function qi(t,e){return t&&t.length?xr(t,U,e):[]}function Ji(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){return na(t)?(e=Gs(t.length,e),!0):void 0}),L(e,function(e){return v(t,_r(e))})}function Qi(t,e){if(!t||!t.length)return[];var n=Ji(t);return null==e?n:v(n,function(t){return i(e,U,t);
})}function tu(t,e){return Mr(t||[],e||[],hn)}function eu(t,e){return Mr(t||[],e||[],kr)}function nu(t){var n=e(t);return n.__chain__=!0,n}function ru(t,e){return e(t),t}function ou(t,e){return e(t)}function iu(){return nu(this)}function uu(){return new B(this.value(),this.__chain__)}function au(){this.__values__===U&&(this.__values__=ja(this.value()));var t=this.__index__>=this.__values__.length,e=t?U:this.__values__[this.__index__++];return{done:t,value:e}}function cu(){return this}function su(t){for(var e,r=this;r instanceof n;){var o=ci(r);o.__index__=0,o.__values__=U,e?i.__wrapped__=o:e=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,e}function lu(){var t=this.__wrapped__;if(t instanceof Ie){var e=t;return this.__actions__.length&&(e=new Ie(this)),e=e.reverse(),e.__actions__.push({func:ou,args:[ji],thisArg:U}),new B(e,this.__chain__)}return this.thru(ji)}function fu(){return Hr(this.__wrapped__,this.__actions__)}function hu(t,e,n){var r=uf(t)?s:jn;return n&&Uo(t,e,n)&&(e=U),r(t,Bo(e,3))}function vu(t,e){var n=uf(t)?l:Dn;return n(t,Bo(e,3))}function du(t,e){if(e=Bo(e,3),uf(t)){var n=g(t,e);return n>-1?t[n]:U}return y(t,e,vl)}function pu(t,e){if(e=Bo(e,3),uf(t)){var n=g(t,e,!0);return n>-1?t[n]:U}return y(t,e,dl)}function _u(t,e){return $n(bu(t,e),1)}function mu(t,e){return $n(bu(t,e),Et)}function yu(t,e,n){return n=n===U?1:Na(n),$n(bu(t,e),n)}function gu(t,e){var n=uf(t)?a:vl;return n(t,Bo(e,3))}function Eu(t,e){var n=uf(t)?c:dl;return n(t,Bo(e,3))}function wu(t,e,n,r){t=ea(t)?t:vc(t),n=n&&!r?Na(n):0;var o=t.length;return 0>n&&(n=Gs(o+n,0)),Ra(t)?o>=n&&t.indexOf(e,n)>-1:!!o&&E(t,e,n)>-1}function bu(t,e){var n=uf(t)?v:ar;return n(t,Bo(e,3))}function ku(t,e,n,r){return null==t?[]:(uf(e)||(e=null==e?[]:[e]),n=r?U:n,uf(n)||(n=null==n?[]:[n]),vr(t,e,n))}function Tu(t,e,n){var r=uf(t)?p:k,o=arguments.length<3;return r(t,Bo(e,4),n,o,vl)}function Ou(t,e,n){var r=uf(t)?_:k,o=arguments.length<3;return r(t,Bo(e,4),n,o,dl)}function Lu(t,e){var n=uf(t)?l:Dn;return e=Bo(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function Cu(t){var e=ea(t)?t:vc(t),n=e.length;return n>0?e[Er(0,n-1)]:U}function Ru(t,e,n){var r=-1,o=ja(t),i=o.length,u=i-1;for(e=(n?Uo(t,e,n):e===U)?1:Ln(Na(e),0,i);++r<e;){var a=Er(r,u),c=o[a];o[a]=o[r],o[r]=c}return o.length=e,o}function Su(t){return Ru(t,Tt)}function Au(t){if(null==t)return 0;if(ea(t)){var e=t.length;return e&&Ra(t)?F(t):e}if(pa(t)){var n=$o(t);if(n==jt||n==$t)return t.size}return tc(t).length}function xu(t,e,n){var r=uf(t)?m:Or;return n&&Uo(t,e,n)&&(e=U),r(t,Bo(e,3))}function Iu(t,e){if("function"!=typeof e)throw new ds(J);return t=Na(t),function(){return--t<1?e.apply(this,arguments):void 0}}function Bu(t,e,n){return e=n?U:e,e=t&&null==e?t.length:e,Oo(t,ct,U,U,U,U,e)}function ju(t,e){var n;if("function"!=typeof e)throw new ds(J);return t=Na(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=U),n}}function Hu(t,e,n){e=n?U:e;var r=Oo(t,ot,U,U,U,U,U,e);return r.placeholder=Hu.placeholder,r}function Nu(t,e,n){e=n?U:e;var r=Oo(t,it,U,U,U,U,U,e);return r.placeholder=Nu.placeholder,r}function Mu(t,e,n){function r(e){var n=h,r=v;return h=v=U,y=e,p=t.apply(r,n)}function o(t){return y=t,_=Hs(a,e),g?r(t):p}function i(t){var n=t-m,r=t-y,o=e-n;return E?Ws(o,d-r):o}function u(t){var n=t-m,r=t-y;return!m||n>=e||0>n||E&&r>=d}function a(){var t=Zl();return u(t)?c(t):void(_=Hs(a,i(t)))}function c(t){return Ss(_),_=U,w&&h?r(t):(h=v=U,p)}function s(){_!==U&&Ss(_),m=y=0,h=v=_=U}function l(){return _===U?p:c(Zl())}function f(){var t=Zl(),n=u(t);if(h=arguments,v=this,m=t,n){if(_===U)return o(m);if(E)return Ss(_),_=Hs(a,e),r(m)}return _===U&&(_=Hs(a,e)),p}var h,v,d,p,_,m=0,y=0,g=!1,E=!1,w=!0;if("function"!=typeof t)throw new ds(J);return e=Da(e)||0,da(n)&&(g=!!n.leading,E="maxWait"in n,d=E?Gs(Da(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),f.cancel=s,f.flush=l,f}function Du(t){return Oo(t,lt)}function $u(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new ds(J);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new($u.Cache||Ze),n}function Xu(t){if("function"!=typeof t)throw new ds(J);return function(){return!t.apply(this,arguments)}}function Vu(t){return ju(2,t)}function Pu(t,e){if("function"!=typeof t)throw new ds(J);return e=Gs(e===U?t.length-1:Na(e),0),function(){for(var n=arguments,r=-1,o=Gs(n.length-e,0),u=Array(o);++r<o;)u[r]=n[e+r];switch(e){case 0:return t.call(this,u);case 1:return t.call(this,n[0],u);case 2:return t.call(this,n[0],n[1],u)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=u,i(t,this,a)}}function Gu(t,e){if("function"!=typeof t)throw new ds(J);return e=e===U?0:Gs(Na(e),0),Pu(function(n){var r=n[e],o=Vr(n,0,e);return r&&d(o,r),i(t,this,o)})}function Wu(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new ds(J);return da(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Mu(t,e,{leading:r,maxWait:e,trailing:o})}function Fu(t){return Bu(t,1)}function zu(t,e){return e=null==e?Gc:e,tf(e,t)}function Yu(){if(!arguments.length)return[];var t=arguments[0];return uf(t)?t:[t]}function Zu(t){return Cn(t,!1,!0)}function Uu(t,e){return Cn(t,!1,!0,e)}function Ku(t){return Cn(t,!0,!0)}function qu(t,e){return Cn(t,!0,!0,e)}function Ju(t,e){return t===e||t!==t&&e!==e}function Qu(t){return na(t)&&gs.call(t,"callee")&&(!js.call(t,"callee")||bs.call(t)==Ct)}function ta(t){return pa(t)&&bs.call(t)==Wt}function ea(t){return null!=t&&va(El(t))&&!fa(t)}function na(t){return pa(t)&&ea(t)}function ra(t){return t===!0||t===!1||pa(t)&&bs.call(t)==St}function oa(t){return pa(t)&&bs.call(t)==At}function ia(t){return!!t&&1===t.nodeType&&pa(t)&&!Ta(t)}function ua(t){if(ea(t)&&(uf(t)||Ra(t)||fa(t.splice)||Qu(t)||af(t)))return!t.length;if(pa(t)){var e=$o(t);if(e==jt||e==$t)return!t.size}for(var n in t)if(gs.call(t,n))return!1;return!(rl&&tc(t).length)}function aa(t,e){return tr(t,e)}function ca(t,e,n){n="function"==typeof n?n:U;var r=n?n(t,e):U;return r===U?tr(t,e,n):!!r}function sa(t){return pa(t)?bs.call(t)==xt||"string"==typeof t.message&&"string"==typeof t.name:!1}function la(t){return"number"==typeof t&&Xs(t)}function fa(t){var e=da(t)?bs.call(t):"";return e==It||e==Bt}function ha(t){return"number"==typeof t&&t==Na(t)}function va(t){return"number"==typeof t&&t>-1&&t%1==0&&wt>=t}function da(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function pa(t){return!!t&&"object"==typeof t}function _a(t){return pa(t)&&$o(t)==jt}function ma(t,e){return t===e||nr(t,e,Ho(e))}function ya(t,e,n){return n="function"==typeof n?n:U,nr(t,e,Ho(e),n)}function ga(t){return ka(t)&&t!=+t}function Ea(t){if(!da(t))return!1;var e=fa(t)||$(t)?Ts:Le;return e.test(ai(t))}function wa(t){return null===t}function ba(t){return null==t}function ka(t){return"number"==typeof t||pa(t)&&bs.call(t)==Ht}function Ta(t){if(!pa(t)||bs.call(t)!=Nt||$(t))return!1;var e=Mo(t);if(null===e)return!0;var n=gs.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ys.call(n)==ws}function Oa(t){return da(t)&&bs.call(t)==Dt}function La(t){return ha(t)&&t>=-wt&&wt>=t}function Ca(t){return pa(t)&&$o(t)==$t}function Ra(t){return"string"==typeof t||!uf(t)&&pa(t)&&bs.call(t)==Xt}function Sa(t){return"symbol"==typeof t||pa(t)&&bs.call(t)==Vt}function Aa(t){return pa(t)&&va(t.length)&&!!Tn[bs.call(t)]}function xa(t){return t===U}function Ia(t){return pa(t)&&$o(t)==Pt}function Ba(t){return pa(t)&&bs.call(t)==Gt}function ja(t){if(!t)return[];if(ea(t))return Ra(t)?z(t):to(t);if(Is&&t[Is])return X(t[Is]());var e=$o(t),n=e==jt?V:e==$t?G:vc;return n(t)}function Ha(t){if(!t)return 0===t?t:0;if(t=Da(t),t===Et||t===-Et){var e=0>t?-1:1;return e*bt}return t===t?t:0}function Na(t){var e=Ha(t),n=e%1;return e===e?n?e-n:e:0}function Ma(t){return t?Ln(Na(t),0,Tt):0}function Da(t){if("number"==typeof t)return t;if(Sa(t))return kt;if(da(t)){var e=fa(t.valueOf)?t.valueOf():t;t=da(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_e,"");var n=Oe.test(t);return n||Ce.test(t)?In(t.slice(2),n?2:8):Te.test(t)?kt:+t}function $a(t){return eo(t,ec(t))}function Xa(t){return Ln(Na(t),-wt,wt)}function Va(t){return null==t?"":Ar(t)}function Pa(t,e){var n=Sn(t);return e?pn(n,e):n}function Ga(t,e){return y(t,Bo(e,3),Pn,!0)}function Wa(t,e){return y(t,Bo(e,3),Gn,!0)}function Fa(t,e){return null==t?t:pl(t,Bo(e,3),ec)}function za(t,e){return null==t?t:_l(t,Bo(e,3),ec)}function Ya(t,e){return t&&Pn(t,Bo(e,3))}function Za(t,e){return t&&Gn(t,Bo(e,3))}function Ua(t){return null==t?[]:Wn(t,tc(t))}function Ka(t){return null==t?[]:Wn(t,ec(t))}function qa(t,e,n){var r=null==t?U:Fn(t,e);return r===U?n:r}function Ja(t,e){return null!=t&&Vo(t,e,Zn)}function Qa(t,e){return null!=t&&Vo(t,e,Un)}function tc(t){var e=Qo(t);if(!e&&!ea(t))return or(t);var n=Fo(t),r=!!n,o=n||[],i=o.length;for(var u in t)!Zn(t,u)||r&&("length"==u||Zo(u,i))||e&&"constructor"==u||o.push(u);return o}function ec(t){for(var e=-1,n=Qo(t),r=ir(t),o=r.length,i=Fo(t),u=!!i,a=i||[],c=a.length;++e<o;){var s=r[e];u&&("length"==s||Zo(s,c))||"constructor"==s&&(n||!gs.call(t,s))||a.push(s)}return a}function nc(t,e){var n={};return e=Bo(e,3),Pn(t,function(t,r,o){n[e(t,r,o)]=t}),n}function rc(t,e){var n={};return e=Bo(e,3),Pn(t,function(t,r,o){n[r]=e(t,r,o)}),n}function oc(t,e){return e=Bo(e),pr(t,function(t,n){return!e(t,n)})}function ic(t,e){return null==t?{}:pr(t,Bo(e))}function uc(t,e,n){e=Ko(e,t)?[e]:Xr(e);var r=-1,o=e.length;for(o||(t=U,o=1);++r<o;){var i=null==t?U:t[ui(e[r])];i===U&&(r=o,i=n),t=fa(i)?i.call(t):i}return t}function ac(t,e,n){return null==t?t:kr(t,e,n)}function cc(t,e,n,r){return r="function"==typeof r?r:U,null==t?t:kr(t,e,n,r)}function sc(t,e,n){var r=uf(t)||Aa(t);if(e=Bo(e,4),null==n)if(r||da(t)){var o=t.constructor;n=r?uf(t)?new o:[]:fa(o)?Sn(Mo(t)):{}}else n={};return(r?a:Pn)(t,function(t,r,o){return e(n,t,r,o)}),n}function lc(t,e){return null==t?!0:Ir(t,e)}function fc(t,e,n){return null==t?t:Br(t,e,$r(n))}function hc(t,e,n,r){return r="function"==typeof r?r:U,null==t?t:Br(t,e,$r(n),r)}function vc(t){return t?S(t,tc(t)):[]}function dc(t){return null==t?[]:S(t,ec(t))}function pc(t,e,n){return n===U&&(n=e,e=U),n!==U&&(n=Da(n),n=n===n?n:0),e!==U&&(e=Da(e),e=e===e?e:0),Ln(Da(t),e,n)}function _c(t,e,n){return e=Da(e)||0,n===U?(n=e,e=0):n=Da(n)||0,t=Da(t),Kn(t,e,n)}function mc(t,e,n){if(n&&"boolean"!=typeof n&&Uo(t,e,n)&&(e=n=U),n===U&&("boolean"==typeof e?(n=e,e=U):"boolean"==typeof t&&(n=t,t=U)),t===U&&e===U?(t=0,e=1):(t=Da(t)||0,e===U?(e=t,t=0):e=Da(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=zs();return Ws(t+o*(e-t+xn("1e-"+((o+"").length-1))),e)}return Er(t,e)}function yc(t){return Bf(Va(t).toLowerCase())}function gc(t){return t=Va(t),t&&t.replace(Se,H).replace(mn,"")}function Ec(t,e,n){t=Va(t),e=Ar(e);var r=t.length;return n=n===U?r:Ln(Na(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function wc(t){return t=Va(t),t&&ae.test(t)?t.replace(ie,N):t}function bc(t){return t=Va(t),t&&pe.test(t)?t.replace(de,"\\$&"):t}function kc(t,e,n){t=Va(t),e=Na(e);var r=e?F(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return yo(Ds(o),n)+t+yo(Ms(o),n)}function Tc(t,e,n){t=Va(t),e=Na(e);var r=e?F(t):0;return e&&e>r?t+yo(e-r,n):t}function Oc(t,e,n){t=Va(t),e=Na(e);var r=e?F(t):0;return e&&e>r?yo(e-r,n)+t:t}function Lc(t,e,n){return n||null==e?e=0:e&&(e=+e),t=Va(t).replace(_e,""),Fs(t,e||(ke.test(t)?16:10))}function Cc(t,e,n){return e=(n?Uo(t,e,n):e===U)?1:Na(e),br(Va(t),e)}function Rc(){var t=arguments,e=Va(t[0]);return t.length<3?e:Ys.call(e,t[1],t[2])}function Sc(t,e,n){return n&&"number"!=typeof n&&Uo(t,e,n)&&(e=n=U),(n=n===U?Tt:n>>>0)?(t=Va(t),t&&("string"==typeof e||null!=e&&!Oa(e))&&(e=Ar(e),""==e&&En.test(t))?Vr(z(t),0,n):Us.call(t,e,n)):[]}function Ac(t,e,n){return t=Va(t),n=Ln(Na(n),0,t.length),t.lastIndexOf(Ar(e),n)==n}function xc(t,n,r){var o=e.templateSettings;r&&Uo(t,n,r)&&(n=U),t=Va(t),n=hf({},n,o,ln);var i,u,a=hf({},n.imports,o.imports,ln),c=tc(a),s=S(a,c),l=0,f=n.interpolate||Ae,h="__p += '",v=vs((n.escape||Ae).source+"|"+f.source+"|"+(f===le?we:Ae).source+"|"+(n.evaluate||Ae).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++kn+"]")+"\n";t.replace(v,function(e,n,r,o,a,c){return r||(r=o),h+=t.slice(l,c).replace(xe,M),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),h+="';\n";var p=n.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(ee,""):h).replace(ne,"$1").replace(re,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=jf(function(){return Function(c,d+"return "+h).apply(U,s)});if(_.source=h,sa(_))throw _;return _}function Ic(t){return Va(t).toLowerCase()}function Bc(t){return Va(t).toUpperCase()}function jc(t,e,n){if(t=Va(t),t&&(n||e===U))return t.replace(_e,"");if(!t||!(e=Ar(e)))return t;var r=z(t),o=z(e),i=x(r,o),u=I(r,o)+1;return Vr(r,i,u).join("")}function Hc(t,e,n){if(t=Va(t),t&&(n||e===U))return t.replace(ye,"");if(!t||!(e=Ar(e)))return t;var r=z(t),o=I(r,z(e))+1;return Vr(r,0,o).join("")}function Nc(t,e,n){if(t=Va(t),t&&(n||e===U))return t.replace(me,"");if(!t||!(e=Ar(e)))return t;var r=z(t),o=x(r,z(e));return Vr(r,o).join("")}function Mc(t,e){var n=vt,r=dt;if(da(e)){var o="separator"in e?e.separator:o;n="length"in e?Na(e.length):n,r="omission"in e?Ar(e.omission):r}t=Va(t);var i=t.length;if(En.test(t)){var u=z(t);i=u.length}if(n>=i)return t;var a=n-F(r);if(1>a)return r;var c=u?Vr(u,0,a).join(""):t.slice(0,a);if(o===U)return c+r;if(u&&(a+=c.length-a),Oa(o)){if(t.slice(a).search(o)){var s,l=c;for(o.global||(o=vs(o.source,Va(be.exec(o))+"g")),o.lastIndex=0;s=o.exec(l);)var f=s.index;c=c.slice(0,f===U?a:f)}}else if(t.indexOf(Ar(o),a)!=a){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r}function Dc(t){return t=Va(t),t&&ue.test(t)?t.replace(oe,Y):t}function $c(t,e,n){return t=Va(t),e=n?U:e,e===U&&(e=wn.test(t)?gn:ge),t.match(e)||[]}function Xc(t){var e=t?t.length:0,n=Bo();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new ds(J);return[n(t[0]),t[1]]}):[],Pu(function(n){for(var r=-1;++r<e;){var o=t[r];if(i(o[0],this,n))return i(o[1],this,n)}})}function Vc(t){return Rn(Cn(t,!0))}function Pc(t){return function(){return t}}function Gc(t){return t}function Wc(t){return rr("function"==typeof t?t:Cn(t,!0))}function Fc(t){return cr(Cn(t,!0))}function zc(t,e){return sr(t,Cn(e,!0))}function Yc(t,e,n){var r=tc(e),o=Wn(e,r);null!=n||da(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Wn(e,tc(e)));var i=!(da(n)&&"chain"in n&&!n.chain),u=fa(t);return a(o,function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=to(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Zc(){return Xn._===this&&(Xn._=ks),this}function Uc(){}function Kc(t){return t=Na(t),Pu(function(e){return hr(e,t)})}function qc(t){return Ko(t)?_r(ui(t)):mr(t)}function Jc(t){return function(e){return null==t?U:Fn(t,e)}}function Qc(t,e){if(t=Na(t),1>t||t>wt)return[];var n=Tt,r=Ws(t,Tt);e=Bo(e),t-=Tt;for(var o=L(r,e);++n<t;)e(n);return o}function ts(t){return uf(t)?v(t,ui):Sa(t)?[t]:to(kl(t))}function es(t){var e=++Es;return Va(t)+e}function ns(t){return t&&t.length?Nn(t,Gc,Yn):U}function rs(t,e){return t&&t.length?Nn(t,Bo(e),Yn):U}function os(t){return b(t,Gc)}function is(t,e){return b(t,Bo(e))}function us(t){return t&&t.length?Nn(t,Gc,ur):U}function as(t,e){return t&&t.length?Nn(t,Bo(e),ur):U}function cs(t){return t&&t.length?O(t,Gc):0}function ss(t,e){return t&&t.length?O(t,Bo(e)):0}t=t?Vn.defaults({},t,Vn.pick(Xn,bn)):Xn;var ls=t.Date,fs=t.Error,hs=t.Math,vs=t.RegExp,ds=t.TypeError,ps=t.Array.prototype,_s=t.Object.prototype,ms=t.String.prototype,ys=t.Function.prototype.toString,gs=_s.hasOwnProperty,Es=0,ws=ys.call(Object),bs=_s.toString,ks=Xn._,Ts=vs("^"+ys.call(gs).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Os=Hn?t.Buffer:U,Ls=t.Reflect,Cs=t.Symbol,Rs=t.Uint8Array,Ss=t.clearTimeout,As=Ls?Ls.enumerate:U,xs=Object.getOwnPropertySymbols,Is="symbol"==typeof(Is=Cs&&Cs.iterator)?Is:U,Bs=Object.create,js=_s.propertyIsEnumerable,Hs=t.setTimeout,Ns=ps.splice,Ms=hs.ceil,Ds=hs.floor,$s=Object.getPrototypeOf,Xs=t.isFinite,Vs=ps.join,Ps=Object.keys,Gs=hs.max,Ws=hs.min,Fs=t.parseInt,zs=hs.random,Ys=ms.replace,Zs=ps.reverse,Us=ms.split,Ks=No(t,"DataView"),qs=No(t,"Map"),Js=No(t,"Promise"),Qs=No(t,"Set"),tl=No(t,"WeakMap"),el=No(Object,"create"),nl=tl&&new tl,rl=!js.call({valueOf:1},"valueOf"),ol={},il=ai(Ks),ul=ai(qs),al=ai(Js),cl=ai(Qs),sl=ai(tl),ll=Cs?Cs.prototype:U,fl=ll?ll.valueOf:U,hl=ll?ll.toString:U;e.templateSettings={escape:ce,evaluate:se,interpolate:le,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,B.prototype=Sn(n.prototype),B.prototype.constructor=B,Ie.prototype=Sn(n.prototype),Ie.prototype.constructor=Ie,Ne.prototype.clear=Me,Ne.prototype["delete"]=De,Ne.prototype.get=$e,Ne.prototype.has=Xe,Ne.prototype.set=Ve,Pe.prototype.clear=Ge,Pe.prototype["delete"]=We,Pe.prototype.get=Fe,Pe.prototype.has=ze,Pe.prototype.set=Ye,Ze.prototype.clear=Ue,Ze.prototype["delete"]=Ke,Ze.prototype.get=qe,Ze.prototype.has=Je,Ze.prototype.set=Qe,tn.prototype.add=tn.prototype.push=en,tn.prototype.has=nn,rn.prototype.clear=on,rn.prototype["delete"]=un,rn.prototype.get=an,rn.prototype.has=cn,rn.prototype.set=sn;var vl=io(Pn),dl=io(Gn,!0),pl=uo(),_l=uo(!0);As&&!js.call({valueOf:1},"valueOf")&&(ir=function(t){return X(As(t))});var ml=nl?function(t,e){return nl.set(t,e),t}:Gc,yl=Qs&&1/G(new Qs([,-0]))[1]==Et?function(t){return new Qs(t)}:Uc,gl=nl?function(t){return nl.get(t)}:Uc,El=_r("length");xs||(Do=function(){return[]});var wl=xs?function(t){for(var e=[];t;)d(e,Do(t)),t=Mo(t);return e}:Do;(Ks&&$o(new Ks(new ArrayBuffer(1)))!=Ft||qs&&$o(new qs)!=jt||Js&&$o(Js.resolve())!=Mt||Qs&&$o(new Qs)!=$t||tl&&$o(new tl)!=Pt)&&($o=function(t){var e=bs.call(t),n=e==Nt?t.constructor:U,r=n?ai(n):U;if(r)switch(r){case il:return Ft;case ul:return jt;case al:return Mt;case cl:return $t;case sl:return Pt}return e});var bl=function(){var t=0,e=0;return function(n,r){var o=Zl(),i=_t-(o-e);if(e=o,i>0){if(++t>=pt)return n}else t=0;return ml(n,r)}}(),kl=$u(function(t){var e=[];return Va(t).replace(ve,function(t,n,r,o){e.push(r?o.replace(Ee,"$1"):n||t)}),e}),Tl=Pu(function(t,e){return na(t)?Bn(t,$n(e,1,na,!0)):[]}),Ol=Pu(function(t,e){var n=Ci(e);return na(n)&&(n=U),na(t)?Bn(t,$n(e,1,na,!0),Bo(n)):[]}),Ll=Pu(function(t,e){var n=Ci(e);return na(n)&&(n=U),na(t)?Bn(t,$n(e,1,na,!0),U,n):[]}),Cl=Pu(function(t){var e=v(t,Dr);return e.length&&e[0]===t[0]?qn(e):[]}),Rl=Pu(function(t){var e=Ci(t),n=v(t,Dr);return e===Ci(n)?e=U:n.pop(),n.length&&n[0]===t[0]?qn(n,Bo(e)):[]}),Sl=Pu(function(t){var e=Ci(t),n=v(t,Dr);return e===Ci(n)?e=U:n.pop(),n.length&&n[0]===t[0]?qn(n,U,e):[]}),Al=Pu(Ai),xl=Pu(function(t,e){e=$n(e,1);var n=t?t.length:0,r=yn(t,e);return gr(t,v(e,function(t){return Zo(t,n)?+t:t}).sort(Kr)),r}),Il=Pu(function(t){return xr($n(t,1,na,!0))}),Bl=Pu(function(t){var e=Ci(t);return na(e)&&(e=U),xr($n(t,1,na,!0),Bo(e))}),jl=Pu(function(t){var e=Ci(t);return na(e)&&(e=U),xr($n(t,1,na,!0),U,e)}),Hl=Pu(function(t,e){return na(t)?Bn(t,e):[]}),Nl=Pu(function(t){return Nr(l(t,na))}),Ml=Pu(function(t){var e=Ci(t);return na(e)&&(e=U),Nr(l(t,na),Bo(e))}),Dl=Pu(function(t){var e=Ci(t);return na(e)&&(e=U),Nr(l(t,na),U,e)}),$l=Pu(Ji),Xl=Pu(function(t){var e=t.length,n=e>1?t[e-1]:U;return n="function"==typeof n?(t.pop(),n):U,Qi(t,n)}),Vl=Pu(function(t){t=$n(t,1);var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Ie&&Zo(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:ou,args:[o],thisArg:U}),new B(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(U),t})):this.thru(o)}),Pl=ro(function(t,e,n){gs.call(t,n)?++t[n]:t[n]=1}),Gl=ro(function(t,e,n){gs.call(t,n)?t[n].push(e):t[n]=[e]}),Wl=Pu(function(t,e,n){var r=-1,o="function"==typeof e,u=Ko(e),a=ea(t)?Array(t.length):[];return vl(t,function(t){var c=o?e:u&&null!=t?t[e]:U;a[++r]=c?i(c,t,n):Qn(t,e,n)}),a}),Fl=ro(function(t,e,n){t[n]=e}),zl=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Yl=Pu(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Uo(t,e[0],e[1])?e=[]:n>2&&Uo(e[0],e[1],e[2])&&(e=[e[0]]),e=1==e.length&&uf(e[0])?e[0]:$n(e,1,Yo),vr(t,e,[])}),Zl=ls.now,Ul=Pu(function(t,e,n){var r=et;if(n.length){var o=P(n,Io(Ul));r|=ut}return Oo(t,r,e,n,o)}),Kl=Pu(function(t,e,n){var r=et|nt;if(n.length){var o=P(n,Io(Kl));r|=ut}return Oo(e,r,t,n,o)}),ql=Pu(function(t,e){return An(t,1,e)}),Jl=Pu(function(t,e,n){return An(t,Da(e)||0,n)});$u.Cache=Ze;var Ql=Pu(function(t,e){e=1==e.length&&uf(e[0])?v(e[0],R(Bo())):v($n(e,1,Yo),R(Bo()));var n=e.length;return Pu(function(r){for(var o=-1,u=Ws(r.length,n);++o<u;)r[o]=e[o].call(this,r[o]);return i(t,this,r)})}),tf=Pu(function(t,e){var n=P(e,Io(tf));return Oo(t,ut,U,e,n)}),ef=Pu(function(t,e){var n=P(e,Io(ef));return Oo(t,at,U,e,n)}),nf=Pu(function(t,e){return Oo(t,st,U,U,U,$n(e,1))}),rf=wo(Yn),of=wo(function(t,e){return t>=e}),uf=Array.isArray,af=Os?function(t){return t instanceof Os}:Pc(!1),cf=wo(ur),sf=wo(function(t,e){return e>=t}),lf=oo(function(t,e){if(rl||Qo(e)||ea(e))return void eo(e,tc(e),t);for(var n in e)gs.call(e,n)&&hn(t,n,e[n])}),ff=oo(function(t,e){if(rl||Qo(e)||ea(e))return void eo(e,ec(e),t);for(var n in e)hn(t,n,e[n])}),hf=oo(function(t,e,n,r){eo(e,ec(e),t,r)}),vf=oo(function(t,e,n,r){eo(e,tc(e),t,r)}),df=Pu(function(t,e){return yn(t,$n(e,1))}),pf=Pu(function(t){return t.push(U,ln),i(hf,U,t)}),_f=Pu(function(t){return t.push(U,ri),i(wf,U,t)}),mf=po(function(t,e,n){t[e]=n},Pc(Gc)),yf=po(function(t,e,n){gs.call(t,e)?t[e].push(n):t[e]=[n]},Bo),gf=Pu(Qn),Ef=oo(function(t,e,n){lr(t,e,n)}),wf=oo(function(t,e,n,r){lr(t,e,n,r)}),bf=Pu(function(t,e){return null==t?{}:(e=v($n(e,1),ui),dr(t,Bn(Ao(t),e)))}),kf=Pu(function(t,e){return null==t?{}:dr(t,v($n(e,1),ui))}),Tf=To(tc),Of=To(ec),Lf=so(function(t,e,n){return e=e.toLowerCase(),t+(n?yc(e):e)}),Cf=so(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Rf=so(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Sf=co("toLowerCase"),Af=so(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),xf=so(function(t,e,n){return t+(n?" ":"")+Bf(e)}),If=so(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Bf=co("toUpperCase"),jf=Pu(function(t,e){try{return i(t,U,e)}catch(n){return sa(n)?n:new fs(n)}}),Hf=Pu(function(t,e){return a($n(e,1),function(e){e=ui(e),t[e]=Ul(t[e],t)}),t}),Nf=ho(),Mf=ho(!0),Df=Pu(function(t,e){return function(n){return Qn(n,t,e)}}),$f=Pu(function(t,e){return function(n){return Qn(t,n,e)}}),Xf=mo(v),Vf=mo(s),Pf=mo(m),Gf=Eo(),Wf=Eo(!0),Ff=_o(function(t,e){return t+e}),zf=ko("ceil"),Yf=_o(function(t,e){return t/e}),Zf=ko("floor"),Uf=_o(function(t,e){return t*e}),Kf=ko("round"),qf=_o(function(t,e){return t-e});return e.after=Iu,e.ary=Bu,e.assign=lf,e.assignIn=ff,e.assignInWith=hf,e.assignWith=vf,e.at=df,e.before=ju,e.bind=Ul,e.bindAll=Hf,e.bindKey=Kl,e.castArray=Yu,e.chain=nu,e.chunk=si,e.compact=li,e.concat=fi,e.cond=Xc,e.conforms=Vc,e.constant=Pc,e.countBy=Pl,e.create=Pa,e.curry=Hu,e.curryRight=Nu,e.debounce=Mu,e.defaults=pf,e.defaultsDeep=_f,e.defer=ql,e.delay=Jl,e.difference=Tl,e.differenceBy=Ol,e.differenceWith=Ll,e.drop=hi,e.dropRight=vi,e.dropRightWhile=di,e.dropWhile=pi,e.fill=_i,e.filter=vu,e.flatMap=_u,e.flatMapDeep=mu,e.flatMapDepth=yu,e.flatten=gi,e.flattenDeep=Ei,e.flattenDepth=wi,e.flip=Du,e.flow=Nf,e.flowRight=Mf,e.fromPairs=bi,e.functions=Ua,e.functionsIn=Ka,e.groupBy=Gl,e.initial=Oi,e.intersection=Cl,e.intersectionBy=Rl,e.intersectionWith=Sl,e.invert=mf,e.invertBy=yf,e.invokeMap=Wl,e.iteratee=Wc,e.keyBy=Fl,e.keys=tc,e.keysIn=ec,e.map=bu,e.mapKeys=nc,e.mapValues=rc,e.matches=Fc,e.matchesProperty=zc,e.memoize=$u,e.merge=Ef,e.mergeWith=wf,e.method=Df,e.methodOf=$f,e.mixin=Yc,e.negate=Xu,e.nthArg=Kc,e.omit=bf,e.omitBy=oc,e.once=Vu,e.orderBy=ku,e.over=Xf,e.overArgs=Ql,e.overEvery=Vf,e.overSome=Pf,e.partial=tf,e.partialRight=ef,e.partition=zl,e.pick=kf,e.pickBy=ic,e.property=qc,e.propertyOf=Jc,e.pull=Al,e.pullAll=Ai,e.pullAllBy=xi,e.pullAllWith=Ii,e.pullAt=xl,e.range=Gf,e.rangeRight=Wf,e.rearg=nf,e.reject=Lu,e.remove=Bi,e.rest=Pu,e.reverse=ji,e.sampleSize=Ru,e.set=ac,e.setWith=cc,e.shuffle=Su,e.slice=Hi,e.sortBy=Yl,e.sortedUniq=Pi,e.sortedUniqBy=Gi,e.split=Sc,e.spread=Gu,e.tail=Wi,e.take=Fi,e.takeRight=zi,e.takeRightWhile=Yi,e.takeWhile=Zi,e.tap=ru,e.throttle=Wu,e.thru=ou,e.toArray=ja,e.toPairs=Tf,e.toPairsIn=Of,e.toPath=ts,e.toPlainObject=$a,e.transform=sc,e.unary=Fu,e.union=Il,e.unionBy=Bl,e.unionWith=jl,e.uniq=Ui,e.uniqBy=Ki,e.uniqWith=qi,e.unset=lc,e.unzip=Ji,e.unzipWith=Qi,e.update=fc,e.updateWith=hc,e.values=vc,e.valuesIn=dc,e.without=Hl,e.words=$c,e.wrap=zu,e.xor=Nl,e.xorBy=Ml,e.xorWith=Dl,e.zip=$l,e.zipObject=tu,e.zipObjectDeep=eu,e.zipWith=Xl,e.entries=Tf,e.entriesIn=Of,e.extend=ff,e.extendWith=hf,Yc(e,e),e.add=Ff,e.attempt=jf,e.camelCase=Lf,e.capitalize=yc,e.ceil=zf,e.clamp=pc,e.clone=Zu,e.cloneDeep=Ku,e.cloneDeepWith=qu,e.cloneWith=Uu,e.deburr=gc,e.divide=Yf,e.endsWith=Ec,e.eq=Ju,e.escape=wc,e.escapeRegExp=bc,e.every=hu,e.find=du,e.findIndex=mi,e.findKey=Ga,e.findLast=pu,e.findLastIndex=yi,e.findLastKey=Wa,e.floor=Zf,e.forEach=gu,e.forEachRight=Eu,e.forIn=Fa,e.forInRight=za,e.forOwn=Ya,e.forOwnRight=Za,e.get=qa,e.gt=rf,e.gte=of,e.has=Ja,e.hasIn=Qa,e.head=ki,e.identity=Gc,e.includes=wu,e.indexOf=Ti,e.inRange=_c,e.invoke=gf,e.isArguments=Qu,e.isArray=uf,e.isArrayBuffer=ta,e.isArrayLike=ea,e.isArrayLikeObject=na,e.isBoolean=ra,e.isBuffer=af,e.isDate=oa,e.isElement=ia,e.isEmpty=ua,e.isEqual=aa,e.isEqualWith=ca,e.isError=sa,e.isFinite=la,e.isFunction=fa,e.isInteger=ha,e.isLength=va,e.isMap=_a,e.isMatch=ma,e.isMatchWith=ya,e.isNaN=ga,e.isNative=Ea,e.isNil=ba,e.isNull=wa,e.isNumber=ka,e.isObject=da,e.isObjectLike=pa,e.isPlainObject=Ta,e.isRegExp=Oa,e.isSafeInteger=La,e.isSet=Ca,e.isString=Ra,e.isSymbol=Sa,e.isTypedArray=Aa,e.isUndefined=xa,e.isWeakMap=Ia,e.isWeakSet=Ba,e.join=Li,e.kebabCase=Cf,e.last=Ci,e.lastIndexOf=Ri,e.lowerCase=Rf,e.lowerFirst=Sf,e.lt=cf,e.lte=sf,e.max=ns,e.maxBy=rs,e.mean=os,e.meanBy=is,e.min=us,e.minBy=as,e.multiply=Uf,e.nth=Si,e.noConflict=Zc,e.noop=Uc,e.now=Zl,e.pad=kc,e.padEnd=Tc,e.padStart=Oc,e.parseInt=Lc,e.random=mc,e.reduce=Tu,e.reduceRight=Ou,e.repeat=Cc,e.replace=Rc,e.result=uc,e.round=Kf,e.runInContext=Z,e.sample=Cu,e.size=Au,e.snakeCase=Af,e.some=xu,e.sortedIndex=Ni,e.sortedIndexBy=Mi,e.sortedIndexOf=Di,e.sortedLastIndex=$i,e.sortedLastIndexBy=Xi,e.sortedLastIndexOf=Vi,e.startCase=xf,e.startsWith=Ac,e.subtract=qf,e.sum=cs,e.sumBy=ss,e.template=xc,e.times=Qc,e.toFinite=Ha,e.toInteger=Na,e.toLength=Ma,e.toLower=Ic,e.toNumber=Da,e.toSafeInteger=Xa,e.toString=Va,e.toUpper=Bc,e.trim=jc,e.trimEnd=Hc,e.trimStart=Nc,e.truncate=Mc,e.unescape=Dc,e.uniqueId=es,e.upperCase=If,e.upperFirst=Bf,e.each=gu,e.eachRight=Eu,e.first=ki,Yc(e,function(){var t={};return Pn(e,function(n,r){gs.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=K,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),a(["drop","take"],function(t,e){Ie.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Ie(this);n=n===U?1:Gs(Na(n),0);var o=this.clone();return r?o.__takeCount__=Ws(n,o.__takeCount__):o.__views__.push({size:Ws(n,Tt),type:t+(o.__dir__<0?"Right":"")}),o},Ie.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==mt||n==gt;Ie.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Bo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ie.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ie.prototype[t]=function(){return this.__filtered__?new Ie(this):this[n](1)}}),Ie.prototype.compact=function(){return this.filter(Gc)},Ie.prototype.find=function(t){return this.filter(t).head()},Ie.prototype.findLast=function(t){return this.reverse().find(t)},Ie.prototype.invokeMap=Pu(function(t,e){return"function"==typeof t?new Ie(this):this.map(function(n){return Qn(n,t,e)})}),Ie.prototype.reject=function(t){return t=Bo(t,3),this.filter(function(e){return!t(e)})},Ie.prototype.slice=function(t,e){t=Na(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Ie(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==U&&(e=Na(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Ie.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ie.prototype.toArray=function(){return this.take(Tt)},Pn(Ie.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=e[o?"take"+("last"==n?"Right":""):n],u=o||/^find/.test(n);i&&(e.prototype[n]=function(){var n=this.__wrapped__,a=o?[1]:arguments,c=n instanceof Ie,s=a[0],l=c||uf(n),f=function(t){var n=i.apply(e,d([t],a));return o&&h?n[0]:n};l&&r&&"function"==typeof s&&1!=s.length&&(c=l=!1);var h=this.__chain__,v=!!this.__actions__.length,p=u&&!h,_=c&&!v;if(!u&&l){n=_?n:new Ie(this);var m=t.apply(n,a);return m.__actions__.push({func:ou,args:[f],thisArg:U}),new B(m,h)}return p&&_?t.apply(this,a):(m=this.thru(f),p?o?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var n=ps[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var e=this.value();return n.apply(uf(e)?e:[],t)}return this[r](function(e){return n.apply(uf(e)?e:[],t)})}}),Pn(Ie.prototype,function(t,n){var r=e[n];if(r){var o=r.name+"",i=ol[o]||(ol[o]=[]);i.push({name:n,func:r})}}),ol[vo(U,nt).name]=[{name:"wrapper",func:U}],Ie.prototype.clone=Be,Ie.prototype.reverse=je,Ie.prototype.value=He,e.prototype.at=Vl,e.prototype.chain=iu,e.prototype.commit=uu,e.prototype.next=au,e.prototype.plant=su,e.prototype.reverse=lu,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=fu,Is&&(e.prototype[Is]=cu),e}var U,K="4.12.0",q=200,J="Expected a function",Q="__lodash_hash_undefined__",tt="__lodash_placeholder__",et=1,nt=2,rt=4,ot=8,it=16,ut=32,at=64,ct=128,st=256,lt=512,ft=1,ht=2,vt=30,dt="...",pt=150,_t=16,mt=1,yt=2,gt=3,Et=1/0,wt=9007199254740991,bt=1.7976931348623157e308,kt=NaN,Tt=4294967295,Ot=Tt-1,Lt=Tt>>>1,Ct="[object Arguments]",Rt="[object Array]",St="[object Boolean]",At="[object Date]",xt="[object Error]",It="[object Function]",Bt="[object GeneratorFunction]",jt="[object Map]",Ht="[object Number]",Nt="[object Object]",Mt="[object Promise]",Dt="[object RegExp]",$t="[object Set]",Xt="[object String]",Vt="[object Symbol]",Pt="[object WeakMap]",Gt="[object WeakSet]",Wt="[object ArrayBuffer]",Ft="[object DataView]",zt="[object Float32Array]",Yt="[object Float64Array]",Zt="[object Int8Array]",Ut="[object Int16Array]",Kt="[object Int32Array]",qt="[object Uint8Array]",Jt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",te="[object Uint32Array]",ee=/\b__p \+= '';/g,ne=/\b(__p \+=) '' \+/g,re=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oe=/&(?:amp|lt|gt|quot|#39|#96);/g,ie=/[&<>"'`]/g,ue=RegExp(oe.source),ae=RegExp(ie.source),ce=/<%-([\s\S]+?)%>/g,se=/<%([\s\S]+?)%>/g,le=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,he=/^\w*$/,ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,de=/[\\^$.*+?()[\]{}|]/g,pe=RegExp(de.source),_e=/^\s+|\s+$/g,me=/^\s+/,ye=/\s+$/,ge=/[a-zA-Z0-9]+/g,Ee=/\\(\\)?/g,we=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,be=/\w*$/,ke=/^0x/i,Te=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,Le=/^\[object .+?Constructor\]$/,Ce=/^0o[0-7]+$/i,Re=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ae=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Be="\\u0300-\\u036f\\ufe20-\\ufe23",je="\\u20d0-\\u20f0",He="\\u2700-\\u27bf",Ne="a-z\\xdf-\\xf6\\xf8-\\xff",Me="\\xac\\xb1\\xd7\\xf7",De="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$e="\\u2000-\\u206f",Xe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ve="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Ge=Me+De+$e+Xe,We="[']",Fe="["+Ie+"]",ze="["+Ge+"]",Ye="["+Be+je+"]",Ze="\\d+",Ue="["+He+"]",Ke="["+Ne+"]",qe="[^"+Ie+Ge+Ze+He+Ne+Ve+"]",Je="\\ud83c[\\udffb-\\udfff]",Qe="(?:"+Ye+"|"+Je+")",tn="[^"+Ie+"]",en="(?:\\ud83c[\\udde6-\\uddff]){2}",nn="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="["+Ve+"]",on="\\u200d",un="(?:"+Ke+"|"+qe+")",an="(?:"+rn+"|"+qe+")",cn="(?:"+We+"(?:d|ll|m|re|s|t|ve))?",sn="(?:"+We+"(?:D|LL|M|RE|S|T|VE))?",ln=Qe+"?",fn="["+Pe+"]?",hn="(?:"+on+"(?:"+[tn,en,nn].join("|")+")"+fn+ln+")*",vn=fn+ln+hn,dn="(?:"+[Ue,en,nn].join("|")+")"+vn,pn="(?:"+[tn+Ye+"?",Ye,en,nn,Fe].join("|")+")",_n=RegExp(We,"g"),mn=RegExp(Ye,"g"),yn=RegExp(Je+"(?="+Je+")|"+pn+vn,"g"),gn=RegExp([rn+"?"+Ke+"+"+cn+"(?="+[ze,rn,"$"].join("|")+")",an+"+"+sn+"(?="+[ze,rn+un,"$"].join("|")+")",rn+"?"+un+"+"+cn,rn+"+"+sn,Ze,dn].join("|"),"g"),En=RegExp("["+on+Ie+Be+je+Pe+"]"),wn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kn=-1,Tn={};
Tn[zt]=Tn[Yt]=Tn[Zt]=Tn[Ut]=Tn[Kt]=Tn[qt]=Tn[Jt]=Tn[Qt]=Tn[te]=!0,Tn[Ct]=Tn[Rt]=Tn[Wt]=Tn[St]=Tn[Ft]=Tn[At]=Tn[xt]=Tn[It]=Tn[jt]=Tn[Ht]=Tn[Nt]=Tn[Dt]=Tn[$t]=Tn[Xt]=Tn[Pt]=!1;var On={};On[Ct]=On[Rt]=On[Wt]=On[Ft]=On[St]=On[At]=On[zt]=On[Yt]=On[Zt]=On[Ut]=On[Kt]=On[jt]=On[Ht]=On[Nt]=On[Dt]=On[$t]=On[Xt]=On[Vt]=On[qt]=On[Jt]=On[Qt]=On[te]=!0,On[xt]=On[It]=On[Pt]=!1;var Ln={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Cn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Rn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Sn={"function":!0,object:!0},An={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xn=parseFloat,In=parseInt,Bn=Sn[typeof n]&&n&&!n.nodeType?n:U,jn=Sn[typeof e]&&e&&!e.nodeType?e:U,Hn=jn&&jn.exports===Bn?Bn:U,Nn=B(Bn&&jn&&"object"==typeof t&&t),Mn=B(Sn[typeof self]&&self),Dn=B(Sn[typeof window]&&window),$n=B(Sn[typeof this]&&this),Xn=Nn||Dn!==($n&&$n.window)&&Dn||Mn||$n||Function("return this")(),Vn=Z();(Dn||Mn||{})._=Vn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Vn}):Bn&&jn?(Hn&&((jn.exports=Vn)._=Vn),Bn._=Vn):Xn._=Vn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("./../../bower_components/js-cookie/src/js.cookie.js"),a=r(u),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),this.COOKIE_NAME=e.COOKIE_NAME||"isMute",this.EXPIRES_DATE=e.EXPIRES_DATE,this.disableBlurPause=!!e.disableBlurPause,this.audio=new Audio(e.src),this.audio.volume=.2,this.audio.loop=!e.disableLoop,this.audio.muted=this.getCookie(),this.initListeners()}return i(t,[{key:"initListeners",value:function(){var t=this;this.disableBlurPause||$(window).on("blur",function(){t.pause()}).on("focus",function(){t.play()})}},{key:"play",value:function(){return this.audio.muted?this:(this.audio.play(),this)}},{key:"pause",value:function(){return this.audio.pause(),this}},{key:"togglePlay",value:function(t){return void 0===t&&(t=!this.audio.paused),t?this.play():this.pause(),this}},{key:"mute",value:function(){return this.audio.muted=!0,this.setCookie(this.audio.muted),this}},{key:"unmute",value:function(){return this.audio.muted=!1,this.setCookie(this.audio.muted),this}},{key:"toggleMute",value:function(t){return void 0===t&&(t=!this.getCookie()),t?this.mute():this.unmute(),this}},{key:"setCookie",value:function(t){return a["default"].set(this.COOKIE_NAME,t,{expires:this.EXPIRES_DATE})}},{key:"getCookie",value:function(){var t=a["default"].get(this.COOKIE_NAME);return"true"===t}},{key:"hasCookie",value:function(){return void 0!==a["default"].get(this.COOKIE_NAME)}}]),t}();n["default"]=c},{"./../../bower_components/js-cookie/src/js.cookie.js":2}],5:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=t("./../../bower_components/eventemitter2/lib/eventemitter2.js"),s=t("./TouchController"),l=r(s),f=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var n=i(this,Object.getPrototypeOf(e).call(this));return n.$element=t.$element,n.maxDistance=t.maxDistance,n.holdingDelay=t.holdingDelay||1e3,n.watchInterval=t.watchInterval||100,n.position={x:0,y:0},n.setEvent(),n}return u(e,t),a(e,[{key:"setEvent",value:function(){var t=this,e=new l["default"]({touchstartElement:this.$element.get(0),touchmoveElement:document,touchendElement:document,holdingDelay:this.holdingDelay,watchInterval:this.watchInterval});e.on("touchstart",function(t){}),e.on("touchmove",function(e){t.movePosition({x:-e.deltaX,y:-e.deltaY})}),e.on("touchend",function(e){t.animatePosition({x:0,y:0}),e.isDoubleTap&&t.emit("doubletapped")}),e.on("touchholding",function(e){t.emit("holding",t.position)})}},{key:"movePosition",value:function(t){var e=this.position,n={x:e.x-t.x,y:e.y-t.y};this.jumpPosition(n),this.emit("moved",this.position)}},{key:"animatePosition",value:function(t){var e=this;t&&$(this.position).animate(t,{step:function(t,n){var r={};r[n.prop]=n.now,e.jumpPosition(r)},complete:function(){e.setPosition(t),e.emit("animateend",e.position)}})}},{key:"jumpPosition",value:function(t){if(t){var e=t.x||this.position.x,n=t.y||this.position.y,r=Math.sqrt(e*e+n*n);if(this.maxDistance&&r>this.maxDistance){var o=this.maxDistance/r;e*=o,n*=o,t.x=e,t.y=n}this.$element.css({transform:"translate("+e+"px, "+n+"px)"}),this.setPosition(t),this.emit("jumped",this.position)}}},{key:"setPosition",value:function(t){this.position=t}}]),e}(c.EventEmitter2);n["default"]=f},{"./../../bower_components/eventemitter2/lib/eventemitter2.js":1,"./TouchController":11}],6:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function i(){r(this,i),this.COLS=9,this.ROWS=13,this.VOXEL_LENGTH=4,this.VOXEL_SIZE=45,this.START_X=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.START_Y=0,this.START_Z=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.HIDDEN_ROWS=this.VOXEL_LENGTH,this.LOGICAL_ROWS=this.ROWS+this.HIDDEN_ROWS,this.WIDTH=this.VOXEL_SIZE*this.COLS,this.HEIGHT=this.VOXEL_SIZE*this.ROWS,this.CENTER_X=this.WIDTH/2,this.CENTER_Y=this.HEIGHT/2,this.CENTER_Z=this.WIDTH/2,this.FIELD_MARK_LENGTH=50,this.RENDER_INTERVAL=30,this.TICK_INTERVAL=700,this.SPEEDUP_RATE=100,this.CLEARLINE_EFFECT_INTERVAL=50,this.AUTO_ROTATE_SPEED=.02,this.STICK_WEIGHT=1e3,this.STICK_CONTROLL_THROTTLE=50,this.SHADOW_BLOCK={id:8,color:"#000",opacity:.3},this.CLEARLINE_BLOCK={id:9,color:"#CC66FF"},this.GAMEOVER_BLOCK={id:10,color:"#FF66FF"},this.BLOCK_LIST=[{id:0,color:"#FF6666",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:1,color:"#FFCC66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:2,color:"#FFFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,1],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:3,color:"#CCFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:4,color:"#66FF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:5,color:"#66FFCC",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:6,color:"#66FFFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:7,color:"#66CCFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}]};e.exports=new o},{}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=t("lodash"),s=r(c),l=t("./../../bower_components/eventemitter2/lib/eventemitter2.js"),f=t("./Util"),h=r(f),v=t("./TouchController"),d=r(v),p=t("./StickController"),_=r(p),m=t("./TetricusCONST"),y=r(m),g=y["default"],E=function(t){function e(t,n){o(this,e);var r=i(this,Object.getPrototypeOf(e).call(this));return r.model=t,r.view=n,r.$root=$(".js-game-controller"),r.$infoLevel=$(".js-info-level"),r.$infoScore=$(".js-info-score"),r.$infoLines=$(".js-info-lines"),r.$stickContainer=$(".js-stick-container"),r.$stickToucharea=$(".js-stick-toucharea"),r.touch=new d["default"]({touchstartElement:r.$root.get(0),touchmoveElement:document,touchendElement:document,holdingDelay:1e3,watchInterval:100}),r.stick=new _["default"]({$element:r.$stickToucharea,maxDistance:30,holdingDelay:50,watchInterval:g.STICK_CONTROLL_THROTTLE}),r.isAutoMode=!1,r.isPlayngGame=!1,r.isPausingGame=!1,r.setModelEvent(),r.setBlurEvent(),r.setKeyEvent(),r.setTouchEvent(),r.setStickController(),r}return u(e,t),a(e,[{key:"newGame",value:function(){this.view.dispose(),this.view.init(),this.view.start(),this.model.initGame(),this.model.startGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("startGame")}},{key:"pauseGame",value:function(){this.view.stop(),this.model.pauseGame(),this.isPlayngGame=!1,this.isPausingGame=!0,this.emit("pauseGame")}},{key:"resumeGame",value:function(){this.view.start(),this.model.resumeGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("resumeGame")}},{key:"setModelEvent",value:function(){var t=this;this.model.on("gamestart",function(){t.view.isAutoRotate=t.isAutoMode}),this.model.on("newblockcreated",function(){}),this.model.on("currentblockcreated",function(){t.view.drawCurrentBlock(t.model.currentBlock);var e=t.getShadowBlock(),n=t.setBlockToBoard(e);t.updateBoard(n)}),this.model.on("nextblockcreated",function(){}),this.model.on("gameover",function(){t.isAutoMode?t.newGame():t.view.isAutoRotate=!0,t.emit("gameover")}),this.model.on("tick",function(e){t.view.moveCurrentBlock(t.model.currentBlock);var n=t.getShadowBlock(),r=t.setBlockToBoard(n);t.updateBoard(r)}),this.model.on("blockmoved",function(){t.view.moveCurrentBlock(t.model.currentBlock);var e=t.getShadowBlock(),n=t.setBlockToBoard(e);t.updateBoard(n)}),this.model.on("gamequit",function(){}),this.model.on("freeze",function(){t.updateBoard()}),this.model.on("clearline",function(){t.updateBoard(),t.$infoLevel.text(t.model.level),t.$infoScore.text(h["default"].zeroPadding(t.model.score,4)),t.$infoLines.text(h["default"].zeroPadding(t.model.sumOfClearLines,4))}),this.model.on("beforeDropClearLines",function(e){var n=$.Deferred();n.resolve().then(function(){t.model.pauseGame()}).then(t.effectClearLine(e)).then(function(){t.model.resumeGame(),e.dfd.resolve()})}),this.model.on("afterDropClearLines",function(){t.updateBoard()})}},{key:"effectClearLine",value:function(t){var e=this;return function(){var n=$.Deferred(),r=$.Deferred();r.resolve();var o=function(t,n,o,i){r=r.then(h["default"].sleep(g.CLEARLINE_EFFECT_INTERVAL)).then(function(){t[i][o][n]=g.CLEARLINE_BLOCK.id+1,e.updateBoard(t)})};return t.filledRowList.reverse().forEach(function(t,n){var r=t[0],i=t[1];(r.length||i.length)&&(r.forEach(function(t){for(var r=s["default"].cloneDeep(e.model.board),i=0;i<g.COLS;++i)r[i][n][t]&&o(r,t,n,i)}),i.forEach(function(t){for(var r=s["default"].cloneDeep(e.model.board),i=0;i<g.COLS;++i)r[t][n][i]&&o(r,i,n,t)}))}),r.then(function(){n.resolve()}),n.promise()}}},{key:"getShadowBlock",value:function(){var t=s["default"].clone(this.model.currentBlock);return t.id=g.SHADOW_BLOCK.id,this.model.dropBlockY(t),t}},{key:"setBlockToBoard",value:function(t){for(var e=s["default"].cloneDeep(this.model.board),n=0;n<g.VOXEL_LENGTH;++n)for(var r=0;r<g.VOXEL_LENGTH;++r)for(var o=0;o<g.VOXEL_LENGTH;++o){var i=o+t.x,u=r+t.y,a=n+t.z;!t.shape[n][r][o]||0>a||(e[a][u][i]=t.shape[n][r][o]?t.id+1:0)}return e}},{key:"setBlurEvent",value:function(){var t=this;$(window).on("blur",function(){t.pauseGame()}).on("focus",function(){t.isAutoMode&&t.resumeGame()})}},{key:"setKeyEvent",value:function(){var t=this,e=[[37,"left"],[39,"right"],[40,"forward"],[38,"backward"],[32,"rotate"],[16,"rotateX"],[17,"rotateY"],[13,"drop"],[27,"pause"],[48,"pers"],[49,"ortho1"],[50,"ortho2"],[51,"ortho3"],[67,"camera"],[66,"block"]],n=new Map(e);$(document).on("keydown",function(e){if(t.isPlayngGame){var r=n.get(e.keyCode);r&&(e.preventDefault(),t.handleMethod(r))}})}},{key:"handleMethod",value:function(t){switch(t){case"left":this.moveBlockRightAndLeft(-1);break;case"right":this.moveBlockRightAndLeft(1);break;case"forward":this.moveBlockBackAndForward(1);break;case"backward":this.moveBlockBackAndForward(-1);break;case"rotate":this.rotateBlock();break;case"rotateX":this.rotateBlockHorizontal();break;case"rotateY":this.rotateBlockVertical();break;case"drop":this.dropBlock();break;case"pause":this.pauseGame();break;case"pers":break;case"ortho1":break;case"ortho2":break;case"ortho3":break;case"camera":this.switchModeCamera();break;case"block":this.switchModeBlock()}}},{key:"setTouchEvent",value:function(){var t=this,e=void 0,n=void 0,r=!1;this.model.on("freeze",function(){r=!0}),this.touch.on("touchstart",function(t){e=t.touchStartX,n=t.touchStartY,r=!1}),this.touch.on("touchmove",function(o){var i=o.touchX-e,u=o.touchY-n,a=i/g.VOXEL_SIZE|0,c=u/g.VOXEL_SIZE|0;if(!r){for(;a;){var s=a/Math.abs(a);t.moveBlockRightAndLeft(s),a-=s,e=o.touchX}for(;c;){var l=c/Math.abs(c);t.moveBlockBackAndForward(l),c-=l,n=o.touchY}}}),this.touch.on("touchend",function(e){e.isDoubleTap,e.isTap&&t.rotateBlock()}),this.touch.on("touchholding",function(e){t.model.moveBlockY()})}},{key:"setStickController",value:function(){var t=this;this.stick.on("moved",h["default"].throttle(function(e){t.rotateView(e)},g.STICK_CONTROLL_THROTTLE)),this.stick.on("doubletapped",function(e){t.view.setCamera()}),this.stick.on("holding",function(e){t.rotateView(e)})}},{key:"rotateView",value:function(t){var e=this,n=t.x/-g.STICK_WEIGHT,r=t.y/-g.STICK_WEIGHT;0>r&&this.view.camera.position.y>g.HEIGHT&&(this.view.camera.position.y=g.HEIGHT,r=0),this.model.pauseGame(),this.view.controls.rotate({x:n,y:r}),setTimeout(function(){e.model.resumeGame()})}},{key:"switchModeCamera",value:function(){this.touch.dispose(),this.view.enableControls(),this.emit("switchModeCamera")}},{key:"switchModeBlock",value:function(){this.touch.setEvent(),this.view.disableControls(),this.emit("switchModeBlock")}},{key:"changeRotateDirection",value:function(){this.isVertical=!this.isVertical,this.emit("changeRotateDirection")}},{key:"updateBoard",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.model.board:arguments[0];t=s["default"].cloneDeep(t),t.forEach(function(t){t.splice(0,g.HIDDEN_ROWS)}),this.view.disposeBoard(),this.view.drawBoard(t)}},{key:"rotateBlock",value:function(){this.isVertical?this.rotateBlockVertical():this.rotateBlockHorizontal()}},{key:"rotateBlockHorizontal",value:function(){this.model.rotateBlockXZ()}},{key:"rotateBlockVertical",value:function(){var t=this.view.checkCameraDirection();0!==t.x&&this.model.rotateBlockXY(t.x<0),0!==t.z&&this.model.rotateBlockZY(t.z<0)}},{key:"moveBlockRightAndLeft",value:function(t){var e=this.view.checkCameraDirection();0!==e.x&&this.model.moveBlockZ(t*e.x),0!==e.z&&this.model.moveBlockX(t*-e.z)}},{key:"moveBlockBackAndForward",value:function(t){var e=this.view.checkCameraDirection();0!==e.x&&this.model.moveBlockX(t*e.x),0!==e.z&&this.model.moveBlockZ(t*e.z)}},{key:"dropBlock",value:function(){this.model.dropBlockY(),this.view.moveCurrentBlock(this.model.currentBlock)}}]),e}(l.EventEmitter2);n["default"]=E},{"./../../bower_components/eventemitter2/lib/eventemitter2.js":1,"./StickController":5,"./TetricusCONST":6,"./TouchController":11,"./Util":12,lodash:3}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=t("./../../bower_components/eventemitter2/lib/eventemitter2.js"),s=t("./TetricusCONST"),l=r(s),f=l["default"],h=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).call(this))}return u(e,t),a(e,[{key:"newGame",value:function(){this.initGame(),this.startGame()}},{key:"initGame",value:function(){clearTimeout(this.tickId),clearInterval(this.renderId),this.isPlayng=!1,this.isPausing=!1,this.lose=!1,this.tickInterval=f.TICK_INTERVAL,this.sumOfClearLines=0,this.score=0,this.frameCount=0,this.initBoad(),this.initBlock(),this.createNextBlock()}},{key:"startGame",value:function(){this.isPlayng=!0,this.isPausing=!1,this.createCurrentBlock(),this.createNextBlock(),this.tick(),this.emit("gamestart")}},{key:"pauseGame",value:function(){this.isPlayng=!1,this.isPausing=!0,clearTimeout(this.tickId),delete this.tickId}},{key:"resumeGame",value:function(){var t=this;!this.isPlayng&&this.isPausing&&(this.isPlayng=!0,this.isPausing=!1,this.tickId=setTimeout(function(){t.tick()},this.tickInterval))}},{key:"quitGame",value:function(){var t=$.Deferred();return t.promise()}},{key:"stopGame",value:function(){this.quitGame()}},{key:"tick",value:function(){var t=this;if(clearTimeout(this.tickId),this.isPlayng&&!this.isPausing){var e=this.moveBlockY();if(!e){if(this.freeze(),this.clearLines(),this.checkGameOver())return this.emit("gameover"),!1;this.frameCount++,this.createCurrentBlock(),this.createNextBlock()}this.tickId=setTimeout(function(){t.tick()},this.tickInterval),this.emit("tick",!e)}}},{key:"initBoad",value:function(){this.board=[];for(var t=0;t<f.COLS;++t){this.board[t]=[];for(var e=0;e<f.LOGICAL_ROWS;++e){this.board[t][e]=[];for(var n=0;n<f.COLS;++n)this.board[t][e][n]=0}}}},{key:"initBlock",value:function(){this.nextBlock=this.createBlock(0),this.currentBlock=this.createBlock(0),this.currentBlock.x=f.START_X,this.currentBlock.y=f.START_Y,this.currentBlock.z=f.START_Z}},{key:"createBlock",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=f.BLOCK_LIST[t]||{},n=e.shape,r={id:t,color:e.color,shape:[],x:0,y:0,z:0},o=0;o<f.VOXEL_LENGTH;++o){r.shape[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r.shape[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)r.shape[o][i][u]=n[o][i][u]||0}}return this.emit("newblockcreated"),r}},{key:"createCurrentBlock",value:function(){this.nextBlock||this.createNextBlock(),this.currentBlock=this.nextBlock,this.currentBlock.x=f.START_X,this.currentBlock.y=f.START_Y,this.currentBlock.z=f.START_Z,this.emit("currentblockcreated")}},{key:"createNextBlock",value:function(){var t=Math.floor(Math.random()*f.BLOCK_LIST.length);this.nextBlock=this.createBlock(t),this.emit("nextblockcreated")}},{key:"freeze",value:function(){for(var t=0;t<f.VOXEL_LENGTH;++t)for(var e=0;e<f.VOXEL_LENGTH;++e)for(var n=0;n<f.VOXEL_LENGTH;++n){var r=n+this.currentBlock.x,o=e+this.currentBlock.y,i=t+this.currentBlock.z;!this.currentBlock.shape[t][e][n]||0>i||(this.board[i][o][r]=this.currentBlock.shape[t][e][n]?this.currentBlock.id+1:0)}this.emit("freeze")}},{key:"clearLines",value:function(){for(var t=this,e=0,n=[],r=$.Deferred(),o=function(r){for(var o=[],i=[],u=0;u<f.COLS;++u){var a=t.board[u][r].every(function(t){return 0!==t});a&&(o.push(u),e++)}for(var c=function(n){var o=t.board.every(function(t){return 0!==t[r][n]});return o?(i.push(n),void e++):"continue"},s=0;s<f.COLS;++s){c(s)}n.push([i,o])},i=f.LOGICAL_ROWS-1;i>=0;--i)o(i);r.resolve().then(function(){var e=$.Deferred(),r={filledRowList:n,dfd:e};return t.emit("beforeDropClearLines",r),e.promise()}).then(this.dropRow(n)).then(function(){t.emit("afterDropClearLines"),t.sumOfClearLines+=e,t.tickInterval-=f.SPEEDUP_RATE*e,t.score+=1>=e?e:Math.pow(2,e),e>0&&t.emit("clearline")})}},{key:"dropRow",value:function(t){var e=this;if(t.length)return function(){t.forEach(function(t){var n=t[0],r=t[1];(n.length||r.length)&&(n.forEach(function(t){e.dropRowX(t)}),r.forEach(function(t){e.dropRowZ(t)}))})}}},{key:"dropRowX",value:function(t){for(var e=[],n=0;n<f.LOGICAL_ROWS;++n){e[n]=[];for(var r=0;r<f.COLS;++r)e[n][r]=this.board[r][n][t],this.board[r][n][t]=n?e[n-1][r]:0}}},{key:"dropRowZ",value:function(t){for(var e=[],n=0;n<f.LOGICAL_ROWS;++n){e[n]=[];for(var r=0;r<f.COLS;++r)e[n][r]=this.board[t][n][r],this.board[t][n][r]=n?e[n-1][r]:0}}},{key:"rotateBoard",value:function(t){for(var e=f.COLS-1,n=[],r=0;r<f.COLS;++r){n[r]=[];for(var o=0;o<f.LOGICAL_ROWS;++o){n[r][o]=[];for(var i=0;i<f.COLS;++i)n[r][o][i]=t[e-i][o][r]}}return n}},{key:"dropBlockY",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?this.currentBlock:arguments[0],e=this.valid(0,1,0,t);e;)t.y++,e=this.valid(0,1,0,t);return e}},{key:"moveBlockX",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this.valid(t,0,0);return e&&(this.currentBlock.x+=t,this.emit("blockmoved")),e}},{key:"moveBlockY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this.valid(0,t,0);return e&&(this.currentBlock.y+=t,this.emit("blockmoved")),e}},{key:"moveBlockZ",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this.valid(0,0,t);return e&&(this.currentBlock.z+=t,this.emit("blockmoved")),e}},{key:"rotateBlockXZ",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],e=Object.assign({},this.currentBlock);e.shape=this.rotateXZ(this.currentBlock.shape,t);var n=this.valid(0,0,0,e);return n&&(this.currentBlock=e),n}},{key:"rotateBlockXY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],e=Object.assign({},this.currentBlock);e.shape=this.rotateXY(this.currentBlock.shape,t);var n=this.valid(0,0,0,e);return n&&(this.currentBlock=e),n}},{key:"rotateBlockZY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],e=Object.assign({},this.currentBlock);e.shape=this.rotateZY(this.currentBlock.shape,t);var n=this.valid(0,0,0,e);return n&&(this.currentBlock=e),n}},{key:"rotateXZ",value:function(t,e){for(var n=f.VOXEL_LENGTH-1,r=[],o=0;o<f.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)e?r[o][i][u]=t[n-u][i][o]:r[o][i][u]=t[u][i][n-o]}}return r}},{key:"rotateXY",value:function(t,e){for(var n=f.VOXEL_LENGTH-1,r=[],o=0;o<f.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)e?r[o][i][u]=t[o][n-u][i]:r[o][i][u]=t[o][u][n-i]}}return r}},{key:"rotateZY",value:function(t,e){for(var n=f.VOXEL_LENGTH-1,r=[],o=0;o<f.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)e?r[o][i][u]=t[i][n-o][u]:r[o][i][u]=t[n-i][o][u]}}return r}},{key:"valid",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?this.currentBlock:arguments[3],o=r.x+t,i=r.y+e,u=r.z+n,a=0;a<f.VOXEL_LENGTH;++a)for(var c=0;c<f.VOXEL_LENGTH;++c)for(var s=0;s<f.VOXEL_LENGTH;++s){var l=s+o,h=c+i,v=a+u;if(r.shape[a][c][s]&&("undefined"==typeof this.board[v]||"undefined"==typeof this.board[v][h]||"undefined"==typeof this.board[v][h][l]||this.board[v][h][l]||0>l||l>=f.COLS||0>v||v>=f.COLS||h>=f.LOGICAL_ROWS))return!1}return!0}},{key:"checkGameOver",value:function(){for(var t=!0,e=0;e<f.VOXEL_LENGTH;++e)for(var n=0;n<f.VOXEL_LENGTH;++n)for(var r=0;r<f.VOXEL_LENGTH;++r){var o=(r+this.currentBlock.x,n+this.currentBlock.y);e+this.currentBlock.z;if(o>=f.HIDDEN_ROWS){t=!1;break}}return t}}]),e}(c.EventEmitter2);n["default"]=h},{"./../../bower_components/eventemitter2/lib/eventemitter2.js":1,"./TetricusCONST":6}],9:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./../../bower_components/eventemitter2/lib/eventemitter2.js"),c=function(t){function e(t){r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));return n.controller=t,n.$modalPause=$(".js-modal-pause"),n.$modalGameover=$(".js-modal-gameover"),n.$modalStart=$(".js-modal-start"),n.$modalHowto=$(".js-modal-howto"),n.$modalHowtoSecond=$(".js-modal-howto-second"),n.$modalHowtoThird=$(".js-modal-howto-third"),n.$modalResult=$(".js-modal-result"),n.$modals=n.$modalPause.add(n.$modalGameover).add(n.$modalStart).add(n.$modalHowto).add(n.$modalHowtoSecond).add(n.$modalHowtoThird).add(n.$modalResult),n.$btnModalClose=$(".js-btn-modal-close"),n.$btnResume=$(".js-btn-resume"),n.$btnStart=$(".js-btn-start"),n.$btnPause=$(".js-btn-pause"),n.$btnSound=$(".js-btn-sound"),n.$btnToResult=$(".js-btn-to-result"),n.$btnToHowto=$(".js-btn-to-howto"),n.$btnToBack=$(".js-btn-to-back"),n.$btnRotateVertical=$(".js-btn-rotate-vertical"),n.$btnRotateHorizontal=$(".js-btn-rotate-horizontal"),n.$slickHowto=$(".js-slick-howto"),n.$slickDots=$(".js-slick-dots"),n.setEvent(),n.setControllerEvent(),n.setSlick(),n.setHowto(),n}return i(e,t),u(e,[{key:"setEvent",value:function(){var t=this;$("button").on("touchstart",function(t){t.stopPropagation()}),this.$btnPause.on("click",function(e){t.$btnPause.toggleClass("is-active"),t.$modalPause.show(),t.controller.isPlayngGame?t.controller.pauseGame():t.controller.resumeGame()}),this.$btnSound.on("click",function(e){t.toggleBtnSound();var n=t.$btnSound.hasClass("is-sound-on");t.emit("toggleSound",{isSoundOn:n})}),this.$btnRotateVertical.on("click",function(e){t.controller.rotateBlockVertical()}),this.$btnRotateHorizontal.on("click",function(e){t.controller.rotateBlockHorizontal()}),this.$btnModalClose.on("click",function(e){t.$modals.hide()}),this.$btnResume.on("click",function(e){t.controller.resumeGame()}),this.$btnStart.on("click",function(e){t.controller.isAutoMode=!1,t.controller.newGame()}),this.$btnToResult.on("click",function(e){t.$modals.hide(),t.$modalResult.show()}),this.$btnToHowto.on("click",function(e){t.$modals.hide(),t.$modalHowto.show(),t.updateSlick(),t.controller.isAutoMode||t.controller.isPlayngGame&&t.controller.pauseGame()}),this.$btnToBack.on("click",function(e){t.$modals.hide(),t.controller.isPausingGame?t.controller.resumeGame():t.$modalStart.show()})}},{key:"setControllerEvent",value:function(){var t=this;this.controller.on("pauseGame",function(){t.isModalShown()||t.$modalPause.show()}),this.controller.on("resumeGame",function(){t.controller.isAutoMode||t.$modals.hide()}),this.controller.on("gameover",function(){t.isModalShown()||t.controller.isAutoMode||t.$modalResult.show()})}},{key:"setHowto",value:function(){var t=this;this.$modalHowto.on("click",function(){t.$modals.hide(),t.$modalHowtoSecond.show()}),this.$modalHowtoSecond.on("click",function(){t.$modals.hide(),t.$modalHowtoThird.show()}),this.$modalHowtoThird.on("click",function(){t.$modals.hide(),t.controller.resumeGame()})}},{key:"setSlick",value:function(){var t=this;this.$slickHowto.slick({slidesToShow:1,infinite:!1,fade:!1,dots:!0,autoplay:!1,speed:1e3,pauseOnHover:!1,arrows:!1,draggable:!0,appendDots:this.$slickDots}),this.$slickHowto.on("beforeChange",function(e,n,r,o){t.$bgHowto.attr("data-slide-index",o)})}},{key:"updateSlick",value:function(){this.$slickHowto.slick("slickGoTo",0)}},{key:"showStartModal",value:function(){this.$modalStart.show()}},{key:"isModalShown",value:function(){return this.$modals.get().some(function(t){return $(t).is(":visible")})}},{key:"toggleBtnSound",value:function(t){this.$btnSound.toggleClass("is-sound-on",t)}}]),e}(a.EventEmitter2);n["default"]=c},{"./../../bower_components/eventemitter2/lib/eventemitter2.js":1}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t("./lib/EditorControls_");var u=t("./TetricusCONST"),a=r(u),c=a["default"],s=function(){function t(){o(this,t),this.framecount=0,this.isAutoRotate=!1,this.CONTAINER_ID="js-game-view",this.ZERO_VECTOR=new THREE.Vector3(0,0,0),this.CAMERA_DISTANCE_DEFAULT=1500,this.CENTER_VECTOR=new THREE.Vector3(c.CENTER_X,c.CENTER_Y,c.CENTER_Z),this.CAMERA_POSITION=new THREE.Vector3(c.CENTER_X,-100,this.CAMERA_DISTANCE_DEFAULT),
this.CAMERA_NEAR=1,this.CAMERA_FAR=1e5,this.VIEW_BLOCK_LIST=c.BLOCK_LIST.concat([c.SHADOW_BLOCK,c.CLEARLINE_BLOCK,c.GAMEOVER_BLOCK])}return i(t,[{key:"dispose",value:function(){this.stop(),this.container&&(this.container.innerHTML=""),this.renderer&&(this.renderer.dispose(),delete this.renderer),this.scene&&delete this.scene,this.camera&&delete this.camera,this.controls&&(this.controls.dispose(),delete this.controls)}},{key:"init",value:function(){var t=this;this.container=document.getElementById(this.CONTAINER_ID),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(15790320),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(c.WIDTH,c.HEIGHT),this.container.appendChild(this.renderer.domElement),this.scene=new THREE.Scene,this.perscamera=new THREE.PerspectiveCamera(45,c.WIDTH/c.HEIGHT,this.CAMERA_NEAR,this.CAMERA_FAR),this.orthocamera=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,window.innerHeight/2,-window.innerHeight/2,this.CAMERA_NEAR,this.CAMERA_FAR),this.cubecamera=new THREE.CubeCamera(this.CAMERA_NEAR,this.CAMERA_FAR,128),this.setCamera(),this.controls=new THREE.EditorControls(this.camera),this.controls.center=this.CENTER_VECTOR,this.disableControls();var e=new THREE.AxisHelper(this.CAMERA_FAR);e.position.set(0,0,0);var n=c.CENTER_X,r=c.VOXEL_SIZE,o=new THREE.GridHelper(n,r);o.position.set(n,c.HEIGHT,n),this.scene.add(o);var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(0,c.FIELD_MARK_LENGTH,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,c.FIELD_MARK_LENGTH),new THREE.Vector3(0,0,0),new THREE.Vector3(c.FIELD_MARK_LENGTH,0,0));var u=new THREE.LineBasicMaterial({color:0,opacity:.2,transparent:!0}),a=new THREE.Line(i,u);a.type=THREE.LinePieces;var s=a.clone().translateX(c.WIDTH).rotateY(-Math.PI/2),l=a.clone().translateZ(c.WIDTH).rotateY(Math.PI/2),f=a.clone().translateX(c.WIDTH).translateZ(c.WIDTH).rotateY(Math.PI);this.scene.add(a,s,l,f);var h=new THREE.AmbientLight(6316128);this.scene.add(h);var v=new THREE.DirectionalLight(16777215);v.position.set(.5,-.75,1).normalize(),this.scene.add(v),this.cubeGeo=new THREE.BoxGeometry(c.VOXEL_SIZE,c.VOXEL_SIZE,c.VOXEL_SIZE),this.cubeMaterial=[],this.VIEW_BLOCK_LIST.forEach(function(e){var n=new THREE.MeshLambertMaterial({color:e.color});e.opacity>=0&&(n.transparent=!0,n.opacity=.3),t.cubeMaterial.push(n)}),this.setSize()}},{key:"setSize",value:function(){this.width=window.innerWidth||c.WIDTH,this.height=window.innerHeight||c.HEIGHT,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"setCamera",value:function(t){switch(t){case"ortho1":this.camera=this.orthocamera,this.camera.position.set(c.CENTER_X,c.CENTER_Y,this.CAMERA_DISTANCE_DEFAULT);break;case"ortho2":this.camera=this.orthocamera,this.camera.position.set(this.CAMERA_DISTANCE_DEFAULT,c.CENTER_Y,c.CENTER_Z);break;case"ortho3":this.camera=this.orthocamera,this.camera.position.set(c.CENTER_X,-1e3,c.CENTER_Z);break;default:this.camera=this.perscamera,this.camera.position.copy(this.CAMERA_POSITION)}this.camera.up.set(0,-1,0),this.camera.zoom=1,this.camera.lookAt(this.CENTER_VECTOR)}},{key:"disableControls",value:function(){this.controls&&(this.controls.enabled=!1)}},{key:"enableControls",value:function(){this.controls&&(this.controls.enabled=!0)}},{key:"checkCameraDirection",value:function(){var t=this.camera.position.clone().sub(this.CENTER_VECTOR),e={x:Math.sign(Math.abs(t.x)>Math.abs(t.z)?t.x:0),y:Math.sign(-t.y),z:Math.sign(Math.abs(t.z)>Math.abs(t.x)?t.z:0)};return e}},{key:"rotateCamera",value:function(){this.controls.rotate({x:c.AUTO_ROTATE_SPEED,y:0})}},{key:"tick",value:function(){this.framecount++}},{key:"render",value:function(){this.isAutoRotate&&this.rotateCamera(),this.renderer.render(this.scene,this.camera)}},{key:"drawBoard",value:function(t){this.boardVoxels=[];for(var e=0;e<c.COLS;++e)for(var n=0;n<c.ROWS;++n)for(var r=0;r<c.COLS;++r){var o=r,i=n,u=e,a=t[u][i][o]-1;if(t[u][i][o]){var s=this.drawVoxel(o,i,u,a);this.boardVoxels.push(s)}}}},{key:"disposeBoard",value:function(){this.boardVoxels&&this.boardVoxels.length&&this.disposeVoxels(this.boardVoxels)}},{key:"disposeBlock",value:function(t){this.disposeVoxels(t.voxels)}},{key:"disposeVoxels",value:function(t){var e=this;t.forEach(function(t){t.geometry.dispose(),t.material.dispose(),e.scene.remove(t)})}},{key:"drawCurrentBlock",value:function(t){this.currentBlock&&this.disposeBlock(this.currentBlock),this.currentBlock=Object.assign({},t),this.drawBlock(this.currentBlock)}},{key:"drawBlock",value:function(t){if(t){t.voxels=[];for(var e=0;e<c.VOXEL_LENGTH;++e)for(var n=0;n<c.VOXEL_LENGTH;++n)for(var r=0;r<c.VOXEL_LENGTH;++r)if(t.shape[e][n][r]){var o=r+t.x,i=n+t.y-c.HIDDEN_ROWS,u=e+t.z,a=this.drawVoxel(o,i,u,t.id);t.voxels.push(a)}}}},{key:"drawVoxel",value:function(t,e,n,r){var o=t*c.VOXEL_SIZE,i=e*c.VOXEL_SIZE,u=n*c.VOXEL_SIZE,a=new THREE.Mesh(this.cubeGeo,this.cubeMaterial[r]);return a.position.set(o,i,u),a.position.addScalar(c.VOXEL_SIZE/2),0>e?a:(this.scene.add(a),a)}},{key:"moveCurrentBlock",value:function(t){this.currentBlock&&(Object.assign(this.currentBlock,t),this.moveBlock(this.currentBlock))}},{key:"moveBlock",value:function(t){if(t)for(var e=0,n=0;n<c.VOXEL_LENGTH;++n)for(var r=0;r<c.VOXEL_LENGTH;++r)for(var o=0;o<c.VOXEL_LENGTH;++o)if(t.shape[n][r][o]){var i=o+t.x,u=r+t.y-c.HIDDEN_ROWS,a=n+t.z,s=t.voxels[e];this.moveVoxel(i,u,a,s),e++}}},{key:"moveVoxel",value:function(t,e,n,r){if(!(0>e)){var o=t*c.VOXEL_SIZE,i=e*c.VOXEL_SIZE,u=n*c.VOXEL_SIZE;r.position.set(o,i,u),r.position.addScalar(c.VOXEL_SIZE/2),this.scene.add(r)}}},{key:"start",value:function(){var t=this,e=Date.now(),n=e,r=n,o=n;this.loopId=null;var i=function u(e){var i=Date.now(),a=i-r,s=i-o;a>c.RENDER_INTERVAL&&(r=i,t.render()),s>c.TICK_INTERVAL&&(o=i,t.tick()),n=i,t.loopId=requestAnimationFrame(u)};i()}},{key:"stop",value:function(){cancelAnimationFrame(this.loopId)}}]),t}();n["default"]=s},{"./TetricusCONST":6,"./lib/EditorControls_":13}],11:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./../../bower_components/eventemitter2/lib/eventemitter2.js"),c=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));return n.element=t.element||document,n.touchstartElement=t.touchstartElement||n.element,n.touchmoveElement=t.touchmoveElement||n.element,n.touchendElement=t.touchendElement||n.element,n.doubleTapDelay=t.doubleTapDelay||500,n.holdingDelay=t.holdingDelay||1e3,n.watchInterval=t.watchInterval||100,n.touchSupport="ontouchstart"in window,n.touchstart=n.touchSupport?"touchstart":"mousedown",n.touchmove=n.touchSupport?"touchmove":"mousemove",n.touchend=n.touchSupport?"touchend":"mouseup",n.deltaX=0,n.deltaY=0,n.moveX=0,n.moveY=0,n.defineEventListener(),n.setEvent(),n}return i(e,t),u(e,[{key:"setEvent",value:function(){this.touchstartElement.addEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.addEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.addEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"dispose",value:function(){this.touchstartElement.removeEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.removeEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.removeEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"defineEventListener",value:function(){var t=this,e=void 0,n=void 0;this.onTouchStart=function(n){n.preventDefault(),n.stopPropagation(),t.isDoubleTap=t.isTap,t.isDragging=!0,t.isTap=!0,t.touchStartTime=Date.now(),t.touchStartX=t.touchSupport?n.touches[0].pageX:n.pageX,t.touchStartY=t.touchSupport?n.touches[0].pageY:n.pageY,setTimeout(function(){clearInterval(e),e=setInterval(function(){t.isTouchMoving||(console.log("touchholding"),t.emit("touchholding",t))},t.watchInterval)},t.holdingDelay),t.emit("touchstart",{touchStartTime:t.touchStartTime,touchStartX:t.touchStartX,touchStartY:t.touchStartY})},this.onTouchMove=function(e){t.isDragging&&(t.isTouchMoving=!0,clearTimeout(n),n=setTimeout(function(){t.isTouchMoving=!1},t.holdingDelay),t.lasttouchX=t.touchX||t.touchStartX,t.lasttouchY=t.touchY||t.touchStartY,t.touchX=t.touchSupport?e.touches[0].pageX:e.pageX,t.touchY=t.touchSupport?e.touches[0].pageY:e.pageY,t.deltaX=t.touchX-t.lasttouchX,t.deltaY=t.touchY-t.lasttouchY,t.moveX=t.touchX-t.touchStartX,t.moveY=t.touchY-t.touchStartY,t.isTap=t.isDoubleTap=!1,t.emit("touchmove",{lasttouchX:t.lasttouchX,lasttouchY:t.lasttouchY,touchX:t.touchX,touchY:t.touchY,deltaX:t.deltaX,deltaY:t.deltaY,moveX:t.moveX,moveY:t.moveY}))},this.onTouchEnd=function(n){t.isDragging=!1,t.isTouchMoving=!1,clearInterval(e),t.elapsedTime=Date.now()-t.touchStartTime,t.touchEndX=t.touchX,t.touchEndY=t.touchY,t.emit("touchend",{elapsedTime:t.elapsedTime,touchEndX:t.touchEndX,touchEndY:t.touchEndY,moveX:t.moveX,moveY:t.moveY,isTap:t.isTap,isDoubleTap:t.isDoubleTap}),t.touchX=t.touchY=null,t.moveX=t.moveY=0,setTimeout(function(){t.isTap=t.isDoubleTap=!1},t.doubleTapDelay)}}}]),e}(a.EventEmitter2);n["default"]=c},{"./../../bower_components/eventemitter2/lib/eventemitter2.js":1}],12:[function(t,e,n){"use strict";var r=$(window);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){var e=window.setTimeout(t,1e3/60);return e},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)};var o={TRANSITIONEND:"transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd",ANIMATIONEND:"animationend webkitAnimationEnd mozAnimationEnd msAnimationEnd oAnimationEnd",getWinSize:function(){window.winW=Math.max(r.width(),window.innerWidth||0),window.winH=Math.max(r.height(),window.innerHeight||0)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},throttle:function(t,e){var n=!1,r=function(r){n||(n=!0,setTimeout(function(){n=!1,t(r)},e))};return r},debounce:function(t,e){var n,r=function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};return r},async:function(t){!function e(n){t[n]&&t[n](function(){e(n+1)})}(0)},delay:function(t){return function(e){setTimeout(e,t)}},sleep:function(t){return function(){var e=$.Deferred();return setTimeout(function(){e.resolve()},t),e.promise()}},zeroPadding:function(t,e){return(new Array(e).join("0")+t).slice(-e)},getQueryString:function(){var t={},e=window.location.search;if(e.length>1)for(var n=e.substring(1),r=n.split("&"),o=0;o<r.length;o++){var i=r[o].split("="),u=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]);t[u]=a}return t},getUserAgent:function(){return o.ua={},o.ua.name=window.navigator.userAgent.toLowerCase(),o.ua.isSP=/ipod|iphone|ipad|android/i.test(o.ua.name),o.ua.isPC=!o.ua.isSP,o.ua.isIOS=/ipod|iphone|ipad/i.test(o.ua.name),o.ua.isAndroid=/android/.test(o.ua.name),o.ua.isIE8=/msie 8/.test(o.ua.name),o.ua.isIE9=/msie 9/.test(o.ua.name),o.ua.isSP&&(document.body.className+=" isSP"),o.ua.isPC&&(document.body.className+=" isPC"),o.ua},removeOtherDeviceElement:function(){o.ua.isSP?$(".onlypc").remove():$(".onlysp").remove()}};e.exports=o},{}],13:[function(t,e,n){"use strict";THREE.EditorControls=function(t,e){function n(t){s.enabled!==!1&&(0===t.button?h=f.ROTATE:1===t.button?h=f.ZOOM:2===t.button&&(h=f.PAN),p.set(t.clientX,t.clientY),e.addEventListener("mousemove",r,!1),e.addEventListener("mouseup",o,!1),e.addEventListener("mouseout",o,!1),e.addEventListener("dblclick",o,!1))}function r(t){if(s.enabled!==!1){d.set(t.clientX,t.clientY);var e=d.x-p.x,n=d.y-p.y;h===f.ROTATE?s.rotate(new THREE.Vector3(.005*-e,.005*-n,0)):h===f.ZOOM?s.zoom(new THREE.Vector3(0,0,n)):h===f.PAN&&s.pan(new THREE.Vector3(-e,n,0)),p.set(t.clientX,t.clientY)}}function o(t){e.removeEventListener("mousemove",r,!1),e.removeEventListener("mouseup",o,!1),e.removeEventListener("mouseout",o,!1),e.removeEventListener("dblclick",o,!1),h=f.NONE}function i(t){t.preventDefault();var e=0;t.wheelDelta?e=-t.wheelDelta:t.detail&&(e=10*t.detail),s.zoom(new THREE.Vector3(0,0,e))}function u(t){t.preventDefault()}function a(t){if(s.enabled!==!1){switch(t.touches.length){case 1:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[0].pageX,t.touches[0].pageY,0);break;case 2:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[1].pageX,t.touches[1].pageY,0),E=y[0].distanceTo(y[1])}g[0].copy(y[0]),g[1].copy(y[1])}}function c(t){function e(t,e){var n=e[0];for(var r in e)n.distanceTo(t)>e[r].distanceTo(t)&&(n=e[r]);return n}if(s.enabled!==!1){switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[0].pageX,t.touches[0].pageY,0),s.rotate(y[0].sub(e(y[0],g)).multiplyScalar(-.005));break;case 2:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[1].pageX,t.touches[1].pageY,0);var n=y[0].distanceTo(y[1]);s.zoom(new THREE.Vector3(0,0,E-n)),E=n;var r=y[0].clone().sub(e(y[0],g)),o=y[1].clone().sub(e(y[1],g));r.x=-r.x,o.x=-o.x,s.pan(r.add(o).multiplyScalar(.5))}g[0].copy(y[0]),g[1].copy(y[1])}}e=void 0!==e?e:document,this.enabled=!0,this.center=new THREE.Vector3;var s=this,l=new THREE.Vector3,f={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},h=f.NONE,v=new THREE.Matrix3,d=new THREE.Vector2,p=new THREE.Vector2,_=new THREE.Spherical,m={type:"change"};this.focus=function(e,n){var r=new THREE.Vector3;if(e.matrixWorld.decompose(s.center,new THREE.Quaternion,r),n&&e.geometry){r=(r.x+r.y+r.z)/3,s.center.add(e.geometry.boundingSphere.center.clone().multiplyScalar(r));var o=e.geometry.boundingSphere.radius*r,i=t.position.clone().sub(s.center).normalize().multiplyScalar(2*o);t.position.copy(s.center).add(i)}t.lookAt(s.center),s.dispatchEvent(m)},this.pan=function(e){var n=t.position.distanceTo(s.center);e.multiplyScalar(.001*n),e.applyMatrix3(v.getNormalMatrix(t.matrix)),t.position.add(e),s.center.add(e),s.dispatchEvent(m)},this.zoom=function(e){var n=t.position.distanceTo(s.center);e.multiplyScalar(.001*n),e.length()>n||(e.applyMatrix3(v.getNormalMatrix(t.matrix)),t.position.add(e),s.dispatchEvent(m))},this.rotate=function(e){l.copy(t.position).sub(s.center),_.setFromVector3(l),_.theta+=e.x,_.phi+=e.y,_.makeSafe(),l.setFromSpherical(_),t.position.copy(s.center).add(l),t.lookAt(s.center),s.dispatchEvent(m)},this.dispose=function(){e.removeEventListener("contextmenu",u,!1),e.removeEventListener("mousedown",n,!1),e.removeEventListener("mousewheel",i,!1),e.removeEventListener("MozMousePixelScroll",i,!1),e.removeEventListener("mousemove",r,!1),e.removeEventListener("mouseup",o,!1),e.removeEventListener("mouseout",o,!1),e.removeEventListener("dblclick",o,!1),e.removeEventListener("touchstart",a,!1),e.removeEventListener("touchmove",c,!1)},e.addEventListener("contextmenu",u,!1),e.addEventListener("mousedown",n,!1),e.addEventListener("mousewheel",i,!1),e.addEventListener("MozMousePixelScroll",i,!1);var y=(new THREE.Vector3,[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]),g=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],E=null;e.addEventListener("touchstart",a,!1),e.addEventListener("touchmove",c,!1)},THREE.EditorControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.EditorControls.prototype.constructor=THREE.EditorControls},{}],14:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=t("./Util"),i=r(o),u=t("./SoundController"),a=r(u),c=t("./TetricusCONST"),s=r(c),l=t("./TetricusView"),f=r(l),h=t("./TetricusModel"),v=r(h),d=t("./TetricusController"),p=r(d),_=t("./TetricusUI"),m=r(_),y=new v["default"],g=new f["default"],E=new p["default"](y,g),w=new m["default"](E),b=new a["default"]({src:"./audio/bgm.mp3",COOKIE_NAME:"TETRICUS-isMute"});E.on("startGame",function(){b.play()}),w.on("toggleSound",function(t){b.toggleMute(!t.isSoundOn),b.togglePlay(t.isSoundOn)}),w.toggleBtnSound(!b.audio.muted),w.showStartModal(),E.isAutoMode=!0,E.newGame();var k=i["default"].getQueryString();k.debug&&!function(){var t=+k.debug||0,e=s["default"].BLOCK_LIST[t].shape;s["default"].BLOCK_LIST.forEach(function(t){t.shape=e});var n=function(){s["default"].START_X=Math.floor((s["default"].COLS-s["default"].VOXEL_LENGTH)/2),s["default"].START_Y=0,s["default"].START_Z=Math.floor((s["default"].COLS-s["default"].VOXEL_LENGTH)/2),s["default"].HIDDEN_ROWS=s["default"].VOXEL_LENGTH,s["default"].LOGICAL_ROWS=s["default"].ROWS+s["default"].HIDDEN_ROWS,s["default"].WIDTH=s["default"].VOXEL_SIZE*s["default"].COLS,s["default"].HEIGHT=s["default"].VOXEL_SIZE*s["default"].ROWS,s["default"].CENTER_X=s["default"].WIDTH/2,s["default"].CENTER_Y=s["default"].HEIGHT/2,s["default"].CENTER_Z=s["default"].WIDTH/2,g.constructor()};k.interval&&(y.tickInterval=+k.interval),k.cols&&(s["default"].COLS=+k.cols,n()),k.rows&&(s["default"].ROWS=+k.rows,n()),k.voxel_size&&(s["default"].VOXEL_SIZE=+k.voxel_size,n()),k.render_interval&&(s["default"].RENDER_INTERVAL=+k.render_interval),k.tick_interval&&(s["default"].TICK_INTERVAL=+k.tick_interval),k.speedup_rate&&(s["default"].SPEEDUP_RATE=+k.speedup_rate),E.newGame()}()},{"./SoundController":4,"./TetricusCONST":6,"./TetricusController":7,"./TetricusModel":8,"./TetricusUI":9,"./TetricusView":10,"./Util":12}]},{},[14]);