!function t(e,n,r){function o(u,a){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){!function(t){function r(){this._events={},this._conf&&o.call(this,this._conf)}function o(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function i(t){this._events={},this.newListener=!1,o.call(this,t)}function u(t,e,n,r){if(!n)return[];var o,i,a,s,c,l,f,h=[],d=e.length,p=e[r],v=e[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)t&&t.push(n._listeners[o]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(h=h.concat(u(t,e,n[a],r+1)));return h}if("**"===p){f=r+1===d||r+2===d&&"*"===v,f&&n._listeners&&(h=h.concat(u(t,e,n,d)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(h=h.concat(u(t,e,n[a],d))),h=h.concat(u(t,e,n[a],r))):h=a===v?h.concat(u(t,e,n[a],r+2)):h.concat(u(t,e,n[a],r)));return h}h=h.concat(u(t,e,n[p],r+1))}if(s=n["*"],s&&u(t,e,s,r+1),c=n["**"])if(r<d){c._listeners&&u(t,e,c,d);for(a in c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===v?u(t,e,c[a],r+2):a===p?u(t,e,c[a],r+1):(l={},l[a]=c[a],u(t,e,{"**":l},r+1)))}else c._listeners?u(t,e,c,d):c["*"]&&c["*"]._listeners&&u(t,e,c["*"],d);return h}function a(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;n+1<r;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var o=this.listenerTree,i=t.shift();i;){if(o[i]||(o[i]={}),o=o[i],0===t.length){if(o._listeners){if("function"==typeof o._listeners)o._listeners=[o._listeners,e];else if(s(o._listeners)&&(o._listeners.push(e),!o._listeners.warned)){var u=c;"undefined"!=typeof this._events.maxListeners&&(u=this._events.maxListeners),u>0&&o._listeners.length>u&&(o._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",o._listeners.length),console.trace&&console.trace())}}else o._listeners=e;return!0}i=t.shift()}return!0}var s=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=10;i.EventEmitter2=i,i.prototype.delimiter=".",i.prototype.setMaxListeners=function(t){this._events||r.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},i.prototype.event="",i.prototype.once=function(t,e){return this.many(t,1,e),this},i.prototype.many=function(t,e,n){function r(){0===--e&&o.off(t,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),o},i.prototype.emit=function(){this._events||r.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,n,o,i,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(e=new Array(s),i=1;i<s;i++)e[i]=arguments[i];for(o=0,n=a.length;o<n;o++)switch(this.event=t,s){case 1:a[o].call(this,t);break;case 2:a[o].call(this,t,arguments[1]);break;case 3:a[o].call(this,t,arguments[1],arguments[2]);break;default:a[o].apply(this,e)}}if(this.wildcard){a=[];var c="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,a,c,this.listenerTree,0)}else{if(a=this._events[t],"function"==typeof a){switch(this.event=t,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];a.apply(this,e)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];for(o=0,n=a.length;o<n;o++)switch(this.event=t,s){case 1:a[o].call(this);break;case 2:a[o].call(this,arguments[1]);break;case 3:a[o].call(this,arguments[1],arguments[2]);break;default:a[o].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},i.prototype.emitAsync=function(){this._events||r.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,n,o,i,a,s=[],c=arguments.length;if(this._all){if(c>3)for(e=new Array(c),i=1;i<c;i++)e[i]=arguments[i];for(o=0,n=this._all.length;o<n;o++)switch(this.event=t,c){case 1:s.push(this._all[o].call(this,t));break;case 2:s.push(this._all[o].call(this,t,arguments[1]));break;case 3:s.push(this._all[o].call(this,t,arguments[1],arguments[2]));break;default:s.push(this._all[o].apply(this,e))}}if(this.wildcard){a=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,a,l,this.listenerTree,0)}else a=this._events[t];if("function"==typeof a)switch(this.event=t,c){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(c-1),i=1;i<c;i++)e[i-1]=arguments[i];s.push(a.apply(this,e))}else if(a&&a.length){if(c>3)for(e=new Array(c-1),i=1;i<c;i++)e[i-1]=arguments[i];for(o=0,n=a.length;o<n;o++)switch(this.event=t,c){case 1:s.push(a[o].call(this));break;case 2:s.push(a[o].call(this,arguments[1]));break;case 3:s.push(a[o].call(this,arguments[1],arguments[2]));break;default:s.push(a[o].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},i.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");if(this._events||r.call(this),this.emit("newListener",t,e),this.wildcard)return a.call(this,t,e),this;if(this._events[t]){if("function"==typeof this._events[t])this._events[t]=[this._events[t],e];else if(s(this._events[t])&&(this._events[t].push(e),!this._events[t].warned)){var n=c;"undefined"!=typeof this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace&&console.trace())}}else this._events[t]=e;return this},i.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(e,n){function r(e){if(e!==t){var n=Object.keys(e);for(var o in n){var i=n[o],u=e[i];u instanceof Function||"object"!=typeof u||(Object.keys(u).length>0&&r(e[i]),0===Object.keys(u).length&&delete e[i])}}}if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var o,i=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();i=u.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;o=this._events[e],i.push({_listeners:o})}for(var c=0;c<i.length;c++){var l=i[c];if(o=l._listeners,s(o)){for(var f=-1,h=0,d=o.length;h<d;h++)if(o[h]===n||o[h].listener&&o[h].listener===n||o[h]._origin&&o[h]._origin===n){f=h;break}if(f<0)continue;return this.wildcard?l._listeners.splice(f,1):this._events[e].splice(f,1),0===o.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,n),this}(o===n||o.listener&&o.listener===n||o._origin&&o._origin===n)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,n))}return r(this.listenerTree),this},i.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;n<r;n++)if(t===e[n])return e.splice(n,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,n=0,r=e.length;n<r;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||r.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=u.call(this,null,e,this.listenerTree,0),o=0;o<n.length;o++){var i=n[o];i._listeners=null}else{if(!this._events||!this._events[t])return this;this._events[t]=null}return this},i.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return u.call(this,e,n,this.listenerTree,0),e}return this._events||r.call(this),this._events[t]||(this._events[t]=[]),s(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof n?e.exports=i:window.EventEmitter2=i}()},{}],2:[function(t,e,n){/*!
 *  howler.js v1.1.29
 *  howlerjs.com
 *
 *  (c) 2013-2016, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){var t={},e=null,r=!0,o=!1;try{"undefined"!=typeof AudioContext?e=new AudioContext:"undefined"!=typeof webkitAudioContext?e=new webkitAudioContext:r=!1}catch(i){r=!1}if(!r)if("undefined"!=typeof Audio)try{new Audio}catch(i){o=!0}else o=!0;if(r){var u="undefined"==typeof e.createGain?e.createGainNode():e.createGain();u.gain.value=1,u.connect(e.destination)}var a=function(t){this._volume=1,this._muted=!1,this.usingWebAudio=r,this.ctx=e,this.noAudio=o,this._howls=[],this._codecs=t,this.iOSAutoEnable=!0};a.prototype={volume:function(t){var e=this;if(t=parseFloat(t),t>=0&&t<=1){e._volume=t,r&&(u.gain.value=t);for(var n in e._howls)if(e._howls.hasOwnProperty(n)&&e._howls[n]._webAudio===!1)for(var o=0;o<e._howls[n]._audioNode.length;o++)e._howls[n]._audioNode[o].volume=e._howls[n]._volume*e._volume;return e}return r?u.gain.value:e._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(t){var e=this;e._muted=t,r&&(u.gain.value=t?0:e._volume);for(var n in e._howls)if(e._howls.hasOwnProperty(n)&&e._howls[n]._webAudio===!1)for(var o=0;o<e._howls[n]._audioNode.length;o++)e._howls[n]._audioNode[o].muted=t},codecs:function(t){return this._codecs[t]},_enableiOSAudio:function(){var t=this;if(!e||!t._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){t._iOSEnabled=!1;var n=function(){var r=e.createBuffer(1,1,22050),o=e.createBufferSource();o.buffer=r,o.connect(e.destination),"undefined"==typeof o.start?o.noteOn(0):o.start(0),setTimeout(function(){o.playbackState!==o.PLAYING_STATE&&o.playbackState!==o.FINISHED_STATE||(t._iOSEnabled=!0,t.iOSAutoEnable=!1,window.removeEventListener("touchend",n,!1))},0)};return window.addEventListener("touchend",n,!1),t}}};var s=null,c={};o||(s=new Audio,c={mp3:!!s.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!s.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var l=new a(c),f=function(t){var n=this;n._autoplay=t.autoplay||!1,n._buffer=t.buffer||!1,n._duration=t.duration||0,n._format=t.format||null,n._loop=t.loop||!1,n._loaded=!1,n._sprite=t.sprite||{},n._src=t.src||"",n._pos3d=t.pos3d||[0,0,-.5],n._volume=void 0!==t.volume?t.volume:1,n._urls=t.urls||[],n._rate=t.rate||1,n._model=t.model||null,n._onload=[t.onload||function(){}],n._onloaderror=[t.onloaderror||function(){}],n._onend=[t.onend||function(){}],n._onpause=[t.onpause||function(){}],n._onplay=[t.onplay||function(){}],n._onendTimer=[],n._webAudio=r&&!n._buffer,n._audioNode=[],n._webAudio&&n._setupAudioNode(),"undefined"!=typeof e&&e&&l.iOSAutoEnable&&l._enableiOSAudio(),l._howls.push(n),n.load()};if(f.prototype={load:function(){var t=this,e=null;if(o)return void t.on("loaderror",new Error("No audio support."));for(var n=0;n<t._urls.length;n++){var r,i;if(t._format)r=t._format;else{if(i=t._urls[n],r=/^data:audio\/([^;,]+);/i.exec(i),r||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),!r)return void t.on("loaderror",new Error("Could not extract format from passed URLs, please add format parameter."));r=r[1].toLowerCase()}if(c[r]){e=t._urls[n];break}}if(!e)return void t.on("loaderror",new Error("No codec support for selected audio sources."));if(t._src=e,t._webAudio)h(t,e);else{var u=new Audio;u.addEventListener("error",function(){u.error&&4===u.error.code&&(a.noAudio=!0),t.on("loaderror",{type:u.error?u.error.code:0})},!1),t._audioNode.push(u),u.src=e,u._pos=0,u.preload="auto",u.volume=l._muted?0:t._volume*l.volume();var s=function(){t._duration=Math.ceil(10*u.duration)/10,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play(),u.removeEventListener("canplaythrough",s,!1)};u.addEventListener("canplaythrough",s,!1),u.load()}return t},urls:function(t){var e=this;return t?(e.stop(),e._urls="string"==typeof t?[t]:t,e._loaded=!1,e.load(),e):e._urls},play:function(t,n){var r=this;return"function"==typeof t&&(n=t),t&&"function"!=typeof t||(t="_default"),r._loaded?r._sprite[t]?(r._inactiveNode(function(o){o._sprite=t;var i=o._pos>0?o._pos:r._sprite[t][0]/1e3,u=0;r._webAudio?(u=r._sprite[t][1]/1e3-o._pos,o._pos>0&&(i=r._sprite[t][0]/1e3+i)):u=r._sprite[t][1]/1e3-(i-r._sprite[t][0]/1e3);var a,s=!(!r._loop&&!r._sprite[t][2]),c="string"==typeof n?n:Math.round(Date.now()*Math.random())+"";if(function(){var e={id:c,sprite:t,loop:s};a=setTimeout(function(){!r._webAudio&&s&&r.stop(e.id).play(t,e.id),r._webAudio&&!s&&(r._nodeById(e.id).paused=!0,r._nodeById(e.id)._pos=0,r._clearEndTimer(e.id)),r._webAudio||s||r.stop(e.id),r.on("end",c)},u/r._rate*1e3),r._onendTimer.push({timer:a,id:e.id})}(),r._webAudio){var f=r._sprite[t][0]/1e3,h=r._sprite[t][1]/1e3;o.id=c,o.paused=!1,v(r,[s,f,h],c),r._playStart=e.currentTime,o.gain.value=r._volume,"undefined"==typeof o.bufferSource.start?s?o.bufferSource.noteGrainOn(0,i,86400):o.bufferSource.noteGrainOn(0,i,u):s?o.bufferSource.start(0,i,86400):o.bufferSource.start(0,i,u)}else{if(4!==o.readyState&&(o.readyState||!navigator.isCocoonJS))return r._clearEndTimer(c),function(){var e=r,i=t,u=n,a=o,s=function(){e.play(i,u),a.removeEventListener("canplaythrough",s,!1)};a.addEventListener("canplaythrough",s,!1)}(),r;o.readyState=4,o.id=c,o.currentTime=i,o.muted=l._muted||o.muted,o.volume=r._volume*l.volume(),setTimeout(function(){o.play()},0)}return r.on("play"),"function"==typeof n&&n(c),r}),r):("function"==typeof n&&n(),r):(r.on("load",function(){r.play(t,n)}),r)},pause:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.pause(t)}),e;e._clearEndTimer(t);var n=t?e._nodeById(t):e._activeNode();if(n)if(n._pos=e.pos(null,t),e._webAudio){if(!n.bufferSource||n.paused)return e;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return e.on("pause"),e},stop:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.stop(t)}),e;e._clearEndTimer(t);var n=t?e._nodeById(t):e._activeNode();if(n)if(n._pos=0,e._webAudio){if(!n.bufferSource||n.paused)return e;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else isNaN(n.duration)||(n.pause(),n.currentTime=0);return e},mute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.mute(t)}),e;var n=t?e._nodeById(t):e._activeNode();return n&&(e._webAudio?n.gain.value=0:n.muted=!0),e},unmute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.unmute(t)}),e;var n=t?e._nodeById(t):e._activeNode();return n&&(e._webAudio?n.gain.value=e._volume:n.muted=!1),e},volume:function(t,e){var n=this;if(t=parseFloat(t),t>=0&&t<=1){if(n._volume=t,!n._loaded)return n.on("play",function(){n.volume(t,e)}),n;var r=e?n._nodeById(e):n._activeNode();return r&&(n._webAudio?r.gain.value=t:r.volume=t*l.volume()),n}return n._volume},loop:function(t){var e=this;return"boolean"==typeof t?(e._loop=t,e):e._loop},sprite:function(t){var e=this;return"object"==typeof t?(e._sprite=t,e):e._sprite},pos:function(t,n){var r=this;if(!r._loaded)return r.on("load",function(){r.pos(t)}),"number"==typeof t?r:r._pos||0;t=parseFloat(t);var o=n?r._nodeById(n):r._activeNode();if(o)return t>=0?(r.pause(n),o._pos=t,r.play(o._sprite,n),r):r._webAudio?o._pos+(e.currentTime-r._playStart):o.currentTime;if(t>=0)return r;for(var i=0;i<r._audioNode.length;i++)if(r._audioNode[i].paused&&4===r._audioNode[i].readyState)return r._webAudio?r._audioNode[i]._pos:r._audioNode[i].currentTime},pos3d:function(t,e,n,r){var o=this;if(e="undefined"!=typeof e&&e?e:0,n="undefined"!=typeof n&&n?n:-.5,!o._loaded)return o.on("play",function(){o.pos3d(t,e,n,r)}),o;if(!(t>=0||t<0))return o._pos3d;if(o._webAudio){var i=r?o._nodeById(r):o._activeNode();i&&(o._pos3d=[t,e,n],i.panner.setPosition(t,e,n),i.panner.panningModel=o._model||"HRTF")}return o},fade:function(t,e,n,r,o){var i=this,u=Math.abs(t-e),a=t>e?"down":"up",s=u/.01,c=n/s;if(!i._loaded)return i.on("load",function(){i.fade(t,e,n,r,o)}),i;i.volume(t,o);for(var l=1;l<=s;l++)!function(){var t=i._volume+("up"===a?.01:-.01)*l,n=Math.round(1e3*t)/1e3,u=e;setTimeout(function(){i.volume(n,o),n===u&&r&&r()},c*l)}()},fadeIn:function(t,e,n){return this.volume(0).play().fade(0,t,e,n)},fadeOut:function(t,e,n,r){var o=this;return o.fade(o._volume,t,e,function(){n&&n(),o.pause(r),o.on("end")},r)},_nodeById:function(t){for(var e=this,n=e._audioNode[0],r=0;r<e._audioNode.length;r++)if(e._audioNode[r].id===t){n=e._audioNode[r];break}return n},_activeNode:function(){for(var t=this,e=null,n=0;n<t._audioNode.length;n++)if(!t._audioNode[n].paused){e=t._audioNode[n];break}return t._drainPool(),e},_inactiveNode:function(t){for(var e=this,n=null,r=0;r<e._audioNode.length;r++)if(e._audioNode[r].paused&&4===e._audioNode[r].readyState){t(e._audioNode[r]),n=!0;break}if(e._drainPool(),!n){var o;if(e._webAudio)o=e._setupAudioNode(),t(o);else{e.load(),o=e._audioNode[e._audioNode.length-1];var i=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",u=function(){o.removeEventListener(i,u,!1),t(o)};o.addEventListener(i,u,!1)}}},_drainPool:function(){var t,e=this,n=0;for(t=0;t<e._audioNode.length;t++)e._audioNode[t].paused&&n++;for(t=e._audioNode.length-1;t>=0&&!(n<=5);t--)e._audioNode[t].paused&&(e._webAudio&&e._audioNode[t].disconnect(0),n--,e._audioNode.splice(t,1))},_clearEndTimer:function(t){for(var e=this,n=-1,r=0;r<e._onendTimer.length;r++)if(e._onendTimer[r].id===t){n=r;break}var o=e._onendTimer[n];o&&(clearTimeout(o.timer),e._onendTimer.splice(n,1))},_setupAudioNode:function(){var t=this,n=t._audioNode,r=t._audioNode.length;return n[r]="undefined"==typeof e.createGain?e.createGainNode():e.createGain(),n[r].gain.value=t._volume,n[r].paused=!0,n[r]._pos=0,n[r].readyState=4,n[r].connect(u),n[r].panner=e.createPanner(),n[r].panner.panningModel=t._model||"equalpower",n[r].panner.setPosition(t._pos3d[0],t._pos3d[1],t._pos3d[2]),n[r].panner.connect(n[r]),n[r]},on:function(t,e){var n=this,r=n["_on"+t];if("function"==typeof e)r.push(e);else for(var o=0;o<r.length;o++)e?r[o].call(n,e):r[o].call(n);return n},off:function(t,e){var n=this,r=n["_on"+t];if(e){for(var o=0;o<r.length;o++)if(e===r[o]){r.splice(o,1);break}}else n["_on"+t]=[];return n},unload:function(){for(var e=this,n=e._audioNode,r=0;r<e._audioNode.length;r++)n[r].paused||(e.stop(n[r].id),e.on("end",n[r].id)),e._webAudio?n[r].disconnect(0):n[r].src="";for(r=0;r<e._onendTimer.length;r++)clearTimeout(e._onendTimer[r].timer);var o=l._howls.indexOf(e);null!==o&&o>=0&&l._howls.splice(o,1),delete t[e._src],e=null}},r)var h=function(e,n){if(n in t)return e._duration=t[n].duration,void p(e);if(/^data:[^;]+;base64,/.test(n)){for(var r=atob(n.split(",")[1]),o=new Uint8Array(r.length),i=0;i<r.length;++i)o[i]=r.charCodeAt(i);d(o.buffer,e,n)}else{var u=new XMLHttpRequest;u.open("GET",n,!0),u.responseType="arraybuffer",u.onload=function(){d(u.response,e,n)},u.onerror=function(){e._webAudio&&(e._buffer=!0,e._webAudio=!1,e._audioNode=[],delete e._gainNode,delete t[n],e.load())};try{u.send()}catch(a){u.onerror()}}},d=function(n,r,o){e.decodeAudioData(n,function(e){e&&(t[o]=e,p(r,e))},function(t){r.on("loaderror",t)})},p=function(t,e){t._duration=e?e.duration:t._duration,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play()},v=function(n,r,o){var i=n._nodeById(o);i.bufferSource=e.createBufferSource(),i.bufferSource.buffer=t[n._src],i.bufferSource.connect(i.panner),i.bufferSource.loop=r[0],r[0]&&(i.bufferSource.loopStart=r[1],i.bufferSource.loopEnd=r[1]+r[2]),i.bufferSource.playbackRate.value=n._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:l,Howl:f}}),"undefined"!=typeof n&&(n.Howler=l,n.Howl=f),"undefined"!=typeof window&&(window.Howler=l,window.Howl=f)}()},{}],3:[function(t,e,n){!function(t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof n)e.exports=t();else{var r=window.Cookies,o=window.Cookies=t();o.noConflict=function(){return window.Cookies=r,o}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var u;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{u=JSON.stringify(o),/^[\{\[]/.test(u)&&(o=u)}catch(s){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}e||(u={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var h=c[f].split("="),d=h.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=h[0].replace(l,decodeURIComponent);if(d=n.read?n.read(d,p):n(d,p)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(s){}if(e===p){u=d;break}e||(u[p]=d)}catch(s){}}return u}}return r.set=r,r.get=function(t){return r(t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},{}],4:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var o=-1,i=t?t.length:0;++o<i;){var u=t[o];e(r,u,n(u),t)}return r}function a(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=t?t.length:0,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}function f(t,e){var n=t?t.length:0;return!!n&&E(t,e,0)>-1}function h(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function p(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function v(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function _(t,e,n,r){var o=t?t.length:0;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function m(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}function g(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function E(t,e,n){if(e!==e)return g(t,b,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function w(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function b(t){return t!==t}function k(t,e){var n=t?t.length:0;return n?S(t,e)/n:kt}function T(t){return function(e){return null==e?Z:e[t]}}function O(t){return function(e){return null==t?Z:t[e]}}function L(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function S(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==Z&&(n=n===Z?i:n+i)}return n}function R(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function C(t,e){return d(e,function(e){return[e,t[e]]})}function x(t){return function(e){return t(e)}}function I(t,e){return d(e,function(e){return t[e]})}function B(t,e){return t.has(e)}function N(t,e){for(var n=-1,r=t.length;++n<r&&E(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&E(e,t[n],0)>-1;);return n}function M(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function H(t){return"\\"+Nn[t]}function P(t,e){return null==t?Z:t[e]}function D(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function $(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function X(t,e){return function(n){return t(e(n))}}function V(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];u!==e&&u!==tt||(t[n]=tt,i[o++]=n)}return i}function F(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function z(t){if(!t||!On.test(t))return t.length;for(var e=kn.lastIndex=0;kn.test(t);)e++;return e}function Y(t){return t.match(kn)}function U(t){function e(t){if(Ma(t)&&!Xf(t)&&!(t instanceof He)){if(t instanceof O)return t;if(Wc.call(t,"__wrapped__"))return xi(t)}return new O(t)}function n(){}function O(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Z}function He(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function Pe(){var t=new He(this.__wrapped__);return t.__actions__=ko(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ko(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ko(this.__views__),t}function De(){if(this.__filtered__){var t=new He(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function $e(){var t=this.__wrapped__.value(),e=this.__dir__,n=Xf(t),r=e<0,o=n?t.length:0,i=ui(0,o,this.__views__),u=i.start,a=i.end,s=a-u,c=r?a:u-1,l=this.__iteratees__,f=l.length,h=0,d=yl(s,this.__takeCount__);if(!n||o<q||o==s&&d==s)return ro(t,this.__actions__);var p=[];t:for(;s--&&h<d;){c+=e;for(var v=-1,_=t[c];++v<f;){var m=l[v],y=m.iteratee,g=m.type,E=y(_);if(g==yt)_=E;else if(!E){if(g==mt)continue t;break t}}p[h++]=_}return p}function Ge(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xe(){this.__data__=Rl?Rl(null):{}}function Ve(t){return this.has(t)&&delete this.__data__[t]}function Fe(t){var e=this.__data__;if(Rl){var n=e[t];return n===Q?Z:n}return Wc.call(e,t)?e[t]:Z}function We(t){var e=this.__data__;return Rl?e[t]!==Z:Wc.call(e,t)}function ze(t,e){var n=this.__data__;return n[t]=Rl&&e===Z?Q:e,this}function Ye(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ue(){this.__data__=[]}function Ze(t){var e=this.__data__,n=yn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():il.call(e,n,1),!0}function Ke(t){var e=this.__data__,n=yn(e,t);return n<0?Z:e[n][1]}function qe(t){return yn(this.__data__,t)>-1}function Je(t,e){var n=this.__data__,r=yn(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function Qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tn(){this.__data__={hash:new Ge,map:new(Ol||Ye),string:new Ge}}function en(t){return ri(this,t)["delete"](t)}function nn(t){return ri(this,t).get(t)}function rn(t){return ri(this,t).has(t)}function on(t,e){return ri(this,t).set(t,e),this}function un(t){var e=-1,n=t?t.length:0;for(this.__data__=new Qe;++e<n;)this.add(t[e])}function an(t){return this.__data__.set(t,Q),this}function sn(t){return this.__data__.has(t)}function cn(t){this.__data__=new Ye(t)}function ln(){this.__data__=new Ye}function fn(t){return this.__data__["delete"](t)}function hn(t){return this.__data__.get(t)}function dn(t){return this.__data__.has(t)}function pn(t,e){var n=this.__data__;if(n instanceof Ye){var r=n.__data__;if(!Ol||r.length<q-1)return r.push([t,e]),this;n=this.__data__=new Qe(r)}return n.set(t,e),this}function vn(t,e,n,r){return t===Z||wa(t,$c[n])&&!Wc.call(r,n)?e:t}function _n(t,e,n){(n===Z||wa(t[e],n))&&("number"!=typeof e||n!==Z||e in t)||(t[e]=n)}function mn(t,e,n){var r=t[e];Wc.call(t,e)&&wa(r,n)&&(n!==Z||e in t)||(t[e]=n)}function yn(t,e){for(var n=t.length;n--;)if(wa(t[n][0],e))return n;return-1}function gn(t,e,n,r){return Xl(t,function(t,o,i){e(r,t,n(t),i)}),r}function En(t,e){return t&&To(e,ms(e),t)}function kn(t,e){for(var n=-1,r=null==t,o=e.length,i=Bc(o);++n<o;)i[n]=r?Z:ps(t,e[n]);return i}function xn(t,e,n){return t===t&&(n!==Z&&(t=t<=n?t:n),e!==Z&&(t=t>=e?t:e)),t}function In(t,e,n,r,o,i,u){var s;if(r&&(s=i?r(t,o,i,u):r(t)),s!==Z)return s;if(!ja(t))return t;var c=Xf(t);if(c){if(s=ci(t),!e)return ko(t,s)}else{var l=tf(t),f=l==Bt||l==Nt;if(Ff(t))return lo(t,e);if(l==Ht||l==St||f&&!i){if(D(t))return i?t:{};if(s=li(f?{}:t),!e)return Oo(t,En(s,t))}else{if(!Cn[l])return i?t:{};s=fi(t,l,In,e)}}u||(u=new cn);var h=u.get(t);if(h)return h;if(u.set(t,s),!c)var d=n?Jo(t):ms(t);return a(d||t,function(o,i){d&&(i=o,o=t[i]),mn(s,i,In(o,e,n,r,i,t,u))}),s}function Bn(t){var e=ms(t);return function(n){return Nn(n,t,e)}}function Nn(t,e,n){var r=n.length;if(null==t)return!r;for(var o=r;o--;){var i=n[o],u=e[i],a=t[i];if(a===Z&&!(i in Object(t))||!u(a))return!1}return!0}function Hn(t){return ja(t)?rl(t):{}}function Pn(t,e,n){if("function"!=typeof t)throw new Pc(J);return sl(function(){t.apply(Z,n)},e)}function $n(t,e,n,r){var o=-1,i=f,u=!0,a=t.length,s=[],c=e.length;if(!a)return s;n&&(e=d(e,x(n))),r?(i=h,u=!1):e.length>=q&&(i=B,u=!1,e=new un(e));t:for(;++o<a;){var l=t[o],p=n?n(l):l;if(l=r||0!==l?l:0,u&&p===p){for(var v=c;v--;)if(e[v]===p)continue t;s.push(l)}else i(e,p,r)||s.push(l)}return s}function Gn(t,e){var n=!0;return Xl(t,function(t,r,o){return n=!!e(t,r,o)}),n}function Vn(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],u=e(i);if(null!=u&&(a===Z?u===u&&!Ya(u):n(u,a)))var a=u,s=i}return s}function Fn(t,e,n,r){var o=t.length;for(n=Qa(n),n<0&&(n=-n>o?0:o+n),r=r===Z||r>o?o:Qa(r),r<0&&(r+=o),r=n>r?0:ts(r);n<r;)t[n++]=e;return t}function er(t,e){var n=[];return Xl(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function nr(t,e,n,r,o){var i=-1,u=t.length;for(n||(n=pi),o||(o=[]);++i<u;){var a=t[i];e>0&&n(a)?e>1?nr(a,e-1,n,r,o):p(o,a):r||(o[o.length]=a)}return o}function rr(t,e){return t&&Fl(t,e,ms)}function or(t,e){return t&&Wl(t,e,ms)}function ir(t,e){return l(e,function(e){return Ia(t[e])})}function ur(t,e){e=mi(e,t)?[e]:so(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Si(e[n++])];return n&&n==r?t:Z}function ar(t,e,n){var r=e(t);return Xf(t)?r:p(r,n(t))}function sr(t){return Uc.call(t)}function cr(t,e){return t>e}function lr(t,e){return null!=t&&(Wc.call(t,e)||"object"==typeof t&&e in t&&null===ql(t))}function fr(t,e){return null!=t&&e in Object(t)}function hr(t,e,n){return t>=yl(e,n)&&t<ml(e,n)}function dr(t,e,n){for(var r=n?h:f,o=t[0].length,i=t.length,u=i,a=Bc(i),s=1/0,c=[];u--;){var l=t[u];u&&e&&(l=d(l,x(e))),s=yl(l.length,s),a[u]=!n&&(e||o>=120&&l.length>=120)?new un(u&&l):Z}l=t[0];var p=-1,v=a[0];t:for(;++p<o&&c.length<s;){var _=l[p],m=e?e(_):_;if(_=n||0!==_?_:0,!(v?B(v,m):r(c,m,n))){for(u=i;--u;){var y=a[u];if(!(y?B(y,m):r(t[u],m,n)))continue t}v&&v.push(m),c.push(_)}}return c}function pr(t,e,n,r){return rr(t,function(t,o,i){e(r,n(t),o,i)}),r}function vr(t,e,n){mi(e,t)||(e=so(e),t=Li(t,e),e=Ki(e));var r=null==t?t:t[Si(e)];return null==r?Z:i(r,t,n)}function _r(t){return Ma(t)&&Uc.call(t)==Wt}function mr(t){return Ma(t)&&Uc.call(t)==xt}function yr(t,e,n,r,o){return t===e||(null==t||null==e||!ja(t)&&!Ma(e)?t!==t&&e!==e:gr(t,e,yr,n,r,o))}function gr(t,e,n,r,o,i){var u=Xf(t),a=Xf(e),s=Rt,c=Rt;u||(s=tf(t),s=s==St?Ht:s),a||(c=tf(e),c=c==St?Ht:c);var l=s==Ht&&!D(t),f=c==Ht&&!D(e),h=s==c;if(h&&!l)return i||(i=new cn),u||Zf(t)?Zo(t,e,n,r,o,i):Ko(t,e,s,n,r,o,i);if(!(o&ht)){var d=l&&Wc.call(t,"__wrapped__"),p=f&&Wc.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,_=p?e.value():e;return i||(i=new cn),n(v,_,r,o,i)}}return!!h&&(i||(i=new cn),qo(t,e,n,r,o,i))}function Er(t){return Ma(t)&&tf(t)==jt}function wr(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=n[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){a=n[o];var s=a[0],c=t[s],l=a[1];if(u&&a[2]){if(c===Z&&!(s in t))return!1}else{var f=new cn;if(r)var h=r(c,l,s,t,e,f);if(!(h===Z?yr(l,c,r,ft|ht,f):h))return!1}}return!0}function br(t){if(!ja(t)||Ei(t))return!1;var e=Ia(t)||D(t)?Kc:xe;return e.test(Ri(t))}function kr(t){return ja(t)&&Uc.call(t)==Dt}function Tr(t){return Ma(t)&&tf(t)==$t}function Or(t){return Ma(t)&&Na(t.length)&&!!Rn[Uc.call(t)]}function Lr(t){return"function"==typeof t?t:null==t?ac:"object"==typeof t?Xf(t)?xr(t[0],t[1]):Cr(t):vc(t)}function Ar(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function Sr(t,e){return t<e}function Rr(t,e){var n=-1,r=ka(t)?Bc(t.length):[];return Xl(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Cr(t){var e=oi(t);return 1==e.length&&e[0][2]?ki(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function xr(t,e){return mi(t)&&bi(e)?ki(Si(t),e):function(n){var r=ps(n,t);return r===Z&&r===e?_s(n,t):yr(e,r,Z,ft|ht)}}function Ir(t,e,n,r,o){if(t!==e){if(!Xf(e)&&!Zf(e))var i=ys(e);a(i||e,function(u,a){if(i&&(a=u,u=e[a]),ja(u))o||(o=new cn),Br(t,e,a,n,Ir,r,o);else{var s=r?r(t[a],u,a+"",t,e,o):Z;s===Z&&(s=u),_n(t,a,s)}})}}function Br(t,e,n,r,o,i,u){var a=t[n],s=e[n],c=u.get(s);if(c)return void _n(t,n,c);var l=i?i(a,s,n+"",t,e,u):Z,f=l===Z;f&&(l=s,Xf(s)||Zf(s)?Xf(a)?l=a:Ta(a)?l=ko(a):(f=!1,l=In(s,!0)):Fa(s)||ba(s)?ba(a)?l=ns(a):!ja(a)||r&&Ia(a)?(f=!1,l=In(s,!0)):l=a:f=!1),f&&(u.set(s,l),o(l,s,r,i,u),u["delete"](s)),_n(t,n,l)}function Nr(t,e){var n=t.length;if(n)return e+=e<0?n:0,vi(e,n)?t[e]:Z}function jr(t,e,n){var r=-1;e=d(e.length?e:[ac],x(ni()));var o=Rr(t,function(t,n,o){var i=d(e,function(e){return e(t)});return{criteria:i,index:++r,value:t}});return A(o,function(t,e){return Eo(t,e,n)})}function Mr(t,e){return t=Object(t),Hr(t,e,function(e,n){return n in t})}function Hr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var u=e[r],a=t[u];n(a,u)&&(i[u]=a)}return i}function Pr(t){return function(e){return ur(e,t)}}function Dr(t,e,n,r){var o=r?w:E,i=-1,u=e.length,a=t;for(t===e&&(e=ko(e)),n&&(a=d(t,x(n)));++i<u;)for(var s=0,c=e[i],l=n?n(c):c;(s=o(a,l,s,r))>-1;)a!==t&&il.call(a,s,1),il.call(t,s,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;if(vi(o))il.call(t,o,1);else if(mi(o,t))delete t[Si(o)];else{var u=so(o),a=Li(t,u);null!=a&&delete a[Si(Ki(u))]}}}return t}function Gr(t,e){return t+ll(El()*(e-t+1))}function Xr(t,e,n,r){for(var o=-1,i=ml(cl((e-t)/(n||1)),0),u=Bc(i);i--;)u[r?i:++o]=t,t+=n;return u}function Vr(t,e){var n="";if(!t||e<1||e>wt)return n;do e%2&&(n+=t),e=ll(e/2),e&&(t+=t);while(e);return n}function Fr(t,e){return e=ml(e===Z?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=ml(n.length-e,0),u=Bc(o);++r<o;)u[r]=n[e+r];r=-1;for(var a=Bc(e+1);++r<e;)a[r]=n[r];return a[e]=u,i(t,this,a)}}function Wr(t,e,n,r){e=mi(e,t)?[e]:so(e);for(var o=-1,i=e.length,u=i-1,a=t;null!=a&&++o<i;){var s=Si(e[o]);if(ja(a)){var c=n;if(o!=u){var l=a[s];c=r?r(l,s,a):Z,c===Z&&(c=null==l?vi(e[o+1])?[]:{}:l)}mn(a,s,c)}a=a[s]}return t}function zr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Bc(o);++r<o;)i[r]=t[r+e];return i}function Yr(t,e){var n;return Xl(t,function(t,r,o){return n=e(t,r,o),!n}),!!n}function Ur(t,e,n){var r=0,o=t?t.length:r;if("number"==typeof e&&e===e&&o<=Lt){for(;r<o;){var i=r+o>>>1,u=t[i];null!==u&&!Ya(u)&&(n?u<=e:u<e)?r=i+1:o=i}return o}return Zr(t,e,ac,n)}function Zr(t,e,n,r){e=n(e);for(var o=0,i=t?t.length:0,u=e!==e,a=null===e,s=Ya(e),c=e===Z;o<i;){var l=ll((o+i)/2),f=n(t[l]),h=f!==Z,d=null===f,p=f===f,v=Ya(f);if(u)var _=r||p;else _=c?p&&(r||h):a?p&&h&&(r||!d):s?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=e:f<e);_?o=l+1:i=l}return yl(i,Ot)}function Kr(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n],a=e?e(u):u;if(!n||!wa(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function qr(t){return"number"==typeof t?t:Ya(t)?kt:+t}function Jr(t){if("string"==typeof t)return t;if(Ya(t))return Gl?Gl.call(t):"";var e=t+"";return"0"==e&&1/t==-Et?"-0":e}function Qr(t,e,n){var r=-1,o=f,i=t.length,u=!0,a=[],s=a;if(n)u=!1,o=h;else if(i>=q){var c=e?null:Ul(t);if(c)return F(c);u=!1,o=B,s=new un}else s=e?[]:a;t:for(;++r<i;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,u&&d===d){for(var p=s.length;p--;)if(s[p]===d)continue t;e&&s.push(d),a.push(l)}else o(s,d,n)||(s!==a&&s.push(d),a.push(l))}return a}function to(t,e){e=mi(e,t)?[e]:so(e),t=Li(t,e);var n=Si(Ki(e));return!(null!=t&&lr(t,n))||delete t[n]}function eo(t,e,n,r){return Wr(t,e,n(ur(t,e)),r)}function no(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?zr(t,r?0:i,r?i+1:o):zr(t,r?i+1:0,r?o:i)}function ro(t,e){var n=t;return n instanceof He&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function oo(t,e,n){for(var r=-1,o=t.length;++r<o;)var i=i?p($n(i,t[r],e,n),$n(t[r],i,e,n)):t[r];return i&&i.length?Qr(i,e,n):[]}function io(t,e,n){for(var r=-1,o=t.length,i=e.length,u={};++r<o;){var a=r<i?e[r]:Z;n(u,t[r],a)}return u}function uo(t){return Ta(t)?t:[]}function ao(t){return"function"==typeof t?t:ac}function so(t){return Xf(t)?t:of(t)}function co(t,e,n){var r=t.length;return n=n===Z?r:n,!e&&n>=r?t:zr(t,e,n)}function lo(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function fo(t){var e=new t.constructor(t.byteLength);return new tl(e).set(new tl(t)),e}function ho(t,e){var n=e?fo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function po(t,e,n){var o=e?n(G(t),!0):G(t);return v(o,r,new t.constructor)}function vo(t){var e=new t.constructor(t.source,Ae.exec(t));return e.lastIndex=t.lastIndex,e}function _o(t,e,n){var r=e?n(F(t),!0):F(t);return v(r,o,new t.constructor)}function mo(t){return $l?Object($l.call(t)):{}}function yo(t,e){var n=e?fo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function go(t,e){if(t!==e){var n=t!==Z,r=null===t,o=t===t,i=Ya(t),u=e!==Z,a=null===e,s=e===e,c=Ya(e);if(!a&&!c&&!i&&t>e||i&&u&&s&&!a&&!c||r&&u&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&t<e||c&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!s)return-1}return 0}function Eo(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,u=o.length,a=n.length;++r<u;){var s=go(o[r],i[r]);if(s){if(r>=a)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}function wo(t,e,n,r){for(var o=-1,i=t.length,u=n.length,a=-1,s=e.length,c=ml(i-u,0),l=Bc(s+c),f=!r;++a<s;)l[a]=e[a];for(;++o<u;)(f||o<i)&&(l[n[o]]=t[o]);for(;c--;)l[a++]=t[o++];return l}function bo(t,e,n,r){for(var o=-1,i=t.length,u=-1,a=n.length,s=-1,c=e.length,l=ml(i-a,0),f=Bc(l+c),h=!r;++o<l;)f[o]=t[o];for(var d=o;++s<c;)f[d+s]=e[s];for(;++u<a;)(h||o<i)&&(f[d+n[u]]=t[o++]);return f}function ko(t,e){var n=-1,r=t.length;for(e||(e=Bc(r));++n<r;)e[n]=t[n];return e}function To(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var u=e[o],a=r?r(n[u],t[u],u,n,t):Z;mn(n,u,a===Z?t[u]:a)}return n}function Oo(t,e){return To(t,Jl(t),e)}function Lo(t,e){return function(n,r){var o=Xf(n)?u:gn,i=e?e():{};return o(n,t,ni(r,2),i)}}function Ao(t){return Fr(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:Z,u=o>2?n[2]:Z;for(i=t.length>3&&"function"==typeof i?(o--,i):Z,u&&_i(n[0],n[1],u)&&(i=o<3?Z:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}function So(t,e){return function(n,r){if(null==n)return n;if(!ka(n))return t(n,r);for(var o=n.length,i=e?o:-1,u=Object(n);(e?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function Ro(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){
var s=u[t?a:++o];if(n(i[s],s,i)===!1)break}return e}}function Co(t,e,n){function r(){var e=this&&this!==Dn&&this instanceof r?i:t;return e.apply(o?n:this,arguments)}var o=e&et,i=Bo(t);return r}function xo(t){return function(e){e=os(e);var n=On.test(e)?Y(e):Z,r=n?n[0]:e.charAt(0),o=n?co(n,1).join(""):e.slice(1);return r[t]()+o}}function Io(t){return function(e){return v(nc(Ms(e).replace(wn,"")),t,"")}}function Bo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Hn(t.prototype),r=t.apply(n,e);return ja(r)?r:n}}function No(t,e,n){function r(){for(var u=arguments.length,a=Bc(u),s=u,c=ei(r);s--;)a[s]=arguments[s];var l=u<3&&a[0]!==c&&a[u-1]!==c?[]:V(a,c);if(u-=l.length,u<n)return Wo(t,e,Ho,r.placeholder,Z,a,l,Z,Z,n-u);var f=this&&this!==Dn&&this instanceof r?o:t;return i(f,this,a)}var o=Bo(t);return r}function jo(t){return function(e,n,r){var o=Object(e);if(!ka(e)){var i=ni(n,3);e=ms(e),n=function(t){return i(o[t],t,o)}}var u=t(e,n,r);return u>-1?o[i?e[u]:u]:Z}}function Mo(t){return Fr(function(e){e=nr(e,1);var n=e.length,r=n,o=O.prototype.thru;for(t&&e.reverse();r--;){var i=e[r];if("function"!=typeof i)throw new Pc(J);if(o&&!u&&"wrapper"==ti(i))var u=new O([],(!0))}for(r=u?r:n;++r<n;){i=e[r];var a=ti(i),s="wrapper"==a?Zl(i):Z;u=s&&gi(s[0])&&s[1]==(st|ot|ut|ct)&&!s[4].length&&1==s[9]?u[ti(s[0])].apply(u,s[3]):1==i.length&&gi(i)?u[a]():u.thru(i)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Xf(r)&&r.length>=q)return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}function Ho(t,e,n,r,o,i,u,a,s,c){function l(){for(var m=arguments.length,y=Bc(m),g=m;g--;)y[g]=arguments[g];if(p)var E=ei(l),w=M(y,E);if(r&&(y=wo(y,r,o,p)),i&&(y=bo(y,i,u,p)),m-=w,p&&m<c){var b=V(y,E);return Wo(t,e,Ho,l.placeholder,n,y,b,a,s,c-m)}var k=h?n:this,T=d?k[t]:t;return m=y.length,a?y=Ai(y,a):v&&m>1&&y.reverse(),f&&s<m&&(y.length=s),this&&this!==Dn&&this instanceof l&&(T=_||Bo(T)),T.apply(k,y)}var f=e&st,h=e&et,d=e&nt,p=e&(ot|it),v=e&lt,_=d?Z:Bo(t);return l}function Po(t,e){return function(n,r){return pr(n,t,e(r),{})}}function Do(t,e){return function(n,r){var o;if(n===Z&&r===Z)return e;if(n!==Z&&(o=n),r!==Z){if(o===Z)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=qr(n),r=qr(r)),o=t(n,r)}return o}}function $o(t){return Fr(function(e){return e=1==e.length&&Xf(e[0])?d(e[0],x(ni())):d(nr(e,1),x(ni())),Fr(function(n){var r=this;return t(e,function(t){return i(t,r,n)})})})}function Go(t,e){e=e===Z?" ":Jr(e);var n=e.length;if(n<2)return n?Vr(e,t):e;var r=Vr(e,cl(t/z(e)));return On.test(e)?co(Y(r),0,t).join(""):r.slice(0,t)}function Xo(t,e,n,r){function o(){for(var e=-1,s=arguments.length,c=-1,l=r.length,f=Bc(l+s),h=this&&this!==Dn&&this instanceof o?a:t;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++e];return i(h,u?n:this,f)}var u=e&et,a=Bo(t);return o}function Vo(t){return function(e,n,r){return r&&"number"!=typeof r&&_i(e,n,r)&&(n=r=Z),e=Ja(e),n===Z?(n=e,e=0):n=Ja(n),r=r===Z?e<n?1:-1:Ja(r),Xr(e,n,r,t)}}function Fo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=es(e),n=es(n)),t(e,n)}}function Wo(t,e,n,r,o,i,u,a,s,c){var l=e&ot,f=l?u:Z,h=l?Z:u,d=l?i:Z,p=l?Z:i;e|=l?ut:at,e&=~(l?at:ut),e&rt||(e&=~(et|nt));var v=[t,e,o,d,f,p,h,a,s,c],_=n.apply(Z,v);return gi(t)&&nf(_,v),_.placeholder=r,rf(_,t,e)}function zo(t){var e=Mc[t];return function(t,n){if(t=es(t),n=yl(Qa(n),292)){var r=(os(t)+"e").split("e"),o=e(r[0]+"e"+(+r[1]+n));return r=(os(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function Yo(t){return function(e){var n=tf(e);return n==jt?G(e):n==$t?W(e):C(e,t(e))}}function Uo(t,e,n,r,o,i,u,a){var s=e&nt;if(!s&&"function"!=typeof t)throw new Pc(J);var c=r?r.length:0;if(c||(e&=~(ut|at),r=o=Z),u=u===Z?u:ml(Qa(u),0),a=a===Z?a:Qa(a),c-=o?o.length:0,e&at){var l=r,f=o;r=o=Z}var h=s?Z:Zl(t),d=[t,e,n,r,o,l,f,i,u,a];if(h&&Ti(d,h),t=d[0],e=d[1],n=d[2],r=d[3],o=d[4],a=d[9]=null==d[9]?s?0:t.length:ml(d[9]-c,0),!a&&e&(ot|it)&&(e&=~(ot|it)),e&&e!=et)p=e==ot||e==it?No(t,e,a):e!=ut&&e!=(et|ut)||o.length?Ho.apply(Z,d):Xo(t,e,n,r);else var p=Co(t,e,n);var v=h?Yl:nf;return rf(v(p,d),t,e)}function Zo(t,e,n,r,o,i){var u=o&ht,a=t.length,s=e.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var l=-1,f=!0,h=o&ft?new un:Z;for(i.set(t,e),i.set(e,t);++l<a;){var d=t[l],p=e[l];if(r)var v=u?r(p,d,l,e,t,i):r(d,p,l,t,e,i);if(v!==Z){if(v)continue;f=!1;break}if(h){if(!m(e,function(t,e){if(!h.has(e)&&(d===t||n(d,t,r,o,i)))return h.add(e)})){f=!1;break}}else if(d!==p&&!n(d,p,r,o,i)){f=!1;break}}return i["delete"](t),i["delete"](e),f}function Ko(t,e,n,r,o,i,u){switch(n){case zt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wt:return!(t.byteLength!=e.byteLength||!r(new tl(t),new tl(e)));case Ct:case xt:case Mt:return wa(+t,+e);case It:return t.name==e.name&&t.message==e.message;case Dt:case Gt:return t==e+"";case jt:var a=G;case $t:var s=i&ht;if(a||(a=F),t.size!=e.size&&!s)return!1;var c=u.get(t);if(c)return c==e;i|=ft,u.set(t,e);var l=Zo(a(t),a(e),r,o,i,u);return u["delete"](t),l;case Xt:if($l)return $l.call(t)==$l.call(e)}return!1}function qo(t,e,n,r,o,i){var u=o&ht,a=ms(t),s=a.length,c=ms(e),l=c.length;if(s!=l&&!u)return!1;for(var f=s;f--;){var h=a[f];if(!(u?h in e:lr(e,h)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var p=!0;i.set(t,e),i.set(e,t);for(var v=u;++f<s;){h=a[f];var _=t[h],m=e[h];if(r)var y=u?r(m,_,h,e,t,i):r(_,m,h,t,e,i);if(!(y===Z?_===m||n(_,m,r,o,i):y)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var g=t.constructor,E=e.constructor;g!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof E&&E instanceof E)&&(p=!1)}return i["delete"](t),i["delete"](e),p}function Jo(t){return ar(t,ms,Jl)}function Qo(t){return ar(t,ys,Ql)}function ti(t){for(var e=t.name+"",n=Bl[e],r=Wc.call(Bl,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ei(t){var n=Wc.call(e,"placeholder")?e:t;return n.placeholder}function ni(){var t=e.iteratee||sc;return t=t===sc?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function ri(t,e){var n=t.__data__;return yi(e)?n["string"==typeof e?"string":"hash"]:n.map}function oi(t){for(var e=ms(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,bi(o)]}return e}function ii(t,e){var n=P(t,e);return br(n)?n:Z}function ui(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=yl(e,t+u);break;case"takeRight":t=ml(t,e-u)}}return{start:t,end:e}}function ai(t){var e=t.match(be);return e?e[1].split(ke):[]}function si(t,e,n){e=mi(e,t)?[e]:so(e);for(var r,o=-1,i=e.length;++o<i;){var u=Si(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;var i=t?t.length:0;return!!i&&Na(i)&&vi(u,i)&&(Xf(t)||za(t)||ba(t))}function ci(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Wc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function li(t){return"function"!=typeof t.constructor||wi(t)?{}:Hn(ql(t))}function fi(t,e,n,r){var o=t.constructor;switch(e){case Wt:return fo(t);case Ct:case xt:return new o((+t));case zt:return ho(t,r);case Yt:case Ut:case Zt:case Kt:case qt:case Jt:case Qt:case te:case ee:return yo(t,r);case jt:return po(t,r,n);case Mt:case Gt:return new o(t);case Dt:return vo(t);case $t:return _o(t,r,n);case Xt:return mo(t)}}function hi(t){var e=t?t.length:Z;return Na(e)&&(Xf(t)||za(t)||ba(t))?R(e,String):null}function di(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(we,"{\n/* [wrapped with "+e+"] */\n")}function pi(t){return Xf(t)||ba(t)||!!(ul&&t&&t[ul])}function vi(t,e){return e=null==e?wt:e,!!e&&("number"==typeof t||Be.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,n){if(!ja(n))return!1;var r=typeof e;return!!("number"==r?ka(n)&&vi(e,n.length):"string"==r&&e in n)&&wa(n[e],t)}function mi(t,e){if(Xf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ya(t))||(de.test(t)||!he.test(t)||null!=e&&t in Object(e))}function yi(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function gi(t){var n=ti(t),r=e[n];if("function"!=typeof r||!(n in He.prototype))return!1;if(t===r)return!0;var o=Zl(r);return!!o&&t===o[0]}function Ei(t){return!!Vc&&Vc in t}function wi(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||$c;return t===n}function bi(t){return t===t&&!ja(t)}function ki(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==Z||t in Object(n)))}}function Ti(t,e){var n=t[1],r=e[1],o=n|r,i=o<(et|nt|st),u=r==st&&n==ot||r==st&&n==ct&&t[7].length<=e[8]||r==(st|ct)&&e[7].length<=e[8]&&n==ot;if(!i&&!u)return t;r&et&&(t[2]=e[2],o|=n&et?0:rt);var a=e[3];if(a){var s=t[3];t[3]=s?wo(s,a,e[4]):a,t[4]=s?V(t[3],tt):e[4]}return a=e[5],a&&(s=t[5],t[5]=s?bo(s,a,e[6]):a,t[6]=s?V(t[5],tt):e[6]),a=e[7],a&&(t[7]=a),r&st&&(t[8]=null==t[8]?e[8]:yl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function Oi(t,e,n,r,o,i){return ja(t)&&ja(e)&&(i.set(e,t),Ir(t,e,Z,Oi,i),i["delete"](e)),t}function Li(t,e){return 1==e.length?t:ur(t,zr(e,0,-1))}function Ai(t,e){for(var n=t.length,r=yl(e.length,n),o=ko(t);r--;){var i=e[r];t[r]=vi(i,n)?o[i]:Z}return t}function Si(t){if("string"==typeof t||Ya(t))return t;var e=t+"";return"0"==e&&1/t==-Et?"-0":e}function Ri(t){if(null!=t){try{return Fc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ci(t,e){return a(At,function(n){var r="_."+n[0];e&n[1]&&!f(t,r)&&t.push(r)}),t.sort()}function xi(t){if(t instanceof He)return t.clone();var e=new O(t.__wrapped__,t.__chain__);return e.__actions__=ko(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ii(t,e,n){e=(n?_i(t,e,n):e===Z)?1:ml(Qa(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var o=0,i=0,u=Bc(cl(r/e));o<r;)u[i++]=zr(t,o,o+=e);return u}function Bi(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function Ni(){for(var t=arguments.length,e=Bc(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?p(Xf(n)?ko(n):[n],nr(e,1)):[]}function ji(t,e,n){var r=t?t.length:0;return r?(e=n||e===Z?1:Qa(e),zr(t,e<0?0:e,r)):[]}function Mi(t,e,n){var r=t?t.length:0;return r?(e=n||e===Z?1:Qa(e),e=r-e,zr(t,0,e<0?0:e)):[]}function Hi(t,e){return t&&t.length?no(t,ni(e,3),!0,!0):[]}function Pi(t,e){return t&&t.length?no(t,ni(e,3),!0):[]}function Di(t,e,n,r){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&_i(t,e,n)&&(n=0,r=o),Fn(t,e,n,r)):[]}function $i(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=null==n?0:Qa(n);return o<0&&(o=ml(r+o,0)),g(t,ni(e,3),o)}function Gi(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=r-1;return n!==Z&&(o=Qa(n),o=n<0?ml(r+o,0):yl(o,r-1)),g(t,ni(e,3),o,!0)}function Xi(t){var e=t?t.length:0;return e?nr(t,1):[]}function Vi(t){var e=t?t.length:0;return e?nr(t,Et):[]}function Fi(t,e){var n=t?t.length:0;return n?(e=e===Z?1:Qa(e),nr(t,e)):[]}function Wi(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r}function zi(t){return t&&t.length?t[0]:Z}function Yi(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=null==n?0:Qa(n);return o<0&&(o=ml(r+o,0)),E(t,e,o)}function Ui(t){return Mi(t,1)}function Zi(t,e){return t?vl.call(t,e):""}function Ki(t){var e=t?t.length:0;return e?t[e-1]:Z}function qi(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=r;if(n!==Z&&(o=Qa(n),o=(o<0?ml(r+o,0):yl(o,r-1))+1),e!==e)return g(t,b,o-1,!0);for(;o--;)if(t[o]===e)return o;return-1}function Ji(t,e){return t&&t.length?Nr(t,Qa(e)):Z}function Qi(t,e){return t&&t.length&&e&&e.length?Dr(t,e):t}function tu(t,e,n){return t&&t.length&&e&&e.length?Dr(t,e,ni(n,2)):t}function eu(t,e,n){return t&&t.length&&e&&e.length?Dr(t,e,Z,n):t}function nu(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=ni(e,3);++r<i;){var u=t[r];e(u,r,t)&&(n.push(u),o.push(r))}return $r(t,o),n}function ru(t){return t?bl.call(t):t}function ou(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&_i(t,e,n)?(e=0,n=r):(e=null==e?0:Qa(e),n=n===Z?r:Qa(n)),zr(t,e,n)):[]}function iu(t,e){return Ur(t,e)}function uu(t,e,n){return Zr(t,e,ni(n,2))}function au(t,e){var n=t?t.length:0;if(n){var r=Ur(t,e);if(r<n&&wa(t[r],e))return r}return-1}function su(t,e){return Ur(t,e,!0)}function cu(t,e,n){return Zr(t,e,ni(n,2),!0)}function lu(t,e){var n=t?t.length:0;if(n){var r=Ur(t,e,!0)-1;if(wa(t[r],e))return r}return-1}function fu(t){return t&&t.length?Kr(t):[]}function hu(t,e){return t&&t.length?Kr(t,ni(e,2)):[]}function du(t){return ji(t,1)}function pu(t,e,n){return t&&t.length?(e=n||e===Z?1:Qa(e),zr(t,0,e<0?0:e)):[]}function vu(t,e,n){var r=t?t.length:0;return r?(e=n||e===Z?1:Qa(e),e=r-e,zr(t,e<0?0:e,r)):[]}function _u(t,e){return t&&t.length?no(t,ni(e,3),!1,!0):[]}function mu(t,e){return t&&t.length?no(t,ni(e,3)):[]}function yu(t){return t&&t.length?Qr(t):[]}function gu(t,e){return t&&t.length?Qr(t,ni(e,2)):[]}function Eu(t,e){return t&&t.length?Qr(t,Z,e):[]}function wu(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(Ta(t))return e=ml(t.length,e),!0}),R(e,function(e){return d(t,T(e))})}function bu(t,e){if(!t||!t.length)return[];var n=wu(t);return null==e?n:d(n,function(t){return i(e,Z,t)})}function ku(t,e){return io(t||[],e||[],mn)}function Tu(t,e){return io(t||[],e||[],Wr)}function Ou(t){var n=e(t);return n.__chain__=!0,n}function Lu(t,e){return e(t),t}function Au(t,e){return e(t)}function Su(){return Ou(this)}function Ru(){return new O(this.value(),this.__chain__)}function Cu(){this.__values__===Z&&(this.__values__=qa(this.value()));var t=this.__index__>=this.__values__.length,e=t?Z:this.__values__[this.__index__++];return{done:t,value:e}}function xu(){return this}function Iu(t){for(var e,r=this;r instanceof n;){var o=xi(r);o.__index__=0,o.__values__=Z,e?i.__wrapped__=o:e=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,e}function Bu(){var t=this.__wrapped__;if(t instanceof He){var e=t;return this.__actions__.length&&(e=new He(this)),e=e.reverse(),e.__actions__.push({func:Au,args:[ru],thisArg:Z}),new O(e,this.__chain__)}return this.thru(ru)}function Nu(){return ro(this.__wrapped__,this.__actions__)}function ju(t,e,n){var r=Xf(t)?c:Gn;return n&&_i(t,e,n)&&(e=Z),r(t,ni(e,3))}function Mu(t,e){var n=Xf(t)?l:er;return n(t,ni(e,3))}function Hu(t,e){return nr(Vu(t,e),1)}function Pu(t,e){return nr(Vu(t,e),Et)}function Du(t,e,n){return n=n===Z?1:Qa(n),nr(Vu(t,e),n)}function $u(t,e){var n=Xf(t)?a:Xl;return n(t,ni(e,3))}function Gu(t,e){var n=Xf(t)?s:Vl;return n(t,ni(e,3))}function Xu(t,e,n,r){t=ka(t)?t:Cs(t),n=n&&!r?Qa(n):0;var o=t.length;return n<0&&(n=ml(o+n,0)),za(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&E(t,e,n)>-1}function Vu(t,e){var n=Xf(t)?d:Rr;return n(t,ni(e,3))}function Fu(t,e,n,r){return null==t?[]:(Xf(e)||(e=null==e?[]:[e]),n=r?Z:n,Xf(n)||(n=null==n?[]:[n]),jr(t,e,n))}function Wu(t,e,n){var r=Xf(t)?v:L,o=arguments.length<3;return r(t,ni(e,4),n,o,Xl)}function zu(t,e,n){var r=Xf(t)?_:L,o=arguments.length<3;return r(t,ni(e,4),n,o,Vl)}function Yu(t,e){var n=Xf(t)?l:er;return n(t,sa(ni(e,3)))}function Uu(t){var e=ka(t)?t:Cs(t),n=e.length;return n>0?e[Gr(0,n-1)]:Z}function Zu(t,e,n){var r=-1,o=qa(t),i=o.length,u=i-1;for(e=(n?_i(t,e,n):e===Z)?1:xn(Qa(e),0,i);++r<e;){var a=Gr(r,u),s=o[a];o[a]=o[r],o[r]=s}return o.length=e,o}function Ku(t){return Zu(t,Tt)}function qu(t){if(null==t)return 0;if(ka(t)){var e=t.length;return e&&za(t)?z(t):e}if(Ma(t)){var n=tf(t);if(n==jt||n==$t)return t.size}return ms(t).length}function Ju(t,e,n){var r=Xf(t)?m:Yr;return n&&_i(t,e,n)&&(e=Z),r(t,ni(e,3))}function Qu(){return Nc.now()}function ta(t,e){if("function"!=typeof e)throw new Pc(J);return t=Qa(t),function(){if(--t<1)return e.apply(this,arguments)}}function ea(t,e,n){return e=n?Z:e,e=t&&null==e?t.length:e,Uo(t,st,Z,Z,Z,Z,e)}function na(t,e){var n;if("function"!=typeof e)throw new Pc(J);return t=Qa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=Z),n}}function ra(t,e,n){e=n?Z:e;var r=Uo(t,ot,Z,Z,Z,Z,Z,e);return r.placeholder=ra.placeholder,r}function oa(t,e,n){e=n?Z:e;var r=Uo(t,it,Z,Z,Z,Z,Z,e);return r.placeholder=oa.placeholder,r}function ia(t,e,n){function r(e){var n=h,r=d;return h=d=Z,y=e,v=t.apply(r,n)}function o(t){return y=t,_=sl(a,e),g?r(t):v}function i(t){var n=t-m,r=t-y,o=e-n;return E?yl(o,p-r):o}function u(t){var n=t-m,r=t-y;return m===Z||n>=e||n<0||E&&r>=p}function a(){var t=Qu();return u(t)?s(t):void(_=sl(a,i(t)))}function s(t){return _=Z,w&&h?r(t):(h=d=Z,v)}function c(){_!==Z&&al(_),y=0,h=m=d=_=Z}function l(){return _===Z?v:s(Qu())}function f(){var t=Qu(),n=u(t);if(h=arguments,d=this,m=t,n){if(_===Z)return o(m);if(E)return _=sl(a,e),r(m)}return _===Z&&(_=sl(a,e)),v}var h,d,p,v,_,m,y=0,g=!1,E=!1,w=!0;if("function"!=typeof t)throw new Pc(J);return e=es(e)||0,ja(n)&&(g=!!n.leading,E="maxWait"in n,p=E?ml(es(n.maxWait)||0,e):p,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=l,f}function ua(t){return Uo(t,lt)}function aa(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Pc(J);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(aa.Cache||Qe),n}function sa(t){if("function"!=typeof t)throw new Pc(J);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ca(t){return na(2,t)}function la(t,e){if("function"!=typeof t)throw new Pc(J);return e=e===Z?e:Qa(e),Fr(t,e)}function fa(t,e){if("function"!=typeof t)throw new Pc(J);return e=e===Z?0:ml(Qa(e),0),Fr(function(n){var r=n[e],o=co(n,0,e);return r&&p(o,r),i(t,this,o)})}function ha(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Pc(J);return ja(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ia(t,e,{leading:r,maxWait:e,trailing:o})}function da(t){return ea(t,1)}function pa(t,e){return e=null==e?ac:e,Hf(e,t)}function va(){if(!arguments.length)return[];var t=arguments[0];return Xf(t)?t:[t]}function _a(t){return In(t,!1,!0)}function ma(t,e){return In(t,!1,!0,e)}function ya(t){return In(t,!0,!0)}function ga(t,e){return In(t,!0,!0,e)}function Ea(t,e){return null==e||Nn(t,e,ms(e))}function wa(t,e){return t===e||t!==t&&e!==e}function ba(t){return Ta(t)&&Wc.call(t,"callee")&&(!ol.call(t,"callee")||Uc.call(t)==St)}function ka(t){return null!=t&&Na(Kl(t))&&!Ia(t)}function Ta(t){return Ma(t)&&ka(t)}function Oa(t){return t===!0||t===!1||Ma(t)&&Uc.call(t)==Ct}function La(t){return!!t&&1===t.nodeType&&Ma(t)&&!Fa(t)}function Aa(t){if(ka(t)&&(Xf(t)||za(t)||Ia(t.splice)||ba(t)||Ff(t)))return!t.length;if(Ma(t)){var e=tf(t);if(e==jt||e==$t)return!t.size}for(var n in t)if(Wc.call(t,n))return!1;return!(Il&&ms(t).length)}function Sa(t,e){return yr(t,e)}function Ra(t,e,n){n="function"==typeof n?n:Z;var r=n?n(t,e):Z;return r===Z?yr(t,e,n):!!r}function Ca(t){return!!Ma(t)&&(Uc.call(t)==It||"string"==typeof t.message&&"string"==typeof t.name)}function xa(t){return"number"==typeof t&&pl(t)}function Ia(t){var e=ja(t)?Uc.call(t):"";return e==Bt||e==Nt}function Ba(t){return"number"==typeof t&&t==Qa(t)}function Na(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=wt}function ja(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ma(t){return!!t&&"object"==typeof t}function Ha(t,e){return t===e||wr(t,e,oi(e))}function Pa(t,e,n){return n="function"==typeof n?n:Z,wr(t,e,oi(e),n)}function Da(t){return Va(t)&&t!=+t}function $a(t){if(ef(t))throw new jc("This method is not supported with core-js. Try https://github.com/es-shims.");return br(t)}function Ga(t){return null===t}function Xa(t){return null==t}function Va(t){return"number"==typeof t||Ma(t)&&Uc.call(t)==Mt}function Fa(t){if(!Ma(t)||Uc.call(t)!=Ht||D(t))return!1;var e=ql(t);if(null===e)return!0;var n=Wc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Fc.call(n)==Yc}function Wa(t){return Ba(t)&&t>=-wt&&t<=wt}function za(t){return"string"==typeof t||!Xf(t)&&Ma(t)&&Uc.call(t)==Gt}function Ya(t){return"symbol"==typeof t||Ma(t)&&Uc.call(t)==Xt}function Ua(t){return t===Z}function Za(t){return Ma(t)&&tf(t)==Vt}function Ka(t){return Ma(t)&&Uc.call(t)==Ft}function qa(t){if(!t)return[];if(ka(t))return za(t)?Y(t):ko(t);if(nl&&t[nl])return $(t[nl]());var e=tf(t),n=e==jt?G:e==$t?F:Cs;return n(t)}function Ja(t){if(!t)return 0===t?t:0;if(t=es(t),t===Et||t===-Et){var e=t<0?-1:1;return e*bt}return t===t?t:0}function Qa(t){var e=Ja(t),n=e%1;return e===e?n?e-n:e:0}function ts(t){return t?xn(Qa(t),0,Tt):0}function es(t){if("number"==typeof t)return t;if(Ya(t))return kt;if(ja(t)){var e=Ia(t.valueOf)?t.valueOf():t;t=ja(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ye,"");var n=Ce.test(t);return n||Ie.test(t)?Mn(t.slice(2),n?2:8):Re.test(t)?kt:+t}function ns(t){return To(t,ys(t))}function rs(t){return xn(Qa(t),-wt,wt)}function os(t){return null==t?"":Jr(t)}function is(t,e){var n=Hn(t);return e?En(n,e):n}function us(t,e){return y(t,ni(e,3),rr)}function as(t,e){return y(t,ni(e,3),or)}function ss(t,e){return null==t?t:Fl(t,ni(e,3),ys)}function cs(t,e){return null==t?t:Wl(t,ni(e,3),ys)}function ls(t,e){return t&&rr(t,ni(e,3))}function fs(t,e){return t&&or(t,ni(e,3))}function hs(t){return null==t?[]:ir(t,ms(t))}function ds(t){return null==t?[]:ir(t,ys(t))}function ps(t,e,n){var r=null==t?Z:ur(t,e);return r===Z?n:r}function vs(t,e){return null!=t&&si(t,e,lr)}function _s(t,e){return null!=t&&si(t,e,fr)}function ms(t){var e=wi(t);if(!e&&!ka(t))return zl(t);var n=hi(t),r=!!n,o=n||[],i=o.length;for(var u in t)!lr(t,u)||r&&("length"==u||vi(u,i))||e&&"constructor"==u||o.push(u);return o}function ys(t){for(var e=-1,n=wi(t),r=Ar(t),o=r.length,i=hi(t),u=!!i,a=i||[],s=a.length;++e<o;){var c=r[e];u&&("length"==c||vi(c,s))||"constructor"==c&&(n||!Wc.call(t,c))||a.push(c)}return a}function gs(t,e){var n={};return e=ni(e,3),rr(t,function(t,r,o){n[e(t,r,o)]=t}),n}function Es(t,e){var n={};return e=ni(e,3),rr(t,function(t,r,o){n[r]=e(t,r,o)}),n}function ws(t,e){return bs(t,sa(ni(e)))}function bs(t,e){return null==t?{}:Hr(t,Qo(t),ni(e))}function ks(t,e,n){e=mi(e,t)?[e]:so(e);var r=-1,o=e.length;for(o||(t=Z,o=1);++r<o;){var i=null==t?Z:t[Si(e[r])];i===Z&&(r=o,i=n),t=Ia(i)?i.call(t):i}return t}function Ts(t,e,n){return null==t?t:Wr(t,e,n)}function Os(t,e,n,r){return r="function"==typeof r?r:Z,null==t?t:Wr(t,e,n,r)}function Ls(t,e,n){var r=Xf(t)||Zf(t);if(e=ni(e,4),null==n)if(r||ja(t)){var o=t.constructor;n=r?Xf(t)?new o:[]:Ia(o)?Hn(ql(t)):{}}else n={};return(r?a:rr)(t,function(t,r,o){return e(n,t,r,o)}),n}function As(t,e){return null==t||to(t,e)}function Ss(t,e,n){return null==t?t:eo(t,e,ao(n))}function Rs(t,e,n,r){return r="function"==typeof r?r:Z,null==t?t:eo(t,e,ao(n),r)}function Cs(t){return t?I(t,ms(t)):[]}function xs(t){return null==t?[]:I(t,ys(t))}function Is(t,e,n){return n===Z&&(n=e,e=Z),n!==Z&&(n=es(n),n=n===n?n:0),e!==Z&&(e=es(e),e=e===e?e:0),xn(es(t),e,n)}function Bs(t,e,n){return e=Ja(e),n===Z?(n=e,e=0):n=Ja(n),t=es(t),hr(t,e,n)}function Ns(t,e,n){if(n&&"boolean"!=typeof n&&_i(t,e,n)&&(e=n=Z),n===Z&&("boolean"==typeof e?(n=e,e=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&e===Z?(t=0,e=1):(t=Ja(t),e===Z?(e=t,t=0):e=Ja(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=El();return yl(t+o*(e-t+jn("1e-"+((o+"").length-1))),e)}return Gr(t,e)}function js(t){return wh(os(t).toLowerCase())}function Ms(t){return t=os(t),t&&t.replace(Ne,qn).replace(bn,"")}function Hs(t,e,n){t=os(t),e=Jr(e);var r=t.length;n=n===Z?r:xn(Qa(n),0,r);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}function Ps(t){return t=os(t),t&&se.test(t)?t.replace(ue,Jn):t}function Ds(t){return t=os(t),t&&me.test(t)?t.replace(_e,"\\$&"):t}function $s(t,e,n){t=os(t),e=Qa(e);var r=e?z(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Go(ll(o),n)+t+Go(cl(o),n)}function Gs(t,e,n){t=os(t),e=Qa(e);var r=e?z(t):0;return e&&r<e?t+Go(e-r,n):t}function Xs(t,e,n){t=os(t),e=Qa(e);var r=e?z(t):0;return e&&r<e?Go(e-r,n)+t:t}function Vs(t,e,n){return n||null==e?e=0:e&&(e=+e),t=os(t).replace(ye,""),gl(t,e||(Se.test(t)?16:10))}function Fs(t,e,n){return e=(n?_i(t,e,n):e===Z)?1:Qa(e),Vr(os(t),e)}function Ws(){var t=arguments,e=os(t[0]);return t.length<3?e:wl.call(e,t[1],t[2])}function zs(t,e,n){return n&&"number"!=typeof n&&_i(t,e,n)&&(e=n=Z),(n=n===Z?Tt:n>>>0)?(t=os(t),t&&("string"==typeof e||null!=e&&!Yf(e))&&(e=Jr(e),""==e&&On.test(t))?co(Y(t),0,n):kl.call(t,e,n)):[]}function Ys(t,e,n){return t=os(t),n=xn(Qa(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e}function Us(t,n,r){var o=e.templateSettings;r&&_i(t,n,r)&&(n=Z),t=os(t),n=th({},n,o,vn);var i,u,a=th({},n.imports,o.imports,vn),s=ms(a),c=I(a,s),l=0,f=n.interpolate||je,h="__p += '",d=Hc((n.escape||je).source+"|"+f.source+"|"+(f===fe?Le:je).source+"|"+(n.evaluate||je).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Sn+"]")+"\n";t.replace(d,function(e,n,r,o,a,s){return r||(r=o),h+=t.slice(l,s).replace(Me,H),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(ne,""):h).replace(re,"$1").replace(oe,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=bh(function(){return Function(s,p+"return "+h).apply(Z,c)});if(_.source=h,Ca(_))throw _;return _}function Zs(t){return os(t).toLowerCase()}function Ks(t){return os(t).toUpperCase()}function qs(t,e,n){if(t=os(t),t&&(n||e===Z))return t.replace(ye,"");if(!t||!(e=Jr(e)))return t;var r=Y(t),o=Y(e),i=N(r,o),u=j(r,o)+1;return co(r,i,u).join("")}function Js(t,e,n){if(t=os(t),t&&(n||e===Z))return t.replace(Ee,"");if(!t||!(e=Jr(e)))return t;var r=Y(t),o=j(r,Y(e))+1;return co(r,0,o).join("")}function Qs(t,e,n){if(t=os(t),t&&(n||e===Z))return t.replace(ge,"");if(!t||!(e=Jr(e)))return t;var r=Y(t),o=N(r,Y(e));return co(r,o).join("")}function tc(t,e){var n=dt,r=pt;if(ja(e)){var o="separator"in e?e.separator:o;n="length"in e?Qa(e.length):n,r="omission"in e?Jr(e.omission):r}t=os(t);var i=t.length;if(On.test(t)){var u=Y(t);i=u.length}if(n>=i)return t;var a=n-z(r);if(a<1)return r;var s=u?co(u,0,a).join(""):t.slice(0,a);if(o===Z)return s+r;if(u&&(a+=s.length-a),Yf(o)){if(t.slice(a).search(o)){var c,l=s;for(o.global||(o=Hc(o.source,os(Ae.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var f=c.index;s=s.slice(0,f===Z?a:f)}}else if(t.indexOf(Jr(o),a)!=a){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+r}function ec(t){return t=os(t),t&&ae.test(t)?t.replace(ie,Qn):t}function nc(t,e,n){return t=os(t),e=n?Z:e,e===Z&&(e=Ln.test(t)?Tn:Te),t.match(e)||[]}function rc(t){var e=t?t.length:0,n=ni();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new Pc(J);return[n(t[0]),t[1]]}):[],Fr(function(n){for(var r=-1;++r<e;){var o=t[r];if(i(o[0],this,n))return i(o[1],this,n)}})}function oc(t){return Bn(In(t,!0))}function ic(t){return function(){return t}}function uc(t,e){return null==t||t!==t?e:t}function ac(t){return t}function sc(t){return Lr("function"==typeof t?t:In(t,!0))}function cc(t){return Cr(In(t,!0))}function lc(t,e){return xr(t,In(e,!0))}function fc(t,e,n){var r=ms(e),o=ir(e,r);null!=n||ja(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=ir(e,ms(e)));var i=!(ja(n)&&"chain"in n&&!n.chain),u=Ia(t);return a(o,function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=ko(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function hc(){return Dn._===this&&(Dn._=Zc),this}function dc(){}function pc(t){return t=Qa(t),Fr(function(e){return Nr(e,t)})}function vc(t){return mi(t)?T(Si(t)):Pr(t)}function _c(t){return function(e){return null==t?Z:ur(t,e)}}function mc(){return[]}function yc(){return!1}function gc(){return{}}function Ec(){return""}function wc(){return!0}function bc(t,e){if(t=Qa(t),t<1||t>wt)return[];var n=Tt,r=yl(t,Tt);e=ni(e),t-=Tt;for(var o=R(r,e);++n<t;)e(n);return o}function kc(t){return Xf(t)?d(t,Si):Ya(t)?[t]:ko(of(t))}function Tc(t){var e=++zc;return os(t)+e}function Oc(t){return t&&t.length?Vn(t,ac,cr):Z}function Lc(t,e){return t&&t.length?Vn(t,ni(e,2),cr):Z}function Ac(t){return k(t,ac)}function Sc(t,e){return k(t,ni(e,2))}function Rc(t){return t&&t.length?Vn(t,ac,Sr):Z}function Cc(t,e){return t&&t.length?Vn(t,ni(e,2),Sr):Z}function xc(t){return t&&t.length?S(t,ac):0}function Ic(t,e){return t&&t.length?S(t,ni(e,2)):0}t=t?tr.defaults({},t,tr.pick(Dn,An)):Dn;var Bc=t.Array,Nc=t.Date,jc=t.Error,Mc=t.Math,Hc=t.RegExp,Pc=t.TypeError,Dc=t.Array.prototype,$c=t.Object.prototype,Gc=t.String.prototype,Xc=t["__core-js_shared__"],Vc=function(){var t=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Fc=t.Function.prototype.toString,Wc=$c.hasOwnProperty,zc=0,Yc=Fc.call(Object),Uc=$c.toString,Zc=Dn._,Kc=Hc("^"+Fc.call(Wc).replace(_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qc=Xn?t.Buffer:Z,Jc=t.Reflect,Qc=t.Symbol,tl=t.Uint8Array,el=Jc?Jc.enumerate:Z,nl=Qc?Qc.iterator:Z,rl=t.Object.create,ol=$c.propertyIsEnumerable,il=Dc.splice,ul=Qc?Qc.isConcatSpreadable:Z,al=function(e){return t.clearTimeout.call(Dn,e)},sl=function(e,n){return t.setTimeout.call(Dn,e,n)},cl=Mc.ceil,ll=Mc.floor,fl=Object.getPrototypeOf,hl=Object.getOwnPropertySymbols,dl=qc?qc.isBuffer:Z,pl=t.isFinite,vl=Dc.join,_l=Object.keys,ml=Mc.max,yl=Mc.min,gl=t.parseInt,El=Mc.random,wl=Gc.replace,bl=Dc.reverse,kl=Gc.split,Tl=ii(t,"DataView"),Ol=ii(t,"Map"),Ll=ii(t,"Promise"),Al=ii(t,"Set"),Sl=ii(t,"WeakMap"),Rl=ii(t.Object,"create"),Cl=function(){var e=ii(t.Object,"defineProperty"),n=ii.name;return n&&n.length>2?e:Z}(),xl=Sl&&new Sl,Il=!ol.call({valueOf:1},"valueOf"),Bl={},Nl=Ri(Tl),jl=Ri(Ol),Ml=Ri(Ll),Hl=Ri(Al),Pl=Ri(Sl),Dl=Qc?Qc.prototype:Z,$l=Dl?Dl.valueOf:Z,Gl=Dl?Dl.toString:Z;e.templateSettings={escape:ce,evaluate:le,interpolate:fe,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,O.prototype=Hn(n.prototype),O.prototype.constructor=O,He.prototype=Hn(n.prototype),He.prototype.constructor=He,Ge.prototype.clear=Xe,Ge.prototype["delete"]=Ve,Ge.prototype.get=Fe,Ge.prototype.has=We,Ge.prototype.set=ze,Ye.prototype.clear=Ue,Ye.prototype["delete"]=Ze,Ye.prototype.get=Ke,Ye.prototype.has=qe,Ye.prototype.set=Je,Qe.prototype.clear=tn,Qe.prototype["delete"]=en,Qe.prototype.get=nn,Qe.prototype.has=rn,Qe.prototype.set=on,un.prototype.add=un.prototype.push=an,un.prototype.has=sn,cn.prototype.clear=ln,cn.prototype["delete"]=fn,cn.prototype.get=hn,cn.prototype.has=dn,cn.prototype.set=pn;var Xl=So(rr),Vl=So(or,!0),Fl=Ro(),Wl=Ro(!0),zl=X(_l,Object);el&&!ol.call({valueOf:1},"valueOf")&&(Ar=function(t){return $(el(t))});var Yl=xl?function(t,e){return xl.set(t,e),t}:ac,Ul=Al&&1/F(new Al([,-0]))[1]==Et?function(t){return new Al(t)}:dc,Zl=xl?function(t){return xl.get(t)}:dc,Kl=T("length"),ql=X(fl,Object),Jl=hl?X(hl,Object):mc,Ql=hl?function(t){for(var e=[];t;)p(e,Jl(t)),t=ql(t);return e}:mc,tf=sr;(Tl&&tf(new Tl(new ArrayBuffer(1)))!=zt||Ol&&tf(new Ol)!=jt||Ll&&tf(Ll.resolve())!=Pt||Al&&tf(new Al)!=$t||Sl&&tf(new Sl)!=Vt)&&(tf=function(t){var e=Uc.call(t),n=e==Ht?t.constructor:Z,r=n?Ri(n):Z;if(r)switch(r){case Nl:return zt;case jl:return jt;case Ml:return Pt;case Hl:return $t;case Pl:return Vt}return e});var ef=Xc?Ia:yc,nf=function(){var t=0,e=0;return function(n,r){var o=Qu(),i=_t-(o-e);if(e=o,i>0){if(++t>=vt)return n}else t=0;
return Yl(n,r)}}(),rf=Cl?function(t,e,n){var r=e+"";return Cl(t,"toString",{configurable:!0,enumerable:!1,value:ic(di(r,Ci(ai(r),n)))})}:ac,of=aa(function(t){t=os(t);var e=[];return pe.test(t)&&e.push(""),t.replace(ve,function(t,n,r,o){e.push(r?o.replace(Oe,"$1"):n||t)}),e}),uf=Fr(function(t,e){return Ta(t)?$n(t,nr(e,1,Ta,!0)):[]}),af=Fr(function(t,e){var n=Ki(e);return Ta(n)&&(n=Z),Ta(t)?$n(t,nr(e,1,Ta,!0),ni(n,2)):[]}),sf=Fr(function(t,e){var n=Ki(e);return Ta(n)&&(n=Z),Ta(t)?$n(t,nr(e,1,Ta,!0),Z,n):[]}),cf=Fr(function(t){var e=d(t,uo);return e.length&&e[0]===t[0]?dr(e):[]}),lf=Fr(function(t){var e=Ki(t),n=d(t,uo);return e===Ki(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?dr(n,ni(e,2)):[]}),ff=Fr(function(t){var e=Ki(t),n=d(t,uo);return e===Ki(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?dr(n,Z,e):[]}),hf=Fr(Qi),df=Fr(function(t,e){e=nr(e,1);var n=t?t.length:0,r=kn(t,e);return $r(t,d(e,function(t){return vi(t,n)?+t:t}).sort(go)),r}),pf=Fr(function(t){return Qr(nr(t,1,Ta,!0))}),vf=Fr(function(t){var e=Ki(t);return Ta(e)&&(e=Z),Qr(nr(t,1,Ta,!0),ni(e,2))}),_f=Fr(function(t){var e=Ki(t);return Ta(e)&&(e=Z),Qr(nr(t,1,Ta,!0),Z,e)}),mf=Fr(function(t,e){return Ta(t)?$n(t,e):[]}),yf=Fr(function(t){return oo(l(t,Ta))}),gf=Fr(function(t){var e=Ki(t);return Ta(e)&&(e=Z),oo(l(t,Ta),ni(e,2))}),Ef=Fr(function(t){var e=Ki(t);return Ta(e)&&(e=Z),oo(l(t,Ta),Z,e)}),wf=Fr(wu),bf=Fr(function(t){var e=t.length,n=e>1?t[e-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,bu(t,n)}),kf=Fr(function(t){t=nr(t,1);var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return kn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof He&&vi(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Au,args:[o],thisArg:Z}),new O(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Z),t})):this.thru(o)}),Tf=Lo(function(t,e,n){Wc.call(t,n)?++t[n]:t[n]=1}),Of=jo($i),Lf=jo(Gi),Af=Lo(function(t,e,n){Wc.call(t,n)?t[n].push(e):t[n]=[e]}),Sf=Fr(function(t,e,n){var r=-1,o="function"==typeof e,u=mi(e),a=ka(t)?Bc(t.length):[];return Xl(t,function(t){var s=o?e:u&&null!=t?t[e]:Z;a[++r]=s?i(s,t,n):vr(t,e,n)}),a}),Rf=Lo(function(t,e,n){t[n]=e}),Cf=Lo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),xf=Fr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&_i(t,e[0],e[1])?e=[]:n>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),jr(t,nr(e,1),[])}),If=Fr(function(t,e,n){var r=et;if(n.length){var o=V(n,ei(If));r|=ut}return Uo(t,r,e,n,o)}),Bf=Fr(function(t,e,n){var r=et|nt;if(n.length){var o=V(n,ei(Bf));r|=ut}return Uo(e,r,t,n,o)}),Nf=Fr(function(t,e){return Pn(t,1,e)}),jf=Fr(function(t,e,n){return Pn(t,es(e)||0,n)});aa.Cache=Qe;var Mf=Fr(function(t,e){e=1==e.length&&Xf(e[0])?d(e[0],x(ni())):d(nr(e,1),x(ni()));var n=e.length;return Fr(function(r){for(var o=-1,u=yl(r.length,n);++o<u;)r[o]=e[o].call(this,r[o]);return i(t,this,r)})}),Hf=Fr(function(t,e){var n=V(e,ei(Hf));return Uo(t,ut,Z,e,n)}),Pf=Fr(function(t,e){var n=V(e,ei(Pf));return Uo(t,at,Z,e,n)}),Df=Fr(function(t,e){return Uo(t,ct,Z,Z,Z,nr(e,1))}),$f=Fo(cr),Gf=Fo(function(t,e){return t>=e}),Xf=Bc.isArray,Vf=Wn?x(Wn):_r,Ff=dl||yc,Wf=zn?x(zn):mr,zf=Yn?x(Yn):Er,Yf=Un?x(Un):kr,Uf=Zn?x(Zn):Tr,Zf=Kn?x(Kn):Or,Kf=Fo(Sr),qf=Fo(function(t,e){return t<=e}),Jf=Ao(function(t,e){if(Il||wi(e)||ka(e))return void To(e,ms(e),t);for(var n in e)Wc.call(e,n)&&mn(t,n,e[n])}),Qf=Ao(function(t,e){if(Il||wi(e)||ka(e))return void To(e,ys(e),t);for(var n in e)mn(t,n,e[n])}),th=Ao(function(t,e,n,r){To(e,ys(e),t,r)}),eh=Ao(function(t,e,n,r){To(e,ms(e),t,r)}),nh=Fr(function(t,e){return kn(t,nr(e,1))}),rh=Fr(function(t){return t.push(Z,vn),i(th,Z,t)}),oh=Fr(function(t){return t.push(Z,Oi),i(ch,Z,t)}),ih=Po(function(t,e,n){t[e]=n},ic(ac)),uh=Po(function(t,e,n){Wc.call(t,e)?t[e].push(n):t[e]=[n]},ni),ah=Fr(vr),sh=Ao(function(t,e,n){Ir(t,e,n)}),ch=Ao(function(t,e,n,r){Ir(t,e,n,r)}),lh=Fr(function(t,e){return null==t?{}:(e=d(nr(e,1),Si),Mr(t,$n(Qo(t),e)))}),fh=Fr(function(t,e){return null==t?{}:Mr(t,d(nr(e,1),Si))}),hh=Yo(ms),dh=Yo(ys),ph=Io(function(t,e,n){return e=e.toLowerCase(),t+(n?js(e):e)}),vh=Io(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),_h=Io(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),mh=xo("toLowerCase"),yh=Io(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),gh=Io(function(t,e,n){return t+(n?" ":"")+wh(e)}),Eh=Io(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),wh=xo("toUpperCase"),bh=Fr(function(t,e){try{return i(t,Z,e)}catch(n){return Ca(n)?n:new jc(n)}}),kh=Fr(function(t,e){return a(nr(e,1),function(e){e=Si(e),t[e]=If(t[e],t)}),t}),Th=Mo(),Oh=Mo(!0),Lh=Fr(function(t,e){return function(n){return vr(n,t,e)}}),Ah=Fr(function(t,e){return function(n){return vr(t,n,e)}}),Sh=$o(d),Rh=$o(c),Ch=$o(m),xh=Vo(),Ih=Vo(!0),Bh=Do(function(t,e){return t+e},0),Nh=zo("ceil"),jh=Do(function(t,e){return t/e},1),Mh=zo("floor"),Hh=Do(function(t,e){return t*e},1),Ph=zo("round"),Dh=Do(function(t,e){return t-e},0);return e.after=ta,e.ary=ea,e.assign=Jf,e.assignIn=Qf,e.assignInWith=th,e.assignWith=eh,e.at=nh,e.before=na,e.bind=If,e.bindAll=kh,e.bindKey=Bf,e.castArray=va,e.chain=Ou,e.chunk=Ii,e.compact=Bi,e.concat=Ni,e.cond=rc,e.conforms=oc,e.constant=ic,e.countBy=Tf,e.create=is,e.curry=ra,e.curryRight=oa,e.debounce=ia,e.defaults=rh,e.defaultsDeep=oh,e.defer=Nf,e.delay=jf,e.difference=uf,e.differenceBy=af,e.differenceWith=sf,e.drop=ji,e.dropRight=Mi,e.dropRightWhile=Hi,e.dropWhile=Pi,e.fill=Di,e.filter=Mu,e.flatMap=Hu,e.flatMapDeep=Pu,e.flatMapDepth=Du,e.flatten=Xi,e.flattenDeep=Vi,e.flattenDepth=Fi,e.flip=ua,e.flow=Th,e.flowRight=Oh,e.fromPairs=Wi,e.functions=hs,e.functionsIn=ds,e.groupBy=Af,e.initial=Ui,e.intersection=cf,e.intersectionBy=lf,e.intersectionWith=ff,e.invert=ih,e.invertBy=uh,e.invokeMap=Sf,e.iteratee=sc,e.keyBy=Rf,e.keys=ms,e.keysIn=ys,e.map=Vu,e.mapKeys=gs,e.mapValues=Es,e.matches=cc,e.matchesProperty=lc,e.memoize=aa,e.merge=sh,e.mergeWith=ch,e.method=Lh,e.methodOf=Ah,e.mixin=fc,e.negate=sa,e.nthArg=pc,e.omit=lh,e.omitBy=ws,e.once=ca,e.orderBy=Fu,e.over=Sh,e.overArgs=Mf,e.overEvery=Rh,e.overSome=Ch,e.partial=Hf,e.partialRight=Pf,e.partition=Cf,e.pick=fh,e.pickBy=bs,e.property=vc,e.propertyOf=_c,e.pull=hf,e.pullAll=Qi,e.pullAllBy=tu,e.pullAllWith=eu,e.pullAt=df,e.range=xh,e.rangeRight=Ih,e.rearg=Df,e.reject=Yu,e.remove=nu,e.rest=la,e.reverse=ru,e.sampleSize=Zu,e.set=Ts,e.setWith=Os,e.shuffle=Ku,e.slice=ou,e.sortBy=xf,e.sortedUniq=fu,e.sortedUniqBy=hu,e.split=zs,e.spread=fa,e.tail=du,e.take=pu,e.takeRight=vu,e.takeRightWhile=_u,e.takeWhile=mu,e.tap=Lu,e.throttle=ha,e.thru=Au,e.toArray=qa,e.toPairs=hh,e.toPairsIn=dh,e.toPath=kc,e.toPlainObject=ns,e.transform=Ls,e.unary=da,e.union=pf,e.unionBy=vf,e.unionWith=_f,e.uniq=yu,e.uniqBy=gu,e.uniqWith=Eu,e.unset=As,e.unzip=wu,e.unzipWith=bu,e.update=Ss,e.updateWith=Rs,e.values=Cs,e.valuesIn=xs,e.without=mf,e.words=nc,e.wrap=pa,e.xor=yf,e.xorBy=gf,e.xorWith=Ef,e.zip=wf,e.zipObject=ku,e.zipObjectDeep=Tu,e.zipWith=bf,e.entries=hh,e.entriesIn=dh,e.extend=Qf,e.extendWith=th,fc(e,e),e.add=Bh,e.attempt=bh,e.camelCase=ph,e.capitalize=js,e.ceil=Nh,e.clamp=Is,e.clone=_a,e.cloneDeep=ya,e.cloneDeepWith=ga,e.cloneWith=ma,e.conformsTo=Ea,e.deburr=Ms,e.defaultTo=uc,e.divide=jh,e.endsWith=Hs,e.eq=wa,e.escape=Ps,e.escapeRegExp=Ds,e.every=ju,e.find=Of,e.findIndex=$i,e.findKey=us,e.findLast=Lf,e.findLastIndex=Gi,e.findLastKey=as,e.floor=Mh,e.forEach=$u,e.forEachRight=Gu,e.forIn=ss,e.forInRight=cs,e.forOwn=ls,e.forOwnRight=fs,e.get=ps,e.gt=$f,e.gte=Gf,e.has=vs,e.hasIn=_s,e.head=zi,e.identity=ac,e.includes=Xu,e.indexOf=Yi,e.inRange=Bs,e.invoke=ah,e.isArguments=ba,e.isArray=Xf,e.isArrayBuffer=Vf,e.isArrayLike=ka,e.isArrayLikeObject=Ta,e.isBoolean=Oa,e.isBuffer=Ff,e.isDate=Wf,e.isElement=La,e.isEmpty=Aa,e.isEqual=Sa,e.isEqualWith=Ra,e.isError=Ca,e.isFinite=xa,e.isFunction=Ia,e.isInteger=Ba,e.isLength=Na,e.isMap=zf,e.isMatch=Ha,e.isMatchWith=Pa,e.isNaN=Da,e.isNative=$a,e.isNil=Xa,e.isNull=Ga,e.isNumber=Va,e.isObject=ja,e.isObjectLike=Ma,e.isPlainObject=Fa,e.isRegExp=Yf,e.isSafeInteger=Wa,e.isSet=Uf,e.isString=za,e.isSymbol=Ya,e.isTypedArray=Zf,e.isUndefined=Ua,e.isWeakMap=Za,e.isWeakSet=Ka,e.join=Zi,e.kebabCase=vh,e.last=Ki,e.lastIndexOf=qi,e.lowerCase=_h,e.lowerFirst=mh,e.lt=Kf,e.lte=qf,e.max=Oc,e.maxBy=Lc,e.mean=Ac,e.meanBy=Sc,e.min=Rc,e.minBy=Cc,e.stubArray=mc,e.stubFalse=yc,e.stubObject=gc,e.stubString=Ec,e.stubTrue=wc,e.multiply=Hh,e.nth=Ji,e.noConflict=hc,e.noop=dc,e.now=Qu,e.pad=$s,e.padEnd=Gs,e.padStart=Xs,e.parseInt=Vs,e.random=Ns,e.reduce=Wu,e.reduceRight=zu,e.repeat=Fs,e.replace=Ws,e.result=ks,e.round=Ph,e.runInContext=U,e.sample=Uu,e.size=qu,e.snakeCase=yh,e.some=Ju,e.sortedIndex=iu,e.sortedIndexBy=uu,e.sortedIndexOf=au,e.sortedLastIndex=su,e.sortedLastIndexBy=cu,e.sortedLastIndexOf=lu,e.startCase=gh,e.startsWith=Ys,e.subtract=Dh,e.sum=xc,e.sumBy=Ic,e.template=Us,e.times=bc,e.toFinite=Ja,e.toInteger=Qa,e.toLength=ts,e.toLower=Zs,e.toNumber=es,e.toSafeInteger=rs,e.toString=os,e.toUpper=Ks,e.trim=qs,e.trimEnd=Js,e.trimStart=Qs,e.truncate=tc,e.unescape=ec,e.uniqueId=Tc,e.upperCase=Eh,e.upperFirst=wh,e.each=$u,e.eachRight=Gu,e.first=zi,fc(e,function(){var t={};return rr(e,function(n,r){Wc.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=K,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),a(["drop","take"],function(t,e){He.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new He(this);n=n===Z?1:ml(Qa(n),0);var o=this.clone();return r?o.__takeCount__=yl(n,o.__takeCount__):o.__views__.push({size:yl(n,Tt),type:t+(o.__dir__<0?"Right":"")}),o},He.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==mt||n==gt;He.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ni(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");He.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");He.prototype[t]=function(){return this.__filtered__?new He(this):this[n](1)}}),He.prototype.compact=function(){return this.filter(ac)},He.prototype.find=function(t){return this.filter(t).head()},He.prototype.findLast=function(t){return this.reverse().find(t)},He.prototype.invokeMap=Fr(function(t,e){return"function"==typeof t?new He(this):this.map(function(n){return vr(n,t,e)})}),He.prototype.reject=function(t){return this.filter(sa(ni(t)))},He.prototype.slice=function(t,e){t=Qa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new He(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Z&&(e=Qa(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},He.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},He.prototype.toArray=function(){return this.take(Tt)},rr(He.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=e[o?"take"+("last"==n?"Right":""):n],u=o||/^find/.test(n);i&&(e.prototype[n]=function(){var n=this.__wrapped__,a=o?[1]:arguments,s=n instanceof He,c=a[0],l=s||Xf(n),f=function(t){var n=i.apply(e,p([t],a));return o&&h?n[0]:n};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,v=u&&!h,_=s&&!d;if(!u&&l){n=_?n:new He(this);var m=t.apply(n,a);return m.__actions__.push({func:Au,args:[f],thisArg:Z}),new O(m,h)}return v&&_?t.apply(this,a):(m=this.thru(f),v?o?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var n=Dc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var e=this.value();return n.apply(Xf(e)?e:[],t)}return this[r](function(e){return n.apply(Xf(e)?e:[],t)})}}),rr(He.prototype,function(t,n){var r=e[n];if(r){var o=r.name+"",i=Bl[o]||(Bl[o]=[]);i.push({name:n,func:r})}}),Bl[Ho(Z,nt).name]=[{name:"wrapper",func:Z}],He.prototype.clone=Pe,He.prototype.reverse=De,He.prototype.value=$e,e.prototype.at=kf,e.prototype.chain=Su,e.prototype.commit=Ru,e.prototype.next=Cu,e.prototype.plant=Iu,e.prototype.reverse=Bu,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Nu,e.prototype.first=e.prototype.head,nl&&(e.prototype[nl]=xu),e}var Z,K="4.14.1",q=200,J="Expected a function",Q="__lodash_hash_undefined__",tt="__lodash_placeholder__",et=1,nt=2,rt=4,ot=8,it=16,ut=32,at=64,st=128,ct=256,lt=512,ft=1,ht=2,dt=30,pt="...",vt=150,_t=16,mt=1,yt=2,gt=3,Et=1/0,wt=9007199254740991,bt=1.7976931348623157e308,kt=NaN,Tt=4294967295,Ot=Tt-1,Lt=Tt>>>1,At=[["ary",st],["bind",et],["bindKey",nt],["curry",ot],["curryRight",it],["flip",lt],["partial",ut],["partialRight",at],["rearg",ct]],St="[object Arguments]",Rt="[object Array]",Ct="[object Boolean]",xt="[object Date]",It="[object Error]",Bt="[object Function]",Nt="[object GeneratorFunction]",jt="[object Map]",Mt="[object Number]",Ht="[object Object]",Pt="[object Promise]",Dt="[object RegExp]",$t="[object Set]",Gt="[object String]",Xt="[object Symbol]",Vt="[object WeakMap]",Ft="[object WeakSet]",Wt="[object ArrayBuffer]",zt="[object DataView]",Yt="[object Float32Array]",Ut="[object Float64Array]",Zt="[object Int8Array]",Kt="[object Int16Array]",qt="[object Int32Array]",Jt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",te="[object Uint16Array]",ee="[object Uint32Array]",ne=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ie=/&(?:amp|lt|gt|quot|#39|#96);/g,ue=/[&<>"'`]/g,ae=RegExp(ie.source),se=RegExp(ue.source),ce=/<%-([\s\S]+?)%>/g,le=/<%([\s\S]+?)%>/g,fe=/<%=([\s\S]+?)%>/g,he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/,pe=/^\./,ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/[\\^$.*+?()[\]{}|]/g,me=RegExp(_e.source),ye=/^\s+|\s+$/g,ge=/^\s+/,Ee=/\s+$/,we=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,be=/\{\n\/\* \[wrapped with (.+)\] \*/,ke=/,? & /,Te=/[a-zA-Z0-9]+/g,Oe=/\\(\\)?/g,Le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,Se=/^0x/i,Re=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,xe=/^\[object .+?Constructor\]$/,Ie=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Ne=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,je=/($^)/,Me=/['\n\r\u2028\u2029\\]/g,He="\\ud800-\\udfff",Pe="\\u0300-\\u036f\\ufe20-\\ufe23",De="\\u20d0-\\u20f0",$e="\\u2700-\\u27bf",Ge="a-z\\xdf-\\xf6\\xf8-\\xff",Xe="\\xac\\xb1\\xd7\\xf7",Ve="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fe="\\u2000-\\u206f",We=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ze="A-Z\\xc0-\\xd6\\xd8-\\xde",Ye="\\ufe0e\\ufe0f",Ue=Xe+Ve+Fe+We,Ze="['’]",Ke="["+He+"]",qe="["+Ue+"]",Je="["+Pe+De+"]",Qe="\\d+",tn="["+$e+"]",en="["+Ge+"]",nn="[^"+He+Ue+Qe+$e+Ge+ze+"]",rn="\\ud83c[\\udffb-\\udfff]",on="(?:"+Je+"|"+rn+")",un="[^"+He+"]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+ze+"]",ln="\\u200d",fn="(?:"+en+"|"+nn+")",hn="(?:"+cn+"|"+nn+")",dn="(?:"+Ze+"(?:d|ll|m|re|s|t|ve))?",pn="(?:"+Ze+"(?:D|LL|M|RE|S|T|VE))?",vn=on+"?",_n="["+Ye+"]?",mn="(?:"+ln+"(?:"+[un,an,sn].join("|")+")"+_n+vn+")*",yn=_n+vn+mn,gn="(?:"+[tn,an,sn].join("|")+")"+yn,En="(?:"+[un+Je+"?",Je,an,sn,Ke].join("|")+")",wn=RegExp(Ze,"g"),bn=RegExp(Je,"g"),kn=RegExp(rn+"(?="+rn+")|"+En+yn,"g"),Tn=RegExp([cn+"?"+en+"+"+dn+"(?="+[qe,cn,"$"].join("|")+")",hn+"+"+pn+"(?="+[qe,cn+fn,"$"].join("|")+")",cn+"?"+fn+"+"+dn,cn+"+"+pn,Qe,gn].join("|"),"g"),On=RegExp("["+ln+He+Pe+De+Ye+"]"),Ln=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,An=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sn=-1,Rn={};Rn[Yt]=Rn[Ut]=Rn[Zt]=Rn[Kt]=Rn[qt]=Rn[Jt]=Rn[Qt]=Rn[te]=Rn[ee]=!0,Rn[St]=Rn[Rt]=Rn[Wt]=Rn[Ct]=Rn[zt]=Rn[xt]=Rn[It]=Rn[Bt]=Rn[jt]=Rn[Mt]=Rn[Ht]=Rn[Dt]=Rn[$t]=Rn[Gt]=Rn[Vt]=!1;var Cn={};Cn[St]=Cn[Rt]=Cn[Wt]=Cn[zt]=Cn[Ct]=Cn[xt]=Cn[Yt]=Cn[Ut]=Cn[Zt]=Cn[Kt]=Cn[qt]=Cn[jt]=Cn[Mt]=Cn[Ht]=Cn[Dt]=Cn[$t]=Cn[Gt]=Cn[Xt]=Cn[Jt]=Cn[Qt]=Cn[te]=Cn[ee]=!0,Cn[It]=Cn[Bt]=Cn[Vt]=!1;var xn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},In={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Bn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jn=parseFloat,Mn=parseInt,Hn="object"==typeof t&&t&&t.Object===Object&&t,Pn="object"==typeof self&&self&&self.Object===Object&&self,Dn=Hn||Pn||Function("return this")(),$n="object"==typeof n&&n&&!n.nodeType&&n,Gn=$n&&"object"==typeof e&&e&&!e.nodeType&&e,Xn=Gn&&Gn.exports===$n,Vn=Xn&&Hn.process,Fn=function(){try{return Vn&&Vn.binding("util")}catch(t){}}(),Wn=Fn&&Fn.isArrayBuffer,zn=Fn&&Fn.isDate,Yn=Fn&&Fn.isMap,Un=Fn&&Fn.isRegExp,Zn=Fn&&Fn.isSet,Kn=Fn&&Fn.isTypedArray,qn=O(xn),Jn=O(In),Qn=O(Bn),tr=U();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Dn._=tr,define(function(){return tr})):Gn?((Gn.exports=tr)._=tr,$n._=tr):Dn._=tr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("js-cookie"),a=r(u),s=t("howler"),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),this.COOKIE_NAME=e.COOKIE_NAME||"isMute",this.EXPIRES_DATE=e.EXPIRES_DATE,this.disableBlurPause=!!e.disableBlurPause,this.isMute=this.getCookie(),this.isPaused=!1,this.isPlayng=!1,this.toggleMute(this.isMute),this.sound=new s.Howl(e.howl),this.initListeners()}return i(t,[{key:"initListeners",value:function(){var t=this;this.disableBlurPause||$(window).on("blur",function(){t.pause()}).on("focus",function(){t.play()})}},{key:"play",value:function(){return this.isMute||this.isPlayng?this:(this.isPaused=!1,this.isPlayng=!0,this.sound.play(),this)}},{key:"pause",value:function(){return this.isPaused=!0,this.isPlayng=!1,this.sound.pause(),this}},{key:"togglePlay",value:function(t){return void 0===t&&(t=!this.isPaused),t?this.play():this.pause(),this}},{key:"mute",value:function(){return this.isMute=!0,this.setCookie(this.isMute),this}},{key:"unmute",value:function(){return this.isMute=!1,this.setCookie(this.isMute),this}},{key:"toggleMute",value:function(t){return void 0===t&&(t=!this.getCookie()),t?this.mute():this.unmute(),this}},{key:"setCookie",value:function(t){return a["default"].set(this.COOKIE_NAME,t,{expires:this.EXPIRES_DATE})}},{key:"getCookie",value:function(){var t=a["default"].get(this.COOKIE_NAME);return"true"===t}},{key:"hasCookie",value:function(){return void 0!==a["default"].get(this.COOKIE_NAME)}}]),t}();n["default"]=c},{howler:2,"js-cookie":3}],6:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("eventemitter2"),c=t("./TouchController"),l=r(c),f=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var n=i(this,Object.getPrototypeOf(e).call(this));return n.$element=t.$element,n.maxDistance=t.maxDistance,n.holdingDelay=t.holdingDelay||1e3,n.watchInterval=t.watchInterval||100,n.position={x:0,y:0},n.setEvent(),n}return u(e,t),a(e,[{key:"setEvent",value:function(){var t=this,e=new l["default"]({touchstartElement:this.$element.get(0),touchmoveElement:document,touchendElement:document,holdingDelay:this.holdingDelay,watchInterval:this.watchInterval});e.on("touchstart",function(t){}),e.on("touchmove",function(e){t.movePosition({x:-e.deltaX,y:-e.deltaY})}),e.on("touchend",function(e){t.animatePosition({x:0,y:0}),e.isDoubleTap&&t.emit("doubletapped"),t.emit("touchend")}),e.on("touchholding",function(e){t.emit("holding",t.position)})}},{key:"movePosition",value:function(t){var e=this.position,n={x:e.x-t.x,y:e.y-t.y};this.jumpPosition(n),this.emit("moved",this.position)}},{key:"animatePosition",value:function(t){var e=this;t&&$(this.position).animate(t,{step:function(t,n){var r={};r[n.prop]=n.now,e.jumpPosition(r)},complete:function(){e.setPosition(t),e.emit("animateend",e.position)}})}},{key:"jumpPosition",value:function(t){if(t){var e=t.x||this.position.x,n=t.y||this.position.y,r=Math.sqrt(e*e+n*n);if(this.maxDistance&&r>this.maxDistance){var o=this.maxDistance/r;e*=o,n*=o,t.x=e,t.y=n}this.$element.css({transform:"translate("+e+"px, "+n+"px)"}),this.setPosition(t),this.emit("jumped",this.position)}}},{key:"setPosition",value:function(t){Object.assign(this.position,t)}}]),e}(s.EventEmitter2);n["default"]=f},{"./TouchController":12,eventemitter2:1}],7:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function i(){r(this,i),this.COLS=7,this.ROWS=9,this.VOXEL_LENGTH=4,this.VOXEL_SIZE=55,this.START_X=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.START_Y=0,this.START_Z=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.HIDDEN_ROWS=this.VOXEL_LENGTH,this.LOGICAL_ROWS=this.ROWS+this.HIDDEN_ROWS,this.WIDTH=this.VOXEL_SIZE*this.COLS,this.HEIGHT=this.VOXEL_SIZE*this.ROWS,this.CENTER_X=this.WIDTH/2,this.CENTER_Y=this.HEIGHT/2,this.CENTER_Z=this.WIDTH/2,this.FIELD_MARK_LENGTH=50,this.RENDER_INTERVAL=30,this.TICK_INTERVAL=700,this.SPEEDUP_RATE=100,this.CLEARLINE_EFFECT_INTERVAL=50,this.AUTO_ROTATE_SPEED=.02,this.STICK_WEIGHT=850,this.STICK_CONTROLL_THROTTLE=50,this.CAMERA_HEIGHT_DEFAULT=300,this.CAMERA_DISTANCE_DEFAULT=1400,this.GOAL_LINES_RATE=5,this.SHADOW_BLOCK={id:8,color:"#000",opacity:.3},this.CLEARLINE_BLOCK={id:9,color:"#aaa"},this.GAMEOVER_BLOCK={id:10,color:"#777"},this.BLOCK_LIST=[{id:0,color:"#FF6666",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:1,color:"#FFCC66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:2,color:"#FFFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,1],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:3,color:"#CCFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:4,color:"#66FF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:5,color:"#66FFCC",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:6,color:"#66FFFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:7,color:"#66CCFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}]};e.exports=new o},{}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("lodash"),c=r(s),l=t("eventemitter2"),f=t("./Util"),h=r(f),d=t("./TouchController"),p=r(d),v=t("./StickController"),_=r(v),m=t("./TetricusCONST"),y=r(m),g=y["default"],E=function(t){function e(t,n){o(this,e);var r=i(this,Object.getPrototypeOf(e).call(this));return r.model=t,r.view=n,r.$root=$(".js-game-controller"),r.$infoLevel=$(".js-info-level"),r.$infoScore=$(".js-info-score"),r.$infoLines=$(".js-info-lines"),r.$stickContainer=$(".js-stick-container"),r.$stickToucharea=$(".js-stick-toucharea"),r.touch=new p["default"]({touchstartElement:r.$root.get(0),touchmoveElement:document,touchendElement:document,holdingDelay:500,watchInterval:100}),r.stick=new _["default"]({$element:r.$stickToucharea,maxDistance:30,holdingDelay:50,watchInterval:g.STICK_CONTROLL_THROTTLE}),r.isAutoMode=!1,r.isTutorialMode=!1,r.isPlayngGame=!1,r.isPausingGame=!1,r.initModelEvent(),r.initResizeEvent(),r.initBlurEvent(),r.initKeyEvent(),r.initTouchEvent(),r.initStickController(),r}return u(e,t),a(e,[{key:"newGame",value:function(){this.view.dispose(),this.view.init(),this.view.start(),this.model.initGame(),this.model.startGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("startGame")}},{key:"pauseGame",value:function(){this.view.stop(),this.model.pauseGame(),this.isPlayngGame=!1,this.isPausingGame=!0,this.emit("pauseGame")}},{key:"resumeGame",value:function(){this.view.start(),this.model.resumeGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("resumeGame")}},{key:"setAutoMode",value:function(){this.isAutoMode=!0,this.isTutorialMode=!1,this.view.isAutoRotate=!0}},{key:"setTutorialMode",value:function(){this.isAutoMode=!1,this.isTutorialMode=!0,this.view.isAutoRotate=!1,this.view.setCamera()}},{key:"initModelEvent",value:function(){var t=this;this.model.on("gamestart",function(){t.view.isAutoRotate=t.isAutoMode}),this.model.on("newblockcreated",function(){}),this.model.on("currentblockcreated",function(){t.view.drawCurrentBlock(t.model.currentBlock);var e=t.getShadowBlock(),n=t.setBlockToBoard(e);t.updateBoard(n)}),this.model.on("nextblockcreated",function(){}),this.model.on("gameover",function(){t.isAutoMode||t.isTutorialMode?t.newGame():t.view.isAutoRotate=!0,t.emit("gameover")}),this.model.on("tick",function(e){t.view.moveCurrentBlock(t.model.currentBlock);var n=t.getShadowBlock(),r=t.setBlockToBoard(n);t.updateBoard(r)}),this.model.on("blockmoved",function(){t.view.moveCurrentBlock(t.model.currentBlock);var e=t.getShadowBlock(),n=t.setBlockToBoard(e);t.updateBoard(n)}),this.model.on("gamequit",function(){}),this.model.on("freeze",function(){t.updateBoard()}),this.model.on("clearline",function(){t.updateBoard(),t.$infoLevel.text(t.model.level),t.$infoScore.text(h["default"].zeroPadding(t.model.score,4)),t.$infoLines.text(h["default"].zeroPadding(t.model.sumOfClearLines,4))}),this.model.on("beforeDropClearLines",function(e){var n=$.Deferred();n.resolve().then(function(){t.model.pauseGame()}).then(t.effectClearLine(e)).then(function(){t.model.resumeGame(),e.dfd.resolve()})}),this.model.on("afterDropClearLines",function(){t.updateBoard()})}},{key:"effectClearLine",value:function(t){var e=this;return function(){var n=$.Deferred(),r=$.Deferred();r.resolve();var o=function(t,n,o,i){r=r.then(h["default"].sleep(g.CLEARLINE_EFFECT_INTERVAL)).then(function(){t[i][o][n]=g.CLEARLINE_BLOCK.id+1,e.updateBoard(t)})};return t.filledRowList.reverse().forEach(function(t,n){var r=t[0],i=t[1];(r.length||i.length)&&(r.forEach(function(t){for(var r=c["default"].cloneDeep(e.model.board),i=0;i<g.COLS;++i)r[i][n][t]&&o(r,t,n,i)}),i.forEach(function(t){for(var r=c["default"].cloneDeep(e.model.board),i=0;i<g.COLS;++i)r[t][n][i]&&o(r,i,n,t)}))}),r.then(function(){n.resolve()}),n.promise()}}},{key:"getShadowBlock",value:function(){var t=c["default"].clone(this.model.currentBlock);return t.id=g.SHADOW_BLOCK.id,this.model.dropBlockY(t),t}},{key:"setBlockToBoard",value:function(t){for(var e=c["default"].cloneDeep(this.model.board),n=0;n<g.VOXEL_LENGTH;++n)for(var r=0;r<g.VOXEL_LENGTH;++r)for(var o=0;o<g.VOXEL_LENGTH;++o){var i=o+t.x,u=r+t.y,a=n+t.z;!t.shape[n][r][o]||a<0||(e[a][u][i]=t.shape[n][r][o]?t.id+1:0)}return e}},{key:"initResizeEvent",value:function(){var t=this;window.addEventListener("resize",function(){t.view.setSize()})}},{key:"initBlurEvent",value:function(){var t=this;$(window).on("blur",function(){t.pauseGame()}).on("focus",function(){(t.isAutoMode||t.isTutorialMode)&&t.resumeGame()})}},{key:"initKeyEvent",value:function(){var t=this,e=[[37,"left"],[39,"right"],[40,"forward"],[38,"backward"],[32,"rotate"],[16,"rotateX"],[17,"rotateY"],[13,"drop"],[27,"pause"],[48,"pers"],[49,"ortho1"],[50,"ortho2"],[51,"ortho3"],[67,"camera"],[66,"block"]],n=new Map(e);$(document).on("keydown",function(e){if(t.isPlayngGame){var r=n.get(e.keyCode);r&&(e.preventDefault(),t.handleMethod(r))}})}},{key:"handleMethod",value:function(t){switch(t){case"left":this.moveBlockRightAndLeft(-1);break;case"right":this.moveBlockRightAndLeft(1);break;case"forward":this.moveBlockBackAndForward(1);break;case"backward":this.moveBlockBackAndForward(-1);break;case"rotate":this.rotateBlock();break;case"rotateX":this.rotateBlockHorizontal();break;case"rotateY":this.rotateBlockVertical();break;case"drop":this.dropBlock();break;case"pause":this.pauseGame();break;case"pers":break;case"ortho1":break;case"ortho2":break;case"ortho3":break;case"camera":this.switchModeCamera();break;case"block":this.switchModeBlock()}}},{key:"initTouchEvent",value:function(){var t=this,e=void 0,n=void 0,r=!1,o=!1;this.model.on("freeze",function(){r=!0}),this.touch.on("touchstart",function(t){e=t.touchStartX,n=t.touchStartY,r=!1}),this.touch.on("touchmove",function(i){var u=i.touchX-e,a=i.touchY-n,s=u/g.VOXEL_SIZE|0,c=a/g.VOXEL_SIZE|0;if(!r){for((s||c)&&(o=!0);s;){var l=s/Math.abs(s);t.moveBlockRightAndLeft(l),s-=l,e=i.touchX}for(;c;){var f=c/Math.abs(c);t.moveBlockBackAndForward(f),c-=f,n=i.touchY}}}),
this.touch.on("touchend",function(e){e.isDoubleTap,e.isTap&&t.rotateBlock(),t.emit("touchend",{isBlockMoved:o}),o=!1}),this.touch.on("touchholding",function(){t.model.moveBlockY()})}},{key:"initStickController",value:function(){var t=this,e=!1;this.stick.on("moved",h["default"].throttle(function(n){e=!0,t.rotateView(n)},g.STICK_CONTROLL_THROTTLE)),this.stick.on("doubletapped",function(){t.view.setCamera()}),this.stick.on("holding",function(e){t.rotateView(e)}),this.stick.on("touchend",function(){t.emit("stickTouchend",{isStickMoved:e}),e=!1})}},{key:"rotateView",value:function(t){var e=this,n=t.x/-g.STICK_WEIGHT,r=t.y/-g.STICK_WEIGHT;r<0&&this.view.camera.position.y>g.HEIGHT&&(this.view.camera.position.y=g.HEIGHT,r=0),this.model.pauseGame(),this.view.controls.rotate({x:n,y:r}),setTimeout(function(){e.model.resumeGame()})}},{key:"switchModeCamera",value:function(){this.touch.dispose(),this.view.enableControls(),this.emit("switchModeCamera")}},{key:"switchModeBlock",value:function(){this.touch.setEvent(),this.view.disableControls(),this.emit("switchModeBlock")}},{key:"changeRotateDirection",value:function(){this.isVertical=!this.isVertical,this.emit("changeRotateDirection")}},{key:"updateBoard",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.model.board:arguments[0];t=c["default"].cloneDeep(t),t.forEach(function(t){t.splice(0,g.HIDDEN_ROWS)}),this.view.disposeBoard(),this.view.drawBoard(t)}},{key:"rotateBlock",value:function(){this.isVertical?this.rotateBlockVertical():this.rotateBlockHorizontal()}},{key:"rotateBlockHorizontal",value:function(){this.model.rotateBlockXZ()}},{key:"rotateBlockVertical",value:function(){var t=this.view.checkCameraDirection();0!==t.x&&this.model.rotateBlockXY(t.x<0),0!==t.z&&this.model.rotateBlockZY(t.z<0)}},{key:"moveBlockRightAndLeft",value:function(t){var e=this.view.checkCameraDirection();0!==e.x&&this.model.moveBlockZ(t*e.x),0!==e.z&&this.model.moveBlockX(t*-e.z)}},{key:"moveBlockBackAndForward",value:function(t){var e=this.view.checkCameraDirection();0!==e.x&&this.model.moveBlockX(t*e.x),0!==e.z&&this.model.moveBlockZ(t*e.z)}},{key:"dropBlock",value:function(){this.model.dropBlockY(),this.view.moveCurrentBlock(this.model.currentBlock)}}]),e}(l.EventEmitter2);n["default"]=E},{"./StickController":6,"./TetricusCONST":7,"./TouchController":12,"./Util":13,eventemitter2:1,lodash:4}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("eventemitter2"),c=t("./TetricusCONST"),l=r(c),f=l["default"],h=function(t){function e(){return o(this,e),i(this,Object.getPrototypeOf(e).call(this))}return u(e,t),a(e,[{key:"newGame",value:function(){this.initGame(),this.startGame()}},{key:"initGame",value:function(){clearTimeout(this.tickId),clearInterval(this.renderId),this.isPlayng=!1,this.isPausing=!1,this.lose=!1,this.tickInterval=f.TICK_INTERVAL,this.sumOfClearLines=0,this.level=1,this.score=0,this.frameCount=0,this.initBoad(),this.initBlock(),this.createNextBlock()}},{key:"startGame",value:function(){this.isPlayng=!0,this.isPausing=!1,this.createCurrentBlock(),this.createNextBlock(),this.tick(),this.emit("gamestart")}},{key:"pauseGame",value:function(){this.isPlayng=!1,this.isPausing=!0,clearTimeout(this.tickId),delete this.tickId}},{key:"resumeGame",value:function(){var t=this;!this.isPlayng&&this.isPausing&&(this.isPlayng=!0,this.isPausing=!1,this.tickId=setTimeout(function(){t.tick()},this.tickInterval))}},{key:"quitGame",value:function(){var t=$.Deferred();return t.promise()}},{key:"stopGame",value:function(){this.quitGame()}},{key:"tick",value:function(){var t=this;if(clearTimeout(this.tickId),this.isPlayng&&!this.isPausing){var e=this.moveBlockY();if(!e){if(this.freeze(),this.clearLines(),this.checkGameOver())return this.emit("gameover"),!1;this.frameCount++,this.createCurrentBlock(),this.createNextBlock()}this.tickId=setTimeout(function(){t.tick()},this.tickInterval),this.emit("tick",!e)}}},{key:"initBoad",value:function(){this.board=[];for(var t=0;t<f.COLS;++t){this.board[t]=[];for(var e=0;e<f.LOGICAL_ROWS;++e){this.board[t][e]=[];for(var n=0;n<f.COLS;++n)this.board[t][e][n]=0}}}},{key:"initBlock",value:function(){this.nextBlock=this.createBlock(0),this.currentBlock=this.createBlock(0),this.currentBlock.x=f.START_X,this.currentBlock.y=f.START_Y,this.currentBlock.z=f.START_Z}},{key:"createBlock",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=f.BLOCK_LIST[t]||{},n=e.shape,r={id:t,color:e.color,shape:[],x:0,y:0,z:0},o=0;o<f.VOXEL_LENGTH;++o){r.shape[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r.shape[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)r.shape[o][i][u]=n[o][i][u]||0}}return this.emit("newblockcreated"),r}},{key:"createCurrentBlock",value:function(){this.nextBlock||this.createNextBlock(),this.currentBlock=this.nextBlock,this.currentBlock.x=f.START_X,this.currentBlock.y=f.START_Y,this.currentBlock.z=f.START_Z,this.emit("currentblockcreated")}},{key:"createNextBlock",value:function(){var t=Math.floor(Math.random()*f.BLOCK_LIST.length);this.nextBlock=this.createBlock(t),this.emit("nextblockcreated")}},{key:"freeze",value:function(){for(var t=0;t<f.VOXEL_LENGTH;++t)for(var e=0;e<f.VOXEL_LENGTH;++e)for(var n=0;n<f.VOXEL_LENGTH;++n){var r=n+this.currentBlock.x,o=e+this.currentBlock.y,i=t+this.currentBlock.z;!this.currentBlock.shape[t][e][n]||i<0||(this.board[i][o][r]=this.currentBlock.shape[t][e][n]?this.currentBlock.id+1:0)}this.emit("freeze")}},{key:"clearLines",value:function(){for(var t=this,e=0,n=[],r=$.Deferred(),o=function(r){for(var o=[],i=[],u=0;u<f.COLS;++u){var a=t.board[u][r].every(function(t){return 0!==t});a&&(o.push(u),e++)}for(var s=function(n){var o=t.board.every(function(t){return 0!==t[r][n]});return o?(i.push(n),void e++):"continue"},c=0;c<f.COLS;++c){s(c)}n.push([i,o])},i=f.LOGICAL_ROWS-1;i>=0;--i)o(i);r.resolve().then(function(){var e=$.Deferred(),r={filledRowList:n,dfd:e};return t.emit("beforeDropClearLines",r),e.promise()}).then(this.dropRow(n)).then(function(){t.emit("afterDropClearLines"),t.sumOfClearLines+=e,t.levelUp(),t.setSpeed(),t.calcScore(e),e>0&&t.emit("clearline")})}},{key:"levelUp",value:function(){for(var t=0,e=0;e<this.level;e++)t+=f.GOAL_LINES_RATE*(e+1);this.sumOfClearLines>=t&&++this.level}},{key:"setSpeed",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.level:arguments[0];this.tickInterval=f.TICK_INTERVAL-f.SPEEDUP_RATE*(t-1)}},{key:"calcScore",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.score+=t<=1?t:Math.pow(2,t)}},{key:"dropRow",value:function(t){var e=this;if(t.length)return function(){t.forEach(function(t){var n=t[0],r=t[1];(n.length||r.length)&&(n.forEach(function(t){e.dropRowX(t)}),r.forEach(function(t){e.dropRowZ(t)}))})}}},{key:"dropRowX",value:function(t){for(var e=[],n=0;n<f.LOGICAL_ROWS;++n){e[n]=[];for(var r=0;r<f.COLS;++r)e[n][r]=this.board[r][n][t],this.board[r][n][t]=n?e[n-1][r]:0}}},{key:"dropRowZ",value:function(t){for(var e=[],n=0;n<f.LOGICAL_ROWS;++n){e[n]=[];for(var r=0;r<f.COLS;++r)e[n][r]=this.board[t][n][r],this.board[t][n][r]=n?e[n-1][r]:0}}},{key:"rotateBoard",value:function(t){for(var e=f.COLS-1,n=[],r=0;r<f.COLS;++r){n[r]=[];for(var o=0;o<f.LOGICAL_ROWS;++o){n[r][o]=[];for(var i=0;i<f.COLS;++i)n[r][o][i]=t[e-i][o][r]}}return n}},{key:"dropBlockY",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?this.currentBlock:arguments[0],e=this.valid(0,1,0,t);e;)t.y++,e=this.valid(0,1,0,t);return e}},{key:"moveBlockX",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this.valid(t,0,0);return e&&(this.currentBlock.x+=t,this.emit("blockmoved")),e}},{key:"moveBlockY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this.valid(0,t,0);return e&&(this.currentBlock.y+=t,this.emit("blockmoved")),e}},{key:"moveBlockZ",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=this.valid(0,0,t);return e&&(this.currentBlock.z+=t,this.emit("blockmoved")),e}},{key:"rotateBlockXZ",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=Object.assign({},this.currentBlock);e.shape=this.rotateXZ(this.currentBlock.shape,t);var n=this.valid(0,0,0,e);return n&&(this.currentBlock=e),n}},{key:"rotateBlockXY",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=Object.assign({},this.currentBlock);e.shape=this.rotateXY(this.currentBlock.shape,t);var n=this.valid(0,0,0,e);return n&&(this.currentBlock=e),n}},{key:"rotateBlockZY",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=Object.assign({},this.currentBlock);e.shape=this.rotateZY(this.currentBlock.shape,t);var n=this.valid(0,0,0,e);return n&&(this.currentBlock=e),n}},{key:"rotateXZ",value:function(t,e){for(var n=f.VOXEL_LENGTH-1,r=[],o=0;o<f.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)e?r[o][i][u]=t[n-u][i][o]:r[o][i][u]=t[u][i][n-o]}}return r}},{key:"rotateXY",value:function(t,e){for(var n=f.VOXEL_LENGTH-1,r=[],o=0;o<f.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)e?r[o][i][u]=t[o][n-u][i]:r[o][i][u]=t[o][u][n-i]}}return r}},{key:"rotateZY",value:function(t,e){for(var n=f.VOXEL_LENGTH-1,r=[],o=0;o<f.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<f.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<f.VOXEL_LENGTH;++u)e?r[o][i][u]=t[i][n-o][u]:r[o][i][u]=t[n-i][o][u]}}return r}},{key:"valid",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?this.currentBlock:arguments[3],o=r.x+t,i=r.y+e,u=r.z+n,a=0;a<f.VOXEL_LENGTH;++a)for(var s=0;s<f.VOXEL_LENGTH;++s)for(var c=0;c<f.VOXEL_LENGTH;++c){var l=c+o,h=s+i,d=a+u;if(r.shape[a][s][c]&&("undefined"==typeof this.board[d]||"undefined"==typeof this.board[d][h]||"undefined"==typeof this.board[d][h][l]||this.board[d][h][l]||l<0||l>=f.COLS||d<0||d>=f.COLS||h>=f.LOGICAL_ROWS))return!1}return!0}},{key:"checkGameOver",value:function(){for(var t=!0,e=0;e<f.VOXEL_LENGTH;++e)for(var n=0;n<f.VOXEL_LENGTH;++n)for(var r=0;r<f.VOXEL_LENGTH;++r){var o=(r+this.currentBlock.x,n+this.currentBlock.y);e+this.currentBlock.z;if(o>=f.HIDDEN_ROWS){t=!1;break}}return t}}]),e}(s.EventEmitter2);n["default"]=h},{"./TetricusCONST":7,eventemitter2:1}],10:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("eventemitter2"),s=function(t){function e(t){r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));return n.controller=t,n.$modalPause=$(".js-modal-pause"),n.$modalGameover=$(".js-modal-gameover"),n.$modalStart=$(".js-modal-start"),n.$modalHowto=$(".js-modal-howto"),n.$modalResult=$(".js-modal-result"),n.$modals=n.$modalPause.add(n.$modalGameover).add(n.$modalStart).add(n.$modalHowto).add(n.$modalResult),n.$btnModalClose=$(".js-btn-modal-close"),n.$btnResume=$(".js-btn-resume"),n.$btnStart=$(".js-btn-start"),n.$btnPause=$(".js-btn-pause"),n.$btnSound=$(".js-btn-sound"),n.$btnToResult=$(".js-btn-to-result"),n.$btnToHowto=$(".js-btn-to-howto"),n.$btnToBack=$(".js-btn-to-back"),n.$btnRotateVertical=$(".js-btn-rotate-vertical"),n.$btnRotateHorizontal=$(".js-btn-rotate-horizontal"),n.$btnRotate=n.$btnRotateVertical.add(n.$btnRotateHorizontal),n.$slideHowto=$(".js-slide-howto"),n.$slideDots=$(".js-slide-dots"),n.setEvent(),n.setControllerEvent(),n.setHowto(),n}return i(e,t),u(e,[{key:"setEvent",value:function(){var t=this;$("button").on("touchstart",function(t){t.stopPropagation()}),this.$btnPause.on("click",function(){t.$btnPause.toggleClass("is-active"),t.$modalPause.show(),t.controller.isPlayngGame?t.controller.pauseGame():t.controller.resumeGame()}),this.$btnSound.on("click",function(){t.toggleBtnSound();var e=t.$btnSound.hasClass("is-sound-on");t.emit("toggleSound",{isSoundOn:e})}),this.$btnRotateVertical.on("touchstart",function(){t.controller.rotateBlockVertical()}),this.$btnRotateHorizontal.on("touchstart",function(){t.controller.rotateBlockHorizontal()}),this.$btnModalClose.on("click",function(){t.$modals.hide()}),this.$btnResume.on("click",function(){t.controller.resumeGame()}),this.$btnStart.on("click",function(){t.controller.isAutoMode=!1,t.controller.newGame()}),this.$btnToResult.on("click",function(){t.$modals.hide(),t.$modalResult.show()}),this.$btnToHowto.on("click",function(){return t.$modals.hide(),t.$modalHowto.show(),t.$modalHowto.removeClass("is-touch-none"),t.controller.isAutoMode?(t.controller.setTutorialMode(),void t.$modalHowto.addClass("is-touch-none")):void(t.controller.isPlayngGame&&t.controller.pauseGame())}),this.$btnToBack.on("click",function(){t.backModal()})}},{key:"setControllerEvent",value:function(){var t=this;this.controller.on("pauseGame",function(){t.isModalShown()||t.$modalPause.show()}),this.controller.on("resumeGame",function(){t.controller.isAutoMode||t.controller.isTutorialMode||t.$modals.hide()}),this.controller.on("gameover",function(){t.isModalShown()||t.controller.isAutoMode||t.$modalResult.show()})}},{key:"setHowto",value:function(){var t=this,e="is-active",n="data-slide-index",r=this.$slideHowto.children(),o=this.$slideDots.children(),i=r.length,u=+this.$modalHowto.attr(n)||0;r.hide().first().show();var a=function(){++u,u>=i&&(u=0,t.backModal()),r.hide().eq(u).show(),o.removeClass(e).eq(u).addClass(e),t.$modalHowto.attr(n,u)};this.$modalHowto.on("click",a),this.controller.on("touchend",function(e){t.controller.isTutorialMode&&0===u&&e.isBlockMoved&&a()}),this.controller.on("stickTouchend",function(e){t.controller.isTutorialMode&&1===u&&e.isStickMoved&&a()}),this.$btnRotate.on("click",function(e){t.controller.isTutorialMode&&2===u&&a()})}},{key:"backModal",value:function(){this.$modals.hide(),this.controller.isPausingGame?this.controller.resumeGame():(this.$modalStart.show(),this.controller.setAutoMode())}},{key:"showStartModal",value:function(){this.$modalStart.show()}},{key:"isModalShown",value:function(){return this.$modals.get().some(function(t){return $(t).is(":visible")})}},{key:"toggleBtnSound",value:function(t){this.$btnSound.toggleClass("is-sound-on",t)}}]),e}(a.EventEmitter2);n["default"]=s},{eventemitter2:1}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t("./lib/EditorControls_");var u=t("./TetricusCONST"),a=r(u),s=a["default"],c=function(){function t(){o(this,t),this.framecount=0,this.isAutoRotate=!1,this.CONTAINER_ID="js-game-view",this.ZERO_VECTOR=new THREE.Vector3(0,0,0),this.CENTER_VECTOR=new THREE.Vector3(s.CENTER_X,s.CENTER_Y,s.CENTER_Z),this.CAMERA_POSITION=new THREE.Vector3(s.CENTER_X,(-s.CAMERA_HEIGHT_DEFAULT),s.CAMERA_DISTANCE_DEFAULT),this.CAMERA_NEAR=1,this.CAMERA_FAR=1e5,this.VIEW_BLOCK_LIST=s.BLOCK_LIST.concat([s.SHADOW_BLOCK,s.CLEARLINE_BLOCK,s.GAMEOVER_BLOCK])}return i(t,[{key:"dispose",value:function(){this.stop(),this.container&&(this.container.innerHTML=""),this.renderer&&(this.renderer.dispose(),delete this.renderer),this.scene&&delete this.scene,this.camera&&delete this.camera,this.controls&&(this.controls.dispose(),delete this.controls)}},{key:"init",value:function(){var t=this;this.container=document.getElementById(this.CONTAINER_ID),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(15790320),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(s.WIDTH,s.HEIGHT),this.container.appendChild(this.renderer.domElement),this.scene=new THREE.Scene,this.perscamera=new THREE.PerspectiveCamera(45,s.WIDTH/s.HEIGHT,this.CAMERA_NEAR,this.CAMERA_FAR),this.orthocamera=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,window.innerHeight/2,-window.innerHeight/2,this.CAMERA_NEAR,this.CAMERA_FAR),this.cubecamera=new THREE.CubeCamera(this.CAMERA_NEAR,this.CAMERA_FAR,128),this.setCamera(),this.controls=new THREE.EditorControls(this.camera),this.controls.center=this.CENTER_VECTOR,this.disableControls();var e=new THREE.AxisHelper(this.CAMERA_FAR);e.position.set(0,0,0);var n=s.CENTER_X,r=s.VOXEL_SIZE,o=new THREE.GridHelper(n,r);o.position.set(n,s.HEIGHT,n),this.scene.add(o);var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(0,s.FIELD_MARK_LENGTH,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,s.FIELD_MARK_LENGTH),new THREE.Vector3(0,0,0),new THREE.Vector3(s.FIELD_MARK_LENGTH,0,0));var u=new THREE.LineBasicMaterial({color:0,opacity:.2,transparent:!0}),a=new THREE.Line(i,u);a.type=THREE.LinePieces;var c=a.clone().translateX(s.WIDTH).rotateY(-Math.PI/2),l=a.clone().translateZ(s.WIDTH).rotateY(Math.PI/2),f=a.clone().translateX(s.WIDTH).translateZ(s.WIDTH).rotateY(Math.PI);this.scene.add(a,c,l,f);var h=new THREE.AmbientLight(6316128);this.scene.add(h);var d=new THREE.DirectionalLight(16777215);d.position.set(.5,-.75,1).normalize(),this.scene.add(d),this.cubeGeo=new THREE.BoxGeometry(s.VOXEL_SIZE,s.VOXEL_SIZE,s.VOXEL_SIZE),this.cubeMaterial=[],this.VIEW_BLOCK_LIST.forEach(function(e){var n=new THREE.MeshLambertMaterial({color:e.color});e.opacity>=0&&(n.transparent=!0,n.opacity=.3),t.cubeMaterial.push(n)}),this.setSize()}},{key:"setSize",value:function(){this.width=window.innerWidth||s.WIDTH,this.height=window.innerHeight||s.HEIGHT,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),this.render()}},{key:"setCamera",value:function(t){switch(t){case"ortho1":this.camera=this.orthocamera,this.camera.position.set(s.CENTER_X,s.CENTER_Y,s.CAMERA_DISTANCE_DEFAULT);break;case"ortho2":this.camera=this.orthocamera,this.camera.position.set(s.CAMERA_DISTANCE_DEFAULT,s.CENTER_Y,s.CENTER_Z);break;case"ortho3":this.camera=this.orthocamera,this.camera.position.set(s.CENTER_X,-1e3,s.CENTER_Z);break;default:this.camera=this.perscamera,this.camera.position.copy(this.CAMERA_POSITION)}this.camera.up.set(0,-1,0),this.camera.zoom=1,this.camera.lookAt(this.CENTER_VECTOR)}},{key:"disableControls",value:function(){this.controls&&(this.controls.enabled=!1)}},{key:"enableControls",value:function(){this.controls&&(this.controls.enabled=!0)}},{key:"checkCameraDirection",value:function(){var t=this.camera.position.clone().sub(this.CENTER_VECTOR),e={x:Math.sign(Math.abs(t.x)>Math.abs(t.z)?t.x:0),y:Math.sign(-t.y),z:Math.sign(Math.abs(t.z)>Math.abs(t.x)?t.z:0)};return e}},{key:"rotateCamera",value:function(){this.controls.rotate({x:s.AUTO_ROTATE_SPEED,y:0})}},{key:"tick",value:function(){this.framecount++}},{key:"render",value:function(){this.isAutoRotate&&this.rotateCamera(),this.renderer.render(this.scene,this.camera)}},{key:"drawBoard",value:function(t){this.boardVoxels=[];for(var e=0;e<s.COLS;++e)for(var n=0;n<s.ROWS;++n)for(var r=0;r<s.COLS;++r){var o=r,i=n,u=e,a=t[u][i][o]-1;if(t[u][i][o]){var c=this.drawVoxel(o,i,u,a);this.boardVoxels.push(c)}}}},{key:"disposeBoard",value:function(){this.boardVoxels&&this.boardVoxels.length&&this.disposeVoxels(this.boardVoxels)}},{key:"disposeBlock",value:function(t){this.disposeVoxels(t.voxels)}},{key:"disposeVoxels",value:function(t){var e=this;t.forEach(function(t){t.geometry.dispose(),t.material.dispose(),e.scene.remove(t)})}},{key:"drawCurrentBlock",value:function(t){this.currentBlock&&this.disposeBlock(this.currentBlock),this.currentBlock=Object.assign({},t),this.drawBlock(this.currentBlock)}},{key:"drawBlock",value:function(t){if(t){t.voxels=[];for(var e=0;e<s.VOXEL_LENGTH;++e)for(var n=0;n<s.VOXEL_LENGTH;++n)for(var r=0;r<s.VOXEL_LENGTH;++r)if(t.shape[e][n][r]){var o=r+t.x,i=n+t.y-s.HIDDEN_ROWS,u=e+t.z,a=this.drawVoxel(o,i,u,t.id);t.voxels.push(a)}}}},{key:"drawVoxel",value:function(t,e,n,r){var o=t*s.VOXEL_SIZE,i=e*s.VOXEL_SIZE,u=n*s.VOXEL_SIZE,a=new THREE.Mesh(this.cubeGeo,this.cubeMaterial[r]);return a.position.set(o,i,u),a.position.addScalar(s.VOXEL_SIZE/2),e<0?a:(this.scene.add(a),a)}},{key:"moveCurrentBlock",value:function(t){this.currentBlock&&(Object.assign(this.currentBlock,t),this.moveBlock(this.currentBlock))}},{key:"moveBlock",value:function(t){if(t)for(var e=0,n=0;n<s.VOXEL_LENGTH;++n)for(var r=0;r<s.VOXEL_LENGTH;++r)for(var o=0;o<s.VOXEL_LENGTH;++o)if(t.shape[n][r][o]){var i=o+t.x,u=r+t.y-s.HIDDEN_ROWS,a=n+t.z,c=t.voxels[e];this.moveVoxel(i,u,a,c),e++}}},{key:"moveVoxel",value:function(t,e,n,r){if(!(e<0)){var o=t*s.VOXEL_SIZE,i=e*s.VOXEL_SIZE,u=n*s.VOXEL_SIZE;r.position.set(o,i,u),r.position.addScalar(s.VOXEL_SIZE/2),this.scene.add(r)}}},{key:"start",value:function(){var t=this,e=Date.now(),n=e,r=n,o=n;if("number"!=typeof this.loopId){this.loopId=null;var i=function u(e){var i=Date.now(),a=i-r,c=i-o;a>s.RENDER_INTERVAL&&(r=i,t.render()),c>s.TICK_INTERVAL&&(o=i,t.tick()),n=i,t.loopId=requestAnimationFrame(u)};i()}}},{key:"stop",value:function(){cancelAnimationFrame(this.loopId),this.loopId=null}}]),t}();n["default"]=c},{"./TetricusCONST":7,"./lib/EditorControls_":14}],12:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("eventemitter2"),s=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));return n.element=t.element||document,n.touchstartElement=t.touchstartElement||n.element,n.touchmoveElement=t.touchmoveElement||n.element,n.touchendElement=t.touchendElement||n.element,n.doubleTapDelay=t.doubleTapDelay||500,n.holdingDelay=t.holdingDelay||1e3,n.watchInterval=t.watchInterval||100,n.touchSupport="ontouchstart"in window,n.touchstart=n.touchSupport?"touchstart":"mousedown",n.touchmove=n.touchSupport?"touchmove":"mousemove",n.touchend=n.touchSupport?"touchend":"mouseup",n.deltaX=0,n.deltaY=0,n.moveX=0,n.moveY=0,n.defineEventListener(),n.setEvent(),n}return i(e,t),u(e,[{key:"setEvent",value:function(){this.touchstartElement.addEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.addEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.addEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"dispose",value:function(){this.touchstartElement.removeEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.removeEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.removeEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"defineEventListener",value:function(){var t=this,e=void 0,n=void 0,r=function(){clearInterval(e),clearTimeout(n)},o=function(){r(),n=setTimeout(function(){e=setInterval(function(){t.emit("touchholding",t)},t.watchInterval)},t.holdingDelay)};this.onTouchStart=function(e){e.preventDefault(),e.stopPropagation(),t.isDoubleTap=t.isTap,t.isDragging=!0,t.isTap=!0,t.touchStartTime=Date.now(),t.touchStartX=t.touchSupport?e.touches[0].pageX:e.pageX,t.touchStartY=t.touchSupport?e.touches[0].pageY:e.pageY,o(),t.emit("touchstart",{touchStartTime:t.touchStartTime,touchStartX:t.touchStartX,touchStartY:t.touchStartY})},this.onTouchMove=function(e){t.isDragging&&(r(),t.lasttouchX=t.touchX||t.touchStartX,t.lasttouchY=t.touchY||t.touchStartY,t.touchX=t.touchSupport?e.touches[0].pageX:e.pageX,t.touchY=t.touchSupport?e.touches[0].pageY:e.pageY,t.deltaX=t.touchX-t.lasttouchX,t.deltaY=t.touchY-t.lasttouchY,t.moveX=t.touchX-t.touchStartX,t.moveY=t.touchY-t.touchStartY,t.isTap=t.isDoubleTap=!1,o(),t.emit("touchmove",{lasttouchX:t.lasttouchX,lasttouchY:t.lasttouchY,touchX:t.touchX,touchY:t.touchY,deltaX:t.deltaX,deltaY:t.deltaY,moveX:t.moveX,moveY:t.moveY}))},this.onTouchEnd=function(e){t.isDragging=!1,r(),t.elapsedTime=Date.now()-t.touchStartTime,t.touchEndX=t.touchX,t.touchEndY=t.touchY,t.emit("touchend",{elapsedTime:t.elapsedTime,touchEndX:t.touchEndX,touchEndY:t.touchEndY,moveX:t.moveX,moveY:t.moveY,isTap:t.isTap,isDoubleTap:t.isDoubleTap}),t.touchX=t.touchY=null,t.moveX=t.moveY=0,setTimeout(function(){t.isTap=t.isDoubleTap=!1},t.doubleTapDelay)}}}]),e}(a.EventEmitter2);n["default"]=s},{eventemitter2:1}],13:[function(t,e,n){"use strict";var r=$(window);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){var e=window.setTimeout(t,1e3/60);return e},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)};var o={TRANSITIONEND:"transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd",ANIMATIONEND:"animationend webkitAnimationEnd mozAnimationEnd msAnimationEnd oAnimationEnd",getWinSize:function(){window.winW=Math.max(r.width(),window.innerWidth||0),window.winH=Math.max(r.height(),window.innerHeight||0)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},throttle:function(t,e){var n=!1,r=function(r){n||(n=!0,setTimeout(function(){n=!1,t(r)},e))};return r},debounce:function(t,e){var n,r=function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};return r},async:function(t){!function e(n){t[n]&&t[n](function(){e(n+1)})}(0)},delay:function(t){return function(e){setTimeout(e,t)}},sleep:function(t){return function(){var e=$.Deferred();return setTimeout(function(){e.resolve()},t),e.promise()}},zeroPadding:function(t,e){return(new Array(e).join("0")+t).slice(-e)},getQueryString:function(){var t={},e=window.location.search;if(e.length>1)for(var n=e.substring(1),r=n.split("&"),o=0;o<r.length;o++){var i=r[o].split("="),u=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]);t[u]=a}return t},getUserAgent:function(){return o.ua={},o.ua.name=window.navigator.userAgent.toLowerCase(),o.ua.isSP=/ipod|iphone|ipad|android/i.test(o.ua.name),o.ua.isPC=!o.ua.isSP,o.ua.isIOS=/ipod|iphone|ipad/i.test(o.ua.name),o.ua.isAndroid=/android/.test(o.ua.name),o.ua.isIE8=/msie 8/.test(o.ua.name),o.ua.isIE9=/msie 9/.test(o.ua.name),o.ua.isSP&&(document.body.className+=" isSP"),o.ua.isPC&&(document.body.className+=" isPC"),o.ua},removeOtherDeviceElement:function(){o.ua.isSP?$(".onlypc").remove():$(".onlysp").remove()}};e.exports=o},{}],14:[function(t,e,n){"use strict";THREE.EditorControls=function(t,e){function n(t){c.enabled!==!1&&(0===t.button?h=f.ROTATE:1===t.button?h=f.ZOOM:2===t.button&&(h=f.PAN),v.set(t.clientX,t.clientY),e.addEventListener("mousemove",r,!1),e.addEventListener("mouseup",o,!1),e.addEventListener("mouseout",o,!1),e.addEventListener("dblclick",o,!1))}function r(t){if(c.enabled!==!1){p.set(t.clientX,t.clientY);var e=p.x-v.x,n=p.y-v.y;h===f.ROTATE?c.rotate(new THREE.Vector3(.005*-e,.005*-n,0)):h===f.ZOOM?c.zoom(new THREE.Vector3(0,0,n)):h===f.PAN&&c.pan(new THREE.Vector3((-e),n,0)),v.set(t.clientX,t.clientY)}}function o(t){e.removeEventListener("mousemove",r,!1),e.removeEventListener("mouseup",o,!1),e.removeEventListener("mouseout",o,!1),e.removeEventListener("dblclick",o,!1),h=f.NONE}function i(t){t.preventDefault();var e=0;t.wheelDelta?e=-t.wheelDelta:t.detail&&(e=10*t.detail),c.zoom(new THREE.Vector3(0,0,e))}function u(t){t.preventDefault()}function a(t){if(c.enabled!==!1){switch(t.touches.length){case 1:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[0].pageX,t.touches[0].pageY,0);break;case 2:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[1].pageX,t.touches[1].pageY,0),E=y[0].distanceTo(y[1])}g[0].copy(y[0]),g[1].copy(y[1])}}function s(t){function e(t,e){var n=e[0];for(var r in e)n.distanceTo(t)>e[r].distanceTo(t)&&(n=e[r]);return n}if(c.enabled!==!1){switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[0].pageX,t.touches[0].pageY,0),c.rotate(y[0].sub(e(y[0],g)).multiplyScalar(-.005));break;case 2:y[0].set(t.touches[0].pageX,t.touches[0].pageY,0),y[1].set(t.touches[1].pageX,t.touches[1].pageY,0);var n=y[0].distanceTo(y[1]);c.zoom(new THREE.Vector3(0,0,E-n)),E=n;var r=y[0].clone().sub(e(y[0],g)),o=y[1].clone().sub(e(y[1],g));r.x=-r.x,o.x=-o.x,c.pan(r.add(o).multiplyScalar(.5))}g[0].copy(y[0]),g[1].copy(y[1])}}e=void 0!==e?e:document,this.enabled=!0,this.center=new THREE.Vector3;var c=this,l=new THREE.Vector3,f={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},h=f.NONE,d=new THREE.Matrix3,p=new THREE.Vector2,v=new THREE.Vector2,_=new THREE.Spherical,m={type:"change"};this.focus=function(e,n){var r=new THREE.Vector3;if(e.matrixWorld.decompose(c.center,new THREE.Quaternion,r),n&&e.geometry){r=(r.x+r.y+r.z)/3,c.center.add(e.geometry.boundingSphere.center.clone().multiplyScalar(r));var o=e.geometry.boundingSphere.radius*r,i=t.position.clone().sub(c.center).normalize().multiplyScalar(2*o);t.position.copy(c.center).add(i)}t.lookAt(c.center),c.dispatchEvent(m)},this.pan=function(e){var n=t.position.distanceTo(c.center);e.multiplyScalar(.001*n),e.applyMatrix3(d.getNormalMatrix(t.matrix)),t.position.add(e),c.center.add(e),c.dispatchEvent(m)},this.zoom=function(e){var n=t.position.distanceTo(c.center);e.multiplyScalar(.001*n),e.length()>n||(e.applyMatrix3(d.getNormalMatrix(t.matrix)),t.position.add(e),c.dispatchEvent(m))},this.rotate=function(e){
l.copy(t.position).sub(c.center),_.setFromVector3(l),_.theta+=e.x,_.phi+=e.y,_.makeSafe(),l.setFromSpherical(_),t.position.copy(c.center).add(l),t.lookAt(c.center),c.dispatchEvent(m)},this.dispose=function(){e.removeEventListener("contextmenu",u,!1),e.removeEventListener("mousedown",n,!1),e.removeEventListener("mousewheel",i,!1),e.removeEventListener("MozMousePixelScroll",i,!1),e.removeEventListener("mousemove",r,!1),e.removeEventListener("mouseup",o,!1),e.removeEventListener("mouseout",o,!1),e.removeEventListener("dblclick",o,!1),e.removeEventListener("touchstart",a,!1),e.removeEventListener("touchmove",s,!1)},e.addEventListener("contextmenu",u,!1),e.addEventListener("mousedown",n,!1),e.addEventListener("mousewheel",i,!1),e.addEventListener("MozMousePixelScroll",i,!1);var y=(new THREE.Vector3,[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]),g=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],E=null;e.addEventListener("touchstart",a,!1),e.addEventListener("touchmove",s,!1)},THREE.EditorControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.EditorControls.prototype.constructor=THREE.EditorControls},{}],15:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=t("./Util"),i=r(o),u=t("./SoundController"),a=r(u),s=t("./TetricusCONST"),c=r(s),l=t("./TetricusView"),f=r(l),h=t("./TetricusModel"),d=r(h),p=t("./TetricusController"),v=r(p),_=t("./TetricusUI"),m=r(_),y=new d["default"],g=new f["default"],E=new v["default"](y,g),w=new m["default"](E),b=new a["default"]({src:"./audio/bgm.mp3",COOKIE_NAME:"TETRICUS-isMute",EXPIRES_DATE:365,howl:{urls:["./audio/bgm.mp3"],loop:!0,volume:.2}});E.on("startGame",function(){b.play()}),w.on("toggleSound",function(t){b.toggleMute(!t.isSoundOn),b.togglePlay(t.isSoundOn)}),w.toggleBtnSound(!b.isMute),w.showStartModal(),E.isAutoMode=!0,E.newGame();var k=i["default"].getQueryString();k.debug&&!function(){var t=+k.debug||0,e=c["default"].BLOCK_LIST[t].shape;c["default"].BLOCK_LIST.forEach(function(t){t.shape=e});var n=function(){c["default"].START_X=Math.floor((c["default"].COLS-c["default"].VOXEL_LENGTH)/2),c["default"].START_Y=0,c["default"].START_Z=Math.floor((c["default"].COLS-c["default"].VOXEL_LENGTH)/2),c["default"].HIDDEN_ROWS=c["default"].VOXEL_LENGTH,c["default"].LOGICAL_ROWS=c["default"].ROWS+c["default"].HIDDEN_ROWS,c["default"].WIDTH=c["default"].VOXEL_SIZE*c["default"].COLS,c["default"].HEIGHT=c["default"].VOXEL_SIZE*c["default"].ROWS,c["default"].CENTER_X=c["default"].WIDTH/2,c["default"].CENTER_Y=c["default"].HEIGHT/2,c["default"].CENTER_Z=c["default"].WIDTH/2,g.constructor()};k.interval&&(y.tickInterval=+k.interval),k.cols&&(c["default"].COLS=+k.cols,n()),k.rows&&(c["default"].ROWS=+k.rows,n()),k.voxel_size&&(c["default"].VOXEL_SIZE=+k.voxel_size,n()),k.render_interval&&(c["default"].RENDER_INTERVAL=+k.render_interval),k.tick_interval&&(c["default"].TICK_INTERVAL=+k.tick_interval),k.speedup_rate&&(c["default"].SPEEDUP_RATE=+k.speedup_rate),E.newGame()}()},{"./SoundController":5,"./TetricusCONST":7,"./TetricusController":8,"./TetricusModel":9,"./TetricusUI":10,"./TetricusView":11,"./Util":13}]},{},[15]);