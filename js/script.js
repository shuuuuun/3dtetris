!function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){!function(e){function r(){this._events={},this._conf&&o.call(this,this._conf)}function o(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._events.maxListeners=t.maxListeners!==e?t.maxListeners:l,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=l}function i(e){console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,o.call(this,e)}function a(e,t,n,r){if(!n)return[];var o,i,u,s,c,l,f,h=[],d=t.length,p=t[r],_=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(u in n)"_listeners"!==u&&n.hasOwnProperty(u)&&(h=h.concat(a(e,t,n[u],r+1)));return h}if("**"===p){f=r+1===d||r+2===d&&"*"===_,f&&n._listeners&&(h=h.concat(a(e,t,n,d)));for(u in n)"_listeners"!==u&&n.hasOwnProperty(u)&&("*"===u||"**"===u?(n[u]._listeners&&!f&&(h=h.concat(a(e,t,n[u],d))),h=h.concat(a(e,t,n[u],r))):h=u===_?h.concat(a(e,t,n[u],r+2)):h.concat(a(e,t,n[u],r)));return h}h=h.concat(a(e,t,n[p],r+1))}if(s=n["*"],s&&a(e,t,s,r+1),c=n["**"])if(r<d){c._listeners&&a(e,t,c,d);for(u in c)"_listeners"!==u&&c.hasOwnProperty(u)&&(u===_?a(e,t,c[u],r+2):u===p?a(e,t,c[u],r+1):(l={},l[u]=c[u],a(e,t,{"**":l},r+1)))}else c._listeners?a(e,t,c,d):c["*"]&&c["*"]._listeners&&a(e,t,c["*"],d);return h}function s(t,n){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var r=0,o=t.length;r+1<o;r++)if("**"===t[r]&&"**"===t[r+1])return;for(var u=this.listenerTree,a=t.shift();a!==e;){if(u[a]||(u[a]={}),u=u[a],0===t.length)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),u._listeners.push(n),!u._listeners.warned&&this._events.maxListeners>0&&u._listeners.length>this._events.maxListeners&&(u._listeners.warned=!0,i(u._listeners.length))):u._listeners=n,!0;a=t.shift()}return!0}var c=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==e&&(this._events||r.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(e,t){return this.many(e,1,t),this},u.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},u.prototype.emit=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,o,i,u,s=arguments.length;if(this._all&&this._all.length){if(u=this._all.slice(),s>3)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(o=0,n=u.length;o<n;o++)switch(this.event=e,s){case 1:u[o].call(this,e);break;case 2:u[o].call(this,e,arguments[1]);break;case 3:u[o].call(this,e,arguments[1],arguments[2]);break;default:u[o].apply(this,t)}}if(this.wildcard){u=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();a.call(this,u,c,this.listenerTree,0)}else{if(u=this._events[e],"function"==typeof u){switch(this.event=e,s){case 1:u.call(this);break;case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];u.apply(this,t)}return!0}u&&(u=u.slice())}if(u&&u.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(o=0,n=u.length;o<n;o++)switch(this.event=e,s){case 1:u[o].call(this);break;case 2:u[o].call(this,arguments[1]);break;case 3:u[o].call(this,arguments[1],arguments[2]);break;default:u[o].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,o,i,u,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),i=1;i<c;i++)t[i]=arguments[i];for(o=0,n=this._all.length;o<n;o++)switch(this.event=e,c){case 1:s.push(this._all[o].call(this,e));break;case 2:s.push(this._all[o].call(this,e,arguments[1]));break;case 3:s.push(this._all[o].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[o].apply(this,t))}}if(this.wildcard){u=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();a.call(this,u,l,this.listenerTree,0)}else u=this._events[e];if("function"==typeof u)switch(this.event=e,c){case 1:s.push(u.call(this));break;case 2:s.push(u.call(this,arguments[1]));break;case 3:s.push(u.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];s.push(u.apply(this,t))}else if(u&&u.length){if(c>3)for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];for(o=0,n=u.length;o<n;o++)switch(this.event=e,c){case 1:s.push(u[o].call(this));break;case 2:s.push(u[o].call(this,arguments[1]));break;case 3:s.push(u[o].call(this,arguments[1],arguments[2]));break;default:s.push(u[o].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||r.call(this),this.emit("newListener",e,t),this.wildcard?(s.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,i(this._events[e].length))):this._events[e]=t,this)},u.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(t,n){function r(t){if(t!==e){var n=Object.keys(t);for(var o in n){var i=n[o],u=t[i];u instanceof Function||"object"!=typeof u||null===u||(Object.keys(u).length>0&&r(t[i]),0===Object.keys(u).length&&delete t[i])}}}if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var o,i=[];if(this.wildcard){var u="string"==typeof t?t.split(this.delimiter):t.slice();i=a.call(this,null,u,this.listenerTree,0)}else{if(!this._events[t])return this;o=this._events[t],i.push({_listeners:o})}for(var s=0;s<i.length;s++){var l=i[s];if(o=l._listeners,c(o)){for(var f=-1,h=0,d=o.length;h<d;h++)if(o[h]===n||o[h].listener&&o[h].listener===n||o[h]._origin&&o[h]._origin===n){f=h;break}if(f<0)continue;return this.wildcard?l._listeners.splice(f,1):this._events[t].splice(f,1),0===o.length&&(this.wildcard?delete l._listeners:delete this._events[t]),this.emit("removeListener",t,n),this}(o===n||o.listener&&o.listener===n||o._origin&&o._origin===n)&&(this.wildcard?delete l._listeners:delete this._events[t],this.emit("removeListener",t,n))}return r(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||r.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=a.call(this,null,t,this.listenerTree,0),o=0;o<n.length;o++){var i=n[o];i._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return a.call(this,t,n,this.listenerTree,0),t}return this._events||r.call(this),this._events[e]||(this._events[e]=[]),c(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return u}):"object"==typeof n?t.exports=u:window.EventEmitter2=u}()},{}],2:[function(e,t,n){(function(e){/*!
 *  howler.js v2.0.1
 *  howlerjs.com
 *
 *  (c) 2013-2016, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var e=this||r;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||f(),"undefined"!=typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&(t.masterGain.gain.value=e);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var u=t._howls[n]._soundById(o[i]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||f(),t._muted=e,t.usingWebAudio&&(t.masterGain.gain.value=e?0:t._volume);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var u=t._howls[n]._soundById(o[i]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&"undefined"!=typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;return e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t="undefined"!=typeof Audio?new Audio:null;if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=o&&parseInt(o[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||r,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),n=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||n)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var o=function(){var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchend",o,!0)}};return document.addEventListener("touchend",o,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!=typeof e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!=typeof e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.state="resuming",e.ctx.resume().then(function(){e.state="running"}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new t,o=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return r.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._webAudio=r.usingWebAudio&&!t._html5,"undefined"!=typeof r.ctx&&r.ctx&&r.mobileAutoEnable&&r._enableMobileAudio(),r._howls.push(t),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var o,u;if(e._format&&e._format[n])o=e._format[n];else{if(u=e._src[n],"string"!=typeof u){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}o=/^data:audio\/([^;,]+);/i.exec(u),o||(o=/\.([^.]+)$/.exec(u.split("?",1)[0])),o&&(o=o[1].toLowerCase())}if(r.codecs(o)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&a(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var n=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"==typeof e){e="__default";for(var i=0,u=0;u<n._sounds.length;u++)n._sounds[u]._paused&&!n._sounds[u]._ended&&(i++,o=n._sounds[u]._id);1===i?e=null:o=null}}var a=o?n._soundById(o):n._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state&&!n._sprite[e])return n._queue.push({event:"play",action:function(){n.play(n._soundById(a._id)?a._id:void 0)}}),a._id;if(o&&!a._paused)return t||setTimeout(function(){n._emit("play",a._id)},0),a._id;n._webAudio&&r._autoResume();var s=a._seek>0?a._seek:n._sprite[e][0]/1e3,c=(n._sprite[e][0]+n._sprite[e][1])/1e3-s,l=1e3*c/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=e,a._seek=s,a._start=n._sprite[e][0]/1e3,a._stop=(n._sprite[e][0]+n._sprite[e][1])/1e3,a._loop=!(!a._loop&&!n._sprite[e][2]);var f=a._node;if(n._webAudio){var h=function(){n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;f.gain.setValueAtTime(e,r.ctx.currentTime),a._playStart=r.ctx.currentTime,"undefined"==typeof f.bufferSource.start?a._loop?f.bufferSource.noteGrainOn(0,s,86400):f.bufferSource.noteGrainOn(0,s,c):a._loop?f.bufferSource.start(0,s,86400):f.bufferSource.start(0,s,c),l!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),l)),t||setTimeout(function(){n._emit("play",a._id)},0)};"loaded"===n._state?h():(n.once("load",h,a._id),n._clearTimer(a._id))}else{var d=function(){f.currentTime=s,f.muted=a._muted||n._muted||r._muted||f.muted,f.volume=a._volume*r.volume(),f.playbackRate=a._rate,setTimeout(function(){f.play(),l!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),l)),t||n._emit("play",a._id)},0)},p="loaded"===n._state&&(window&&window.ejecta||!f.readyState&&r._navigator.isCocoonJS);if(4===f.readyState||p)d();else{var _=function(){d(),f.removeEventListener(r._canPlayEvent,_,!1)};f.addEventListener(r._canPlayEvent,_,!1),n._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused){if(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node)if(t._webAudio){if(!o._node.bufferSource)return t;"undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o._id)}}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);if(i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node))if(n._webAudio){if(!i._node.bufferSource)return t||n._emit("stop",i._id),n;"undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause());i&&!t&&n._emit("stop",i._id)}return n},mute:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"==typeof t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var u=n._soundById(o[i]);u&&(u._muted=e,n._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,r.ctx.currentTime):u._node&&(u._node.muted=!!r._muted||e),n._emit("mute",u._id))}return n},volume:function(){var e,t,n=this,o=arguments;if(0===o.length)return n._volume;if(1===o.length||2===o.length&&"undefined"==typeof o[1]){var i=n._getSoundIds(),u=i.indexOf(o[0]);u>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if(!("undefined"!=typeof e&&e>=0&&e<=1))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,o)}}),n;"undefined"==typeof t&&(n._volume=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)a=n._soundById(t[s]),a&&(a._volume=e,o[2]||n._stopFade(t[s]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,r.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*r.volume()),n._emit("volume",a._id));return n},fade:function(e,t,n,o){var i=this,u=Math.abs(e-t),a=e>t?"out":"in",s=u/.01,c=s>0?n/s:n;if(c<4&&(s=Math.ceil(s/(4/c)),c=4),"loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,o)}}),i;i.volume(e,o);for(var l=i._getSoundIds(o),f=0;f<l.length;f++){var h=i._soundById(l[f]);if(h){if(o||i._stopFade(l[f]),i._webAudio&&!h._muted){var d=r.ctx.currentTime,p=d+n/1e3;h._volume=e,h._node.gain.setValueAtTime(e,d),h._node.gain.linearRampToValueAtTime(t,p)}var _=e;h._interval=setInterval(function(e,n){s>0&&(_+="in"===a?.01:-.01),_=Math.max(0,_),_=Math.min(1,_),_=Math.round(100*_)/100,i._webAudio?("undefined"==typeof o&&(i._volume=_),n._volume=_):i.volume(_,e,!0),_===t&&(clearInterval(n._interval),n._interval=null,i.volume(_,e),i._emit("fade",e))}.bind(i,l[f],h),c)}}return i},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return n=r._soundById(parseInt(o[0],10)),!!n&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),u=0;u<i.length;u++)n=r._soundById(i[u]),n&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),u=i.indexOf(o[0]);u>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if("number"!=typeof e)return a=n._soundById(t),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,o)}}),n;"undefined"==typeof t&&(n._rate=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)if(a=n._soundById(t[s])){a._rateSeek=n.seek(t[s]),a._playStart=n._webAudio?r.ctx.currentTime:a._playStart,a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=e:a._node&&(a._node.playbackRate=e);var c=n.seek(t[s]),l=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-c,f=1e3*l/Math.abs(a._rate);!n._endTimers[t[s]]&&a._paused||(n._clearTimer(t[s]),n._endTimers[t[s]]=setTimeout(n._ended.bind(n,a),f)),n._emit("rate",a._id)}return n},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),u=i.indexOf(o[0]);u>=0?t=parseInt(o[0],10):(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("undefined"==typeof t)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var s=n.playing(t)?r.ctx.currentTime-a._playStart:0,c=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(c+s*Math.abs(a._rate))}return a._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),l&&n.play(t,!0),!n._webAudio&&a._node&&(a._node.currentTime=e),n._emit("seek",t)}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++){t[n]._paused||(e.stop(t[n]._id),e._emit("end",t[n]._id)),e._webAudio||(t[n]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1)),delete t[n]._node,e._clearTimer(t[n]._id);var o=r._howls.indexOf(e);o>=0&&r._howls.splice(o,1)}var i=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src){i=!1;break}return u&&i&&delete u[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this,i=o["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),o},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if(t){for(i=0;i<o.length;i++)if(t===o[i].fn&&n===o[i].id){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var u=Object.keys(r);for(i=0;i<u.length;i++)0===u[i].indexOf("_on")&&Array.isArray(r[u[i]])&&(r[u[i]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r},_loadQueue:function(){var e=this;if(e._queue.length>0){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var t=this,n=e._sprite,o=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&o&&t.stop(e._id,!0).play(e._id),t._webAudio&&o){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||o||t.stop(e._id),t},_clearTimer:function(e){var t=this;return t._endTimers[e]&&(clearTimeout(t._endTimers[e]),delete t._endTimers[e]),t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"==typeof e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=u[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,t},_cleanBuffer:function(e){var t=this;if(t._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=t._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"==typeof r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorListener,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),t._autoplay&&t.play(),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)}};var u={},a=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void l(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);c(r.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+"."):void c(i.response,e)},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},s(i)}},s=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){r.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(u[t._src]=e,l(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},l=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play()},f=function(){r.noAudio=!1;try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}if(!r.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;"undefined"==typeof e.oncanplaythrough&&(r._canPlayEvent="canplay")}catch(e){r.noAudio=!0}else r.noAudio=!0;try{var e=new Audio;e.muted&&(r.noAudio=!0)}catch(e){}var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),n=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=n?parseInt(n[1],10):null;if(t&&o&&o<9){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());(r._navigator&&r._navigator.standalone&&!i||r._navigator&&!r._navigator.standalone&&!i)&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain="undefined"==typeof r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.value=1,r.masterGain.connect(r.ctx.destination)),r._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:r,Howl:o}}),"undefined"!=typeof n&&(n.Howler=r,n.Howl=o),"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=r,window.Howl=o,window.Sound=i):"undefined"!=typeof e&&(e.HowlerGlobal=t,e.Howler=r,e.Howl=o,e.Sound=i)}(),/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.1
 *  howlerjs.com
 *
 *  (c) 2013-2016, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var u=this;if(!u.ctx||!u.ctx.listener)return u;var a=u._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(u._orientation=[e,t,n,r,o,i],u.ctx.listener.setOrientation(e,t,n,r,o,i),u)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!=typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),u=0;u<i.length;u++){var a=r._soundById(i[u]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,o),"spatial"===o?a._panner.setPosition(t,0,0):a._panner.pan.value=t),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,"undefined"==typeof o){if("number"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var s=i._soundById(u[a]);if(s){if("number"!=typeof t)return s._pos;s._pos=[t,n,r],s._node&&(s._panner&&!s._panner.pan||e(s,"spatial"),s._panner.setPosition(t,n,r)),i._emit("pos",s._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,"undefined"==typeof o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var u=i._getSoundIds(o),a=0;a<u.length;a++){var s=i._soundById(u[a]);if(s){if("number"!=typeof t)return s._orientation;s._orientation=[t,n,r],s._node&&(s._panner||(s._pos||(s._pos=i._pos||[0,0,-.5]),e(s,"spatial")),s._panner.setOrientation(t,n,r)),i._emit("orientation",s._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;t=i[0],"undefined"==typeof n&&(o._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:o._coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:o._coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:o._distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:o._maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:o._panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:o._refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:o._rolloffFactor})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var u=o._getSoundIds(n),a=0;a<u.length;a++)if(r=o._soundById(u[a])){var s=r._pannerAttr;s={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:s.maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:s.panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:s.refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:s.rolloffFactor};var c=r._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.panningModel=s.panningModel,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.value=e._stereo),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){!function(e){var r=!1;if("function"==typeof define&&define.amd&&(define(e),r=!0),"object"==typeof n&&(t.exports=e(),r=!0),!r){var o=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=o,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var u;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{u=JSON.stringify(o),/^[\{\[]/.test(u)&&(o=u)}catch(e){}return o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}t||(u={});for(var s=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<s.length;l++){var f=s[l].split("="),h=f.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var d=f[0].replace(c,decodeURIComponent);if(h=n.read?n.read(h,d):n(h,d)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===d){u=h;break}t||(u[d]=h)}catch(e){}}return u}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},{}],4:[function(e,t,n){(function(e){(function(){function r(e,t){return e.set(t[0],t[1]),e}function o(e,t){return e.add(t),e}function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var o=-1,i=e?e.length:0;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}function a(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function s(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function c(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,r=e?e.length:0,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function f(e,t){var n=e?e.length:0;return!!n&&b(e,t,0)>-1}function h(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function p(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function _(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function v(e,t,n,r){var o=e?e.length:0;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function m(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){return e.split("")}function g(e){return e.match(Bt)||[]}function w(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function E(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function b(e,t,n){return t===t?Z(e,t,n):E(e,k,n)}function T(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function k(e){return e!==e}function A(e,t){var n=e?e.length:0;return n?R(e,t)/n:Ce}function O(e){return function(t){return null==t?ne:t[e]}}function S(e){return function(t){return null==e?ne:e[t]}}function L(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function x(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function R(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==ne&&(n=n===ne?i:n+i)}return n}function I(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function C(e,t){return d(t,function(t){return[t,e[t]]})}function B(e){return function(t){return e(t)}}function M(e,t){return d(t,function(t){return e[t]})}function H(e,t){return e.has(t)}function D(e,t){for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function P(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function j(e){return"\\"+Xn[e]}function G(e,t){return null==e?ne:e[t]}function V(e){return Bn.test(e)}function X(e){return Mn.test(e)}function $(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function F(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function z(e,t){return function(n){return e(t(n))}}function W(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];u!==t&&u!==ce||(e[n]=ce,i[o++]=n)}return i}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Z(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function q(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function K(e){return V(e)?J(e):ir(e)}function Q(e){return V(e)?ee(e):y(e)}function J(e){for(var t=In.lastIndex=0;In.test(e);)++t;return t}function ee(e){return e.match(In)||[]}function te(e){return e.match(Cn)||[]}var ne,re="4.16.2",oe=200,ie="Unsupported core-js use. Try https://github.com/es-shims.",ue="Expected a function",ae="__lodash_hash_undefined__",se=500,ce="__lodash_placeholder__",le=1,fe=2,he=4,de=8,pe=16,_e=32,ve=64,me=128,ye=256,ge=512,we=1,Ee=2,be=30,Te="...",ke=500,Ae=16,Oe=1,Se=2,Le=3,xe=1/0,Re=9007199254740991,Ie=1.7976931348623157e308,Ce=NaN,Be=4294967295,Me=Be-1,He=Be>>>1,De=[["ary",me],["bind",le],["bindKey",fe],["curry",de],["curryRight",pe],["flip",ge],["partial",_e],["partialRight",ve],["rearg",ye]],Pe="[object Arguments]",Ne="[object Array]",je="[object Boolean]",Ge="[object Date]",Ve="[object Error]",Xe="[object Function]",$e="[object GeneratorFunction]",Fe="[object Map]",ze="[object Number]",We="[object Object]",Ye="[object Promise]",Ue="[object RegExp]",Ze="[object Set]",qe="[object String]",Ke="[object Symbol]",Qe="[object WeakMap]",Je="[object WeakSet]",et="[object ArrayBuffer]",tt="[object DataView]",nt="[object Float32Array]",rt="[object Float64Array]",ot="[object Int8Array]",it="[object Int16Array]",ut="[object Int32Array]",at="[object Uint8Array]",st="[object Uint8ClampedArray]",ct="[object Uint16Array]",lt="[object Uint32Array]",ft=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,vt=RegExp(pt.source),mt=RegExp(_t.source),yt=/<%-([\s\S]+?)%>/g,gt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,Tt=/^\./,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(At.source),St=/^\s+|\s+$/g,Lt=/^\s+/,xt=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Ct=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,jt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,zt="\\ud800-\\udfff",Wt="\\u0300-\\u036f\\ufe20-\\ufe23",Yt="\\u20d0-\\u20f0",Ut="\\u2700-\\u27bf",Zt="a-z\\xdf-\\xf6\\xf8-\\xff",qt="\\xac\\xb1\\xd7\\xf7",Kt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qt="\\u2000-\\u206f",Jt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="A-Z\\xc0-\\xd6\\xd8-\\xde",tn="\\ufe0e\\ufe0f",nn=qt+Kt+Qt+Jt,rn="['’]",on="["+zt+"]",un="["+nn+"]",an="["+Wt+Yt+"]",sn="\\d+",cn="["+Ut+"]",ln="["+Zt+"]",fn="[^"+zt+nn+sn+Ut+Zt+en+"]",hn="\\ud83c[\\udffb-\\udfff]",dn="(?:"+an+"|"+hn+")",pn="[^"+zt+"]",_n="(?:\\ud83c[\\udde6-\\uddff]){2}",vn="[\\ud800-\\udbff][\\udc00-\\udfff]",mn="["+en+"]",yn="\\u200d",gn="(?:"+ln+"|"+fn+")",wn="(?:"+mn+"|"+fn+")",En="(?:"+rn+"(?:d|ll|m|re|s|t|ve))?",bn="(?:"+rn+"(?:D|LL|M|RE|S|T|VE))?",Tn=dn+"?",kn="["+tn+"]?",An="(?:"+yn+"(?:"+[pn,_n,vn].join("|")+")"+kn+Tn+")*",On=kn+Tn+An,Sn="(?:"+[cn,_n,vn].join("|")+")"+On,Ln="(?:"+[pn+an+"?",an,_n,vn,on].join("|")+")",xn=RegExp(rn,"g"),Rn=RegExp(an,"g"),In=RegExp(hn+"(?="+hn+")|"+Ln+On,"g"),Cn=RegExp([mn+"?"+ln+"+"+En+"(?="+[un,mn,"$"].join("|")+")",wn+"+"+bn+"(?="+[un,mn+gn,"$"].join("|")+")",mn+"?"+gn+"+"+En,mn+"+"+bn,sn,Sn].join("|"),"g"),Bn=RegExp("["+yn+zt+Wt+Yt+tn+"]"),Mn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dn=-1,Pn={};Pn[nt]=Pn[rt]=Pn[ot]=Pn[it]=Pn[ut]=Pn[at]=Pn[st]=Pn[ct]=Pn[lt]=!0,Pn[Pe]=Pn[Ne]=Pn[et]=Pn[je]=Pn[tt]=Pn[Ge]=Pn[Ve]=Pn[Xe]=Pn[Fe]=Pn[ze]=Pn[We]=Pn[Ue]=Pn[Ze]=Pn[qe]=Pn[Qe]=!1;var Nn={};Nn[Pe]=Nn[Ne]=Nn[et]=Nn[tt]=Nn[je]=Nn[Ge]=Nn[nt]=Nn[rt]=Nn[ot]=Nn[it]=Nn[ut]=Nn[Fe]=Nn[ze]=Nn[We]=Nn[Ue]=Nn[Ze]=Nn[qe]=Nn[Ke]=Nn[at]=Nn[st]=Nn[ct]=Nn[lt]=!0,Nn[Ve]=Nn[Xe]=Nn[Qe]=!1;var jn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Gn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$n=parseFloat,Fn=parseInt,zn="object"==typeof e&&e&&e.Object===Object&&e,Wn="object"==typeof self&&self&&self.Object===Object&&self,Yn=zn||Wn||Function("return this")(),Un="object"==typeof n&&n&&!n.nodeType&&n,Zn=Un&&"object"==typeof t&&t&&!t.nodeType&&t,qn=Zn&&Zn.exports===Un,Kn=qn&&zn.process,Qn=function(){try{return Kn&&Kn.binding("util")}catch(e){}}(),Jn=Qn&&Qn.isArrayBuffer,er=Qn&&Qn.isDate,tr=Qn&&Qn.isMap,nr=Qn&&Qn.isRegExp,rr=Qn&&Qn.isSet,or=Qn&&Qn.isTypedArray,ir=O("length"),ur=S(jn),ar=S(Gn),sr=S(Vn),cr=function e(t){function n(e){if(qa(e)&&!ah(e)&&!(e instanceof Z)){if(e instanceof S)return e;if(sl.call(e,"__wrapped__"))return Wi(e)}return new S(e)}function y(){}function S(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ne}function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Be,this.__views__=[]}function J(){var e=new Z(this.__wrapped__);return e.__actions__=Co(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Co(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Co(this.__views__),e}function ee(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Bt(){var e=this.__wrapped__.value(),t=this.__dir__,n=ah(e),r=t<0,o=n?e.length:0,i=vi(0,o,this.__views__),u=i.start,a=i.end,s=a-u,c=r?a:u-1,l=this.__iteratees__,f=l.length,h=0,d=Dl(s,this.__takeCount__);if(!n||o<oe||o==s&&d==s)return ho(e,this.__actions__);var p=[];e:for(;s--&&h<d;){c+=t;for(var _=-1,v=e[c];++_<f;){var m=l[_],y=m.iteratee,g=m.type,w=y(v);if(g==Se)v=w;else if(!w){if(g==Oe)continue e;break e}}p[h++]=v}return p}function zt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wt(){this.__data__=Wl?Wl(null):{},this.size=0}function Yt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ut(e){var t=this.__data__;if(Wl){var n=t[e];return n===ae?ne:n}return sl.call(t,e)?t[e]:ne}function Zt(e){var t=this.__data__;return Wl?t[e]!==ne:sl.call(t,e)}function qt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wl&&t===ne?ae:t,this}function Kt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qt(){this.__data__=[],this.size=0}function Jt(e){var t=this.__data__,n=On(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Tl.call(t,n,1),--this.size,!0}function en(e){var t=this.__data__,n=On(t,e);return n<0?ne:t[n][1]}function tn(e){return On(this.__data__,e)>-1}function nn(e,t){var n=this.__data__,r=On(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function rn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function on(){this.size=0,this.__data__={hash:new zt,map:new(Xl||Kt),string:new zt}}function un(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t}function an(e){return di(this,e).get(e)}function sn(e){return di(this,e).has(e)}function cn(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ln(e){var t=-1,n=e?e.length:0;for(this.__data__=new rn;++t<n;)this.add(e[t])}function fn(e){return this.__data__.set(e,ae),this}function hn(e){return this.__data__.has(e)}function dn(e){var t=this.__data__=new Kt(e);this.size=t.size}function pn(){this.__data__=new Kt,this.size=0}function _n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function vn(e){return this.__data__.get(e)}function mn(e){return this.__data__.has(e)}function yn(e,t){var n=this.__data__;if(n instanceof Kt){var r=n.__data__;if(!Xl||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rn(r)}return n.set(e,t),this.size=n.size,this}function gn(e,t){var n=ah(e)||Da(e)?I(e.length,el):[],r=n.length,o=!!r;for(var i in e)!t&&!sl.call(e,i)||o&&("length"==i||ki(i,r))||n.push(i);return n}function wn(e){var t=e.length;return t?e[Yr(0,t-1)]:ne}function En(e,t){return Xi(Co(e),t)}function bn(e){return Xi(Co(e))}function Tn(e,t,n,r){return e===ne||Ha(e,ol[n])&&!sl.call(r,n)?t:e}function kn(e,t,n){(n===ne||Ha(e[t],n))&&("number"!=typeof t||n!==ne||t in e)||In(e,t,n)}function An(e,t,n){var r=e[t];sl.call(e,t)&&Ha(r,n)&&(n!==ne||t in e)||In(e,t,n)}function On(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function Sn(e,t,n,r){return uf(e,function(e,o,i){t(r,e,n(e),i)}),r}function Ln(e,t){return e&&Bo(t,Is(t),e)}function In(e,t,n){"__proto__"==t&&yl?yl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Cn(e,t){for(var n=-1,r=null==e,o=t.length,i=Yc(o);++n<o;)i[n]=r?ne:Ls(e,t[n]);return i}function Bn(e,t,n){return e===e&&(n!==ne&&(e=e<=n?e:n),t!==ne&&(e=e>=t?e:t)),e}function Mn(e,t,n,r,o,i,u){var s;if(r&&(s=i?r(e,o,i,u):r(e)),s!==ne)return s;if(!Za(e))return e;var c=ah(e);if(c){if(s=gi(e),!t)return Co(e,s)}else{var l=yf(e),f=l==Xe||l==$e;if(ch(e))return wo(e,t);if(l==We||l==Pe||f&&!i){if(s=wi(f?{}:e),!t)return Mo(e,Ln(s,e))}else{if(!Nn[l])return i?e:{};s=Ei(e,l,Mn,t)}}u||(u=new dn);var h=u.get(e);if(h)return h;if(u.set(e,s),!c)var d=n?si(e):Is(e);return a(d||e,function(o,i){d&&(i=o,o=e[i]),An(s,i,Mn(o,t,n,r,i,e,u))}),s}function jn(e){var t=Is(e);return function(n){return Gn(n,e,t)}}function Gn(e,t,n){var r=n.length;if(null==e)return!r;for(e=Qc(e);r--;){var o=n[r],i=t[o],u=e[o];if(u===ne&&!(o in e)||!i(u))return!1}return!0}function Vn(e,t,n){if("function"!=typeof e)throw new tl(ue);return Ef(function(){e.apply(ne,n)},t)}function Xn(e,t,n,r){var o=-1,i=f,u=!0,a=e.length,s=[],c=t.length;if(!a)return s;n&&(t=d(t,B(n))),r?(i=h,u=!1):t.length>=oe&&(i=H,u=!1,t=new ln(t));e:for(;++o<a;){var l=e[o],p=n?n(l):l;if(l=r||0!==l?l:0,u&&p===p){for(var _=c;_--;)if(t[_]===p)continue e;s.push(l)}else i(t,p,r)||s.push(l)}return s}function zn(e,t){var n=!0;return uf(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Wn(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=t(i);if(null!=u&&(a===ne?u===u&&!as(u):n(u,a)))var a=u,s=i}return s}function Un(e,t,n,r){var o=e.length;for(n=ds(n),n<0&&(n=-n>o?0:o+n),r=r===ne||r>o?o:ds(r),r<0&&(r+=o),r=n>r?0:ps(r);n<r;)e[n++]=t;return e}function Zn(e,t){var n=[];return uf(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Kn(e,t,n,r,o){var i=-1,u=e.length;for(n||(n=Ti),o||(o=[]);++i<u;){var a=e[i];t>0&&n(a)?t>1?Kn(a,t-1,n,r,o):p(o,a):r||(o[o.length]=a)}return o}function Qn(e,t){return e&&sf(e,t,Is)}function ir(e,t){return e&&cf(e,t,Is)}function cr(e,t){return l(t,function(t){return Wa(e[t])})}function fr(e,t){t=Oi(t,e)?[t]:yo(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[$i(t[n++])];return n&&n==r?e:ne}function hr(e,t,n){var r=t(e);return ah(e)?r:p(r,n(e))}function dr(e){return fl.call(e)}function pr(e,t){return e>t}function _r(e,t){return null!=e&&sl.call(e,t)}function vr(e,t){return null!=e&&t in Qc(e)}function mr(e,t,n){return e>=Dl(t,n)&&e<Hl(t,n)}function yr(e,t,n){for(var r=n?h:f,o=e[0].length,i=e.length,u=i,a=Yc(i),s=1/0,c=[];u--;){var l=e[u];u&&t&&(l=d(l,B(t))),s=Dl(l.length,s),a[u]=!n&&(t||o>=120&&l.length>=120)?new ln(u&&l):ne}l=e[0];var p=-1,_=a[0];e:for(;++p<o&&c.length<s;){var v=l[p],m=t?t(v):v;if(v=n||0!==v?v:0,!(_?H(_,m):r(c,m,n))){for(u=i;--u;){var y=a[u];if(!(y?H(y,m):r(e[u],m,n)))continue e}_&&_.push(m),c.push(v)}}return c}function gr(e,t,n,r){return Qn(e,function(e,o,i){t(r,n(e),o,i)}),r}function wr(e,t,n){Oi(t,e)||(t=yo(t),e=Ni(e,t),t=fu(t));var r=null==e?e:e[$i(t)];return null==r?ne:i(r,e,n)}function Er(e){return qa(e)&&fl.call(e)==et}function br(e){return qa(e)&&fl.call(e)==Ge}function Tr(e,t,n,r,o){return e===t||(null==e||null==t||!Za(e)&&!qa(t)?e!==e&&t!==t:kr(e,t,Tr,n,r,o))}function kr(e,t,n,r,o,i){var u=ah(e),a=ah(t),s=Ne,c=Ne;u||(s=yf(e),s=s==Pe?We:s),a||(c=yf(t),c=c==Pe?We:c);var l=s==We,f=c==We,h=s==c;if(h&&!l)return i||(i=new dn),u||ph(e)?oi(e,t,n,r,o,i):ii(e,t,s,n,r,o,i);if(!(o&Ee)){var d=l&&sl.call(e,"__wrapped__"),p=f&&sl.call(t,"__wrapped__");if(d||p){var _=d?e.value():e,v=p?t.value():t;return i||(i=new dn),n(_,v,r,o,i)}}return!!h&&(i||(i=new dn),ui(e,t,n,r,o,i))}function Ar(e){return qa(e)&&yf(e)==Fe}function Or(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=Qc(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var s=a[0],c=e[s],l=a[1];if(u&&a[2]){if(c===ne&&!(s in e))return!1}else{var f=new dn;if(r)var h=r(c,l,s,e,t,f);if(!(h===ne?Tr(l,c,r,we|Ee,f):h))return!1}}return!0}function Sr(e){if(!Za(e)||xi(e))return!1;var t=Wa(e)?dl:jt;return t.test(Fi(e))}function Lr(e){return Za(e)&&fl.call(e)==Ue}function xr(e){return qa(e)&&yf(e)==Ze}function Rr(e){return qa(e)&&Ua(e.length)&&!!Pn[fl.call(e)]}function Ir(e){return"function"==typeof e?e:null==e?Ec:"object"==typeof e?ah(e)?Pr(e[0],e[1]):Dr(e):xc(e)}function Cr(e){if(!Ri(e))return Ml(e);var t=[];for(var n in Qc(e))sl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!Za(e))return Di(e);var t=Ri(e),n=[];for(var r in e)("constructor"!=r||!t&&sl.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Hr(e,t){var n=-1,r=Pa(e)?Yc(e.length):[];return uf(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Dr(e){var t=pi(e);return 1==t.length&&t[0][2]?Ci(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Pr(e,t){return Oi(e)&&Ii(t)?Ci($i(e),t):function(n){var r=Ls(n,e);return r===ne&&r===t?Rs(n,e):Tr(t,r,ne,we|Ee)}}function Nr(e,t,n,r,o){if(e!==t){if(!ah(t)&&!ph(t))var i=Br(t);a(i||t,function(u,a){if(i&&(a=u,u=t[a]),Za(u))o||(o=new dn),jr(e,t,a,n,Nr,r,o);else{var s=r?r(e[a],u,a+"",e,t,o):ne;s===ne&&(s=u),kn(e,a,s)}})}}function jr(e,t,n,r,o,i,u){var a=e[n],s=t[n],c=u.get(s);if(c)return void kn(e,n,c);var l=i?i(a,s,n+"",e,t,u):ne,f=l===ne;f&&(l=s,ah(s)||ph(s)?ah(a)?l=a:Na(a)?l=Co(a):(f=!1,l=Mn(s,!0)):os(s)||Da(s)?Da(a)?l=vs(a):!Za(a)||r&&Wa(a)?(f=!1,l=Mn(s,!0)):l=a:f=!1),f&&(u.set(s,l),o(l,s,r,i,u),u.delete(s)),kn(e,n,l)}function Gr(e,t){var n=e.length;if(n)return t+=t<0?n:0,ki(t,n)?e[t]:ne}function Vr(e,t,n){var r=-1;t=d(t.length?t:[Ec],B(hi()));var o=Hr(e,function(e,n,o){var i=d(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return x(o,function(e,t){return xo(e,t,n)})}function Xr(e,t){return e=Qc(e),$r(e,t,function(t,n){return n in e})}function $r(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var u=t[r],a=e[u];n(a,u)&&In(i,u,a)}return i}function Fr(e){return function(t){return fr(t,e)}}function zr(e,t,n,r){var o=r?T:b,i=-1,u=t.length,a=e;for(e===t&&(t=Co(t)),n&&(a=d(e,B(n)));++i<u;)for(var s=0,c=t[i],l=n?n(c):c;(s=o(a,l,s,r))>-1;)a!==e&&Tl.call(a,s,1),Tl.call(e,s,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if(ki(o))Tl.call(e,o,1);else if(Oi(o,e))delete e[$i(o)];else{var u=yo(o),a=Ni(e,u);null!=a&&delete a[$i(fu(u))]}}}return e}function Yr(e,t){return e+xl(jl()*(t-e+1))}function Ur(e,t,n,r){for(var o=-1,i=Hl(Ll((t-e)/(n||1)),0),u=Yc(i);i--;)u[r?i:++o]=e,e+=n;return u}function Zr(e,t){var n="";if(!e||t<1||t>Re)return n;do t%2&&(n+=e),t=xl(t/2),t&&(e+=e);while(t);return n}function qr(e,t){return bf(Pi(e,t,Ec),e+"")}function Kr(e){return wn(Fs(e))}function Qr(e,t){return Xi(Fs(e),t)}function Jr(e,t,n,r){if(!Za(e))return e;t=Oi(t,e)?[t]:yo(t);for(var o=-1,i=t.length,u=i-1,a=e;null!=a&&++o<i;){var s=$i(t[o]),c=n;if(o!=u){var l=a[s];c=r?r(l,s,a):ne,c===ne&&(c=Za(l)?l:ki(t[o+1])?[]:{})}An(a,s,c),a=a[s]}return e}function eo(e){return Xi(Fs(e))}function to(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Yc(o);++r<o;)i[r]=e[r+t];return i}function no(e,t){var n;return uf(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function ro(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&o<=He){for(;r<o;){var i=r+o>>>1,u=e[i];null!==u&&!as(u)&&(n?u<=t:u<t)?r=i+1:o=i}return o}return oo(e,t,Ec,n)}function oo(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,u=t!==t,a=null===t,s=as(t),c=t===ne;o<i;){var l=xl((o+i)/2),f=n(e[l]),h=f!==ne,d=null===f,p=f===f,_=as(f);if(u)var v=r||p;else v=c?p&&(r||h):a?p&&h&&(r||!d):s?p&&h&&!d&&(r||!_):!d&&!_&&(r?f<=t:f<t);v?o=l+1:i=l}return Dl(i,Me)}function io(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!Ha(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function uo(e){return"number"==typeof e?e:as(e)?Ce:+e}function ao(e){if("string"==typeof e)return e;if(as(e))return rf?rf.call(e):"";var t=e+"";return"0"==t&&1/e==-xe?"-0":t}function so(e,t,n){var r=-1,o=f,i=e.length,u=!0,a=[],s=a;if(n)u=!1,o=h;else if(i>=oe){var c=t?null:pf(e);if(c)return Y(c);u=!1,o=H,s=new ln}else s=t?[]:a;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,u&&d===d){for(var p=s.length;p--;)if(s[p]===d)continue e;t&&s.push(d),a.push(l)}else o(s,d,n)||(s!==a&&s.push(d),a.push(l))}return a}function co(e,t){t=Oi(t,e)?[t]:yo(t),e=Ni(e,t);var n=$i(fu(t));return!(null!=e&&sl.call(e,n))||delete e[n]}function lo(e,t,n,r){return Jr(e,t,n(fr(e,t)),r)}function fo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?to(e,r?0:i,r?i+1:o):to(e,r?i+1:0,r?o:i)}function ho(e,t){var n=e;return n instanceof Z&&(n=n.value()),_(t,function(e,t){return t.func.apply(t.thisArg,p([e],t.args))},n)}function po(e,t,n){for(var r=-1,o=e.length;++r<o;)var i=i?p(Xn(i,e[r],t,n),Xn(e[r],i,t,n)):e[r];return i&&i.length?so(i,t,n):[]}function _o(e,t,n){for(var r=-1,o=e.length,i=t.length,u={};++r<o;){var a=r<i?t[r]:ne;n(u,e[r],a)}return u}function vo(e){return Na(e)?e:[]}function mo(e){return"function"==typeof e?e:Ec}function yo(e){return ah(e)?e:Tf(e)}function go(e,t,n){var r=e.length;return n=n===ne?r:n,!t&&n>=r?e:to(e,t,n)}function wo(e,t){if(t)return e.slice();var n=e.length,r=ml?ml(n):new e.constructor(n);return e.copy(r),r}function Eo(e){
var t=new e.constructor(e.byteLength);return new vl(t).set(new vl(e)),t}function bo(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function To(e,t,n){var o=t?n(F(e),!0):F(e);return _(o,r,new e.constructor)}function ko(e){var t=new e.constructor(e.source,Dt.exec(e));return t.lastIndex=e.lastIndex,t}function Ao(e,t,n){var r=t?n(Y(e),!0):Y(e);return _(r,o,new e.constructor)}function Oo(e){return nf?Qc(nf.call(e)):{}}function So(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Lo(e,t){if(e!==t){var n=e!==ne,r=null===e,o=e===e,i=as(e),u=t!==ne,a=null===t,s=t===t,c=as(t);if(!a&&!c&&!i&&e>t||i&&u&&s&&!a&&!c||r&&u&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!s)return-1}return 0}function xo(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,u=o.length,a=n.length;++r<u;){var s=Lo(o[r],i[r]);if(s){if(r>=a)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}function Ro(e,t,n,r){for(var o=-1,i=e.length,u=n.length,a=-1,s=t.length,c=Hl(i-u,0),l=Yc(s+c),f=!r;++a<s;)l[a]=t[a];for(;++o<u;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[a++]=e[o++];return l}function Io(e,t,n,r){for(var o=-1,i=e.length,u=-1,a=n.length,s=-1,c=t.length,l=Hl(i-a,0),f=Yc(l+c),h=!r;++o<l;)f[o]=e[o];for(var d=o;++s<c;)f[d+s]=t[s];for(;++u<a;)(h||o<i)&&(f[d+n[u]]=e[o++]);return f}function Co(e,t){var n=-1,r=e.length;for(t||(t=Yc(r));++n<r;)t[n]=e[n];return t}function Bo(e,t,n,r){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var a=t[i],s=r?r(n[a],e[a],a,n,e):ne;s===ne&&(s=e[a]),o?In(n,a,s):An(n,a,s)}return n}function Mo(e,t){return Bo(e,vf(e),t)}function Ho(e,t){return function(n,r){var o=ah(n)?u:Sn,i=t?t():{};return o(n,e,hi(r,2),i)}}function Do(e){return qr(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:ne,u=o>2?n[2]:ne;for(i=e.length>3&&"function"==typeof i?(o--,i):ne,u&&Ai(n[0],n[1],u)&&(i=o<3?ne:i,o=1),t=Qc(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}function Po(e,t){return function(n,r){if(null==n)return n;if(!Pa(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=Qc(n);(t?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function No(e){return function(t,n,r){for(var o=-1,i=Qc(t),u=r(t),a=u.length;a--;){var s=u[e?a:++o];if(n(i[s],s,i)===!1)break}return t}}function jo(e,t,n){function r(){var t=this&&this!==Yn&&this instanceof r?i:e;return t.apply(o?n:this,arguments)}var o=t&le,i=Xo(e);return r}function Go(e){return function(t){t=ys(t);var n=V(t)?Q(t):ne,r=n?n[0]:t.charAt(0),o=n?go(n,1).join(""):t.slice(1);return r[e]()+o}}function Vo(e){return function(t){return _(vc(qs(t).replace(xn,"")),e,"")}}function Xo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=of(e.prototype),r=e.apply(n,t);return Za(r)?r:n}}function $o(e,t,n){function r(){for(var u=arguments.length,a=Yc(u),s=u,c=fi(r);s--;)a[s]=arguments[s];var l=u<3&&a[0]!==c&&a[u-1]!==c?[]:W(a,c);if(u-=l.length,u<n)return ei(e,t,Wo,r.placeholder,ne,a,l,ne,ne,n-u);var f=this&&this!==Yn&&this instanceof r?o:e;return i(f,this,a)}var o=Xo(e);return r}function Fo(e){return function(t,n,r){var o=Qc(t);if(!Pa(t)){var i=hi(n,3);t=Is(t),n=function(e){return i(o[e],e,o)}}var u=e(t,n,r);return u>-1?o[i?t[u]:u]:ne}}function zo(e){return ai(function(t){var n=t.length,r=n,o=S.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new tl(ue);if(o&&!u&&"wrapper"==li(i))var u=new S([],(!0))}for(r=u?r:n;++r<n;){i=t[r];var a=li(i),s="wrapper"==a?_f(i):ne;u=s&&Li(s[0])&&s[1]==(me|de|_e|ye)&&!s[4].length&&1==s[9]?u[li(s[0])].apply(u,s[3]):1==i.length&&Li(i)?u[a]():u.thru(i)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&ah(r)&&r.length>=oe)return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Wo(e,t,n,r,o,i,u,a,s,c){function l(){for(var m=arguments.length,y=Yc(m),g=m;g--;)y[g]=arguments[g];if(p)var w=fi(l),E=N(y,w);if(r&&(y=Ro(y,r,o,p)),i&&(y=Io(y,i,u,p)),m-=E,p&&m<c){var b=W(y,w);return ei(e,t,Wo,l.placeholder,n,y,b,a,s,c-m)}var T=h?n:this,k=d?T[e]:e;return m=y.length,a?y=ji(y,a):_&&m>1&&y.reverse(),f&&s<m&&(y.length=s),this&&this!==Yn&&this instanceof l&&(k=v||Xo(k)),k.apply(T,y)}var f=t&me,h=t&le,d=t&fe,p=t&(de|pe),_=t&ge,v=d?ne:Xo(e);return l}function Yo(e,t){return function(n,r){return gr(n,e,t(r),{})}}function Uo(e,t){return function(n,r){var o;if(n===ne&&r===ne)return t;if(n!==ne&&(o=n),r!==ne){if(o===ne)return r;"string"==typeof n||"string"==typeof r?(n=ao(n),r=ao(r)):(n=uo(n),r=uo(r)),o=e(n,r)}return o}}function Zo(e){return ai(function(t){return t=d(t,B(hi())),qr(function(n){var r=this;return e(t,function(e){return i(e,r,n)})})})}function qo(e,t){t=t===ne?" ":ao(t);var n=t.length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,Ll(e/K(t)));return V(t)?go(Q(r),0,e).join(""):r.slice(0,e)}function Ko(e,t,n,r){function o(){for(var t=-1,s=arguments.length,c=-1,l=r.length,f=Yc(l+s),h=this&&this!==Yn&&this instanceof o?a:e;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++t];return i(h,u?n:this,f)}var u=t&le,a=Xo(e);return o}function Qo(e){return function(t,n,r){return r&&"number"!=typeof r&&Ai(t,n,r)&&(n=r=ne),t=hs(t),n===ne?(n=t,t=0):n=hs(n),r=r===ne?t<n?1:-1:hs(r),Ur(t,n,r,e)}}function Jo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_s(t),n=_s(n)),e(t,n)}}function ei(e,t,n,r,o,i,u,a,s,c){var l=t&de,f=l?u:ne,h=l?ne:u,d=l?i:ne,p=l?ne:i;t|=l?_e:ve,t&=~(l?ve:_e),t&he||(t&=~(le|fe));var _=[e,t,o,d,f,p,h,a,s,c],v=n.apply(ne,_);return Li(e)&&wf(v,_),v.placeholder=r,Gi(v,e,t)}function ti(e){var t=Kc[e];return function(e,n){if(e=_s(e),n=Dl(ds(n),292)){var r=(ys(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(ys(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function ni(e){return function(t){var n=yf(t);return n==Fe?F(t):n==Ze?U(t):C(t,e(t))}}function ri(e,t,n,r,o,i,u,a){var s=t&fe;if(!s&&"function"!=typeof e)throw new tl(ue);var c=r?r.length:0;if(c||(t&=~(_e|ve),r=o=ne),u=u===ne?u:Hl(ds(u),0),a=a===ne?a:ds(a),c-=o?o.length:0,t&ve){var l=r,f=o;r=o=ne}var h=s?ne:_f(e),d=[e,t,n,r,o,l,f,i,u,a];if(h&&Mi(d,h),e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],a=d[9]=null==d[9]?s?0:e.length:Hl(d[9]-c,0),!a&&t&(de|pe)&&(t&=~(de|pe)),t&&t!=le)p=t==de||t==pe?$o(e,t,a):t!=_e&&t!=(le|_e)||o.length?Wo.apply(ne,d):Ko(e,t,n,r);else var p=jo(e,t,n);var _=h?lf:wf;return Gi(_(p,d),e,t)}function oi(e,t,n,r,o,i){var u=o&Ee,a=e.length,s=t.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,h=o&we?new ln:ne;for(i.set(e,t),i.set(t,e);++l<a;){var d=e[l],p=t[l];if(r)var _=u?r(p,d,l,t,e,i):r(d,p,l,e,t,i);if(_!==ne){if(_)continue;f=!1;break}if(h){if(!m(t,function(e,t){if(!H(h,t)&&(d===e||n(d,e,r,o,i)))return h.push(t)})){f=!1;break}}else if(d!==p&&!n(d,p,r,o,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function ii(e,t,n,r,o,i,u){switch(n){case tt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case et:return!(e.byteLength!=t.byteLength||!r(new vl(e),new vl(t)));case je:case Ge:case ze:return Ha(+e,+t);case Ve:return e.name==t.name&&e.message==t.message;case Ue:case qe:return e==t+"";case Fe:var a=F;case Ze:var s=i&Ee;if(a||(a=Y),e.size!=t.size&&!s)return!1;var c=u.get(e);if(c)return c==t;i|=we,u.set(e,t);var l=oi(a(e),a(t),r,o,i,u);return u.delete(e),l;case Ke:if(nf)return nf.call(e)==nf.call(t)}return!1}function ui(e,t,n,r,o,i){var u=o&Ee,a=Is(e),s=a.length,c=Is(t),l=c.length;if(s!=l&&!u)return!1;for(var f=s;f--;){var h=a[f];if(!(u?h in t:sl.call(t,h)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var _=u;++f<s;){h=a[f];var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,i):r(v,m,h,e,t,i);if(!(y===ne?v===m||n(v,m,r,o,i):y)){p=!1;break}_||(_="constructor"==h)}if(p&&!_){var g=e.constructor,w=t.constructor;g!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}function ai(e){return bf(Pi(e,ne,ru),e+"")}function si(e){return hr(e,Is,vf)}function ci(e){return hr(e,Cs,mf)}function li(e){for(var t=e.name+"",n=Zl[t],r=sl.call(Zl,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function fi(e){var t=sl.call(n,"placeholder")?n:e;return t.placeholder}function hi(){var e=n.iteratee||bc;return e=e===bc?Ir:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n=e.__data__;return Si(t)?n["string"==typeof t?"string":"hash"]:n.map}function pi(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ii(o)]}return t}function _i(e,t){var n=G(e,t);return Sr(n)?n:ne}function vi(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=Dl(t,e+u);break;case"takeRight":e=Hl(e,t-u)}}return{start:e,end:t}}function mi(e){var t=e.match(It);return t?t[1].split(Ct):[]}function yi(e,t,n){t=Oi(t,e)?[t]:yo(t);for(var r=-1,o=t.length,i=!1;++r<o;){var u=$i(t[r]);if(!(i=null!=e&&n(e,u)))break;e=e[u]}return i||++r!=o?i:(o=e?e.length:0,!!o&&Ua(o)&&ki(u,o)&&(ah(e)||Da(e)))}function gi(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&sl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function wi(e){return"function"!=typeof e.constructor||Ri(e)?{}:of(gl(e))}function Ei(e,t,n,r){var o=e.constructor;switch(t){case et:return Eo(e);case je:case Ge:return new o((+e));case tt:return bo(e,r);case nt:case rt:case ot:case it:case ut:case at:case st:case ct:case lt:return So(e,r);case Fe:return To(e,r,n);case ze:case qe:return new o(e);case Ue:return ko(e);case Ze:return Ao(e,r,n);case Ke:return Oo(e)}}function bi(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Rt,"{\n/* [wrapped with "+t+"] */\n")}function Ti(e){return ah(e)||Da(e)||!!(kl&&e&&e[kl])}function ki(e,t){return t=null==t?Re:t,!!t&&("number"==typeof e||Vt.test(e))&&e>-1&&e%1==0&&e<t}function Ai(e,t,n){if(!Za(n))return!1;var r=typeof t;return!!("number"==r?Pa(n)&&ki(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function Oi(e,t){if(ah(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!as(e))||(bt.test(e)||!Et.test(e)||null!=t&&e in Qc(t))}function Si(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Li(e){var t=li(e),r=n[t];if("function"!=typeof r||!(t in Z.prototype))return!1;if(e===r)return!0;var o=_f(r);return!!o&&e===o[0]}function xi(e){return!!ul&&ul in e}function Ri(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ol;return e===n}function Ii(e){return e===e&&!Za(e)}function Ci(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ne||e in Qc(n)))}}function Bi(e){var t=Ea(e,function(e){return n.size===se&&n.clear(),e}),n=t.cache;return t}function Mi(e,t){var n=e[1],r=t[1],o=n|r,i=o<(le|fe|me),u=r==me&&n==de||r==me&&n==ye&&e[7].length<=t[8]||r==(me|ye)&&t[7].length<=t[8]&&n==de;if(!i&&!u)return e;r&le&&(e[2]=t[2],o|=n&le?0:he);var a=t[3];if(a){var s=e[3];e[3]=s?Ro(s,a,t[4]):a,e[4]=s?W(e[3],ce):t[4]}return a=t[5],a&&(s=e[5],e[5]=s?Io(s,a,t[6]):a,e[6]=s?W(e[5],ce):t[6]),a=t[7],a&&(e[7]=a),r&me&&(e[8]=null==e[8]?t[8]:Dl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Hi(e,t,n,r,o,i){return Za(e)&&Za(t)&&(i.set(t,e),Nr(e,t,ne,Hi,i),i.delete(t)),e}function Di(e){var t=[];if(null!=e)for(var n in Qc(e))t.push(n);return t}function Pi(e,t,n){return t=Hl(t===ne?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=Hl(r.length-t,0),a=Yc(u);++o<u;)a[o]=r[t+o];o=-1;for(var s=Yc(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),i(e,this,s)}}function Ni(e,t){return 1==t.length?e:fr(e,to(t,0,-1))}function ji(e,t){for(var n=e.length,r=Dl(t.length,n),o=Co(e);r--;){var i=t[r];e[r]=ki(i,n)?o[i]:ne}return e}function Gi(e,t,n){var r=t+"";return bf(e,bi(r,zi(mi(r),n)))}function Vi(e){var t=0,n=0;return function(){var r=Pl(),o=Ae-(r-n);if(n=r,o>0){if(++t>=ke)return arguments[0]}else t=0;return e.apply(ne,arguments)}}function Xi(e,t){var n=-1,r=e.length,o=r-1;for(t=t===ne?r:Bn(t,0,r);++n<t;){var i=Yr(n,o),u=e[i];e[i]=e[n],e[n]=u}return e.length=t,e}function $i(e){if("string"==typeof e||as(e))return e;var t=e+"";return"0"==t&&1/e==-xe?"-0":t}function Fi(e){if(null!=e){try{return al.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function zi(e,t){return a(De,function(n){var r="_."+n[0];t&n[1]&&!f(e,r)&&e.push(r)}),e.sort()}function Wi(e){if(e instanceof Z)return e.clone();var t=new S(e.__wrapped__,e.__chain__);return t.__actions__=Co(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Yi(e,t,n){t=(n?Ai(e,t,n):t===ne)?1:Hl(ds(t),0);var r=e?e.length:0;if(!r||t<1)return[];for(var o=0,i=0,u=Yc(Ll(r/t));o<r;)u[i++]=to(e,o,o+=t);return u}function Ui(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function Zi(){var e=arguments.length;if(!e)return[];for(var t=Yc(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return p(ah(n)?Co(n):[n],Kn(t,1))}function qi(e,t,n){var r=e?e.length:0;return r?(t=n||t===ne?1:ds(t),to(e,t<0?0:t,r)):[]}function Ki(e,t,n){var r=e?e.length:0;return r?(t=n||t===ne?1:ds(t),t=r-t,to(e,0,t<0?0:t)):[]}function Qi(e,t){return e&&e.length?fo(e,hi(t,3),!0,!0):[]}function Ji(e,t){return e&&e.length?fo(e,hi(t,3),!0):[]}function eu(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Ai(e,t,n)&&(n=0,r=o),Un(e,t,n,r)):[]}function tu(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:ds(n);return o<0&&(o=Hl(r+o,0)),E(e,hi(t,3),o)}function nu(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r-1;return n!==ne&&(o=ds(n),o=n<0?Hl(r+o,0):Dl(o,r-1)),E(e,hi(t,3),o,!0)}function ru(e){var t=e?e.length:0;return t?Kn(e,1):[]}function ou(e){var t=e?e.length:0;return t?Kn(e,xe):[]}function iu(e,t){var n=e?e.length:0;return n?(t=t===ne?1:ds(t),Kn(e,t)):[]}function uu(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function au(e){return e&&e.length?e[0]:ne}function su(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:ds(n);return o<0&&(o=Hl(r+o,0)),b(e,t,o)}function cu(e){var t=e?e.length:0;return t?to(e,0,-1):[]}function lu(e,t){return e?Bl.call(e,t):""}function fu(e){var t=e?e.length:0;return t?e[t-1]:ne}function hu(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;return n!==ne&&(o=ds(n),o=o<0?Hl(r+o,0):Dl(o,r-1)),t===t?q(e,t,o):E(e,k,o,!0)}function du(e,t){return e&&e.length?Gr(e,ds(t)):ne}function pu(e,t){return e&&e.length&&t&&t.length?zr(e,t):e}function _u(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,hi(n,2)):e}function vu(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,ne,n):e}function mu(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=hi(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return Wr(e,o),n}function yu(e){return e?Gl.call(e):e}function gu(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Ai(e,t,n)?(t=0,n=r):(t=null==t?0:ds(t),n=n===ne?r:ds(n)),to(e,t,n)):[]}function wu(e,t){return ro(e,t)}function Eu(e,t,n){return oo(e,t,hi(n,2))}function bu(e,t){var n=e?e.length:0;if(n){var r=ro(e,t);if(r<n&&Ha(e[r],t))return r}return-1}function Tu(e,t){return ro(e,t,!0)}function ku(e,t,n){return oo(e,t,hi(n,2),!0)}function Au(e,t){var n=e?e.length:0;if(n){var r=ro(e,t,!0)-1;if(Ha(e[r],t))return r}return-1}function Ou(e){return e&&e.length?io(e):[]}function Su(e,t){return e&&e.length?io(e,hi(t,2)):[]}function Lu(e){var t=e?e.length:0;return t?to(e,1,t):[]}function xu(e,t,n){return e&&e.length?(t=n||t===ne?1:ds(t),to(e,0,t<0?0:t)):[]}function Ru(e,t,n){var r=e?e.length:0;return r?(t=n||t===ne?1:ds(t),t=r-t,to(e,t<0?0:t,r)):[]}function Iu(e,t){return e&&e.length?fo(e,hi(t,3),!1,!0):[]}function Cu(e,t){return e&&e.length?fo(e,hi(t,3)):[]}function Bu(e){return e&&e.length?so(e):[]}function Mu(e,t){return e&&e.length?so(e,hi(t,2)):[]}function Hu(e,t){return e&&e.length?so(e,ne,t):[]}function Du(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){if(Na(e))return t=Hl(e.length,t),!0}),I(t,function(t){return d(e,O(t))})}function Pu(e,t){if(!e||!e.length)return[];var n=Du(e);return null==t?n:d(n,function(e){return i(t,ne,e)})}function Nu(e,t){return _o(e||[],t||[],An)}function ju(e,t){return _o(e||[],t||[],Jr)}function Gu(e){var t=n(e);return t.__chain__=!0,t}function Vu(e,t){return t(e),e}function Xu(e,t){return t(e)}function $u(){return Gu(this)}function Fu(){return new S(this.value(),this.__chain__)}function zu(){this.__values__===ne&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length,t=e?ne:this.__values__[this.__index__++];return{done:e,value:t}}function Wu(){return this}function Yu(e){for(var t,n=this;n instanceof y;){var r=Wi(n);r.__index__=0,r.__values__=ne,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function Uu(){var e=this.__wrapped__;if(e instanceof Z){var t=e;return this.__actions__.length&&(t=new Z(this)),t=t.reverse(),t.__actions__.push({func:Xu,args:[yu],thisArg:ne}),new S(t,this.__chain__)}return this.thru(yu)}function Zu(){return ho(this.__wrapped__,this.__actions__)}function qu(e,t,n){var r=ah(e)?c:zn;return n&&Ai(e,t,n)&&(t=ne),r(e,hi(t,3))}function Ku(e,t){var n=ah(e)?l:Zn;return n(e,hi(t,3))}function Qu(e,t){return Kn(oa(e,t),1)}function Ju(e,t){return Kn(oa(e,t),xe)}function ea(e,t,n){return n=n===ne?1:ds(n),Kn(oa(e,t),n)}function ta(e,t){var n=ah(e)?a:uf;return n(e,hi(t,3))}function na(e,t){var n=ah(e)?s:af;return n(e,hi(t,3))}function ra(e,t,n,r){e=Pa(e)?e:Fs(e),n=n&&!r?ds(n):0;var o=e.length;return n<0&&(n=Hl(o+n,0)),us(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&b(e,t,n)>-1}function oa(e,t){var n=ah(e)?d:Hr;return n(e,hi(t,3))}function ia(e,t,n,r){return null==e?[]:(ah(t)||(t=null==t?[]:[t]),n=r?ne:n,ah(n)||(n=null==n?[]:[n]),Vr(e,t,n))}function ua(e,t,n){var r=ah(e)?_:L,o=arguments.length<3;return r(e,hi(t,4),n,o,uf)}function aa(e,t,n){var r=ah(e)?v:L,o=arguments.length<3;return r(e,hi(t,4),n,o,af)}function sa(e,t){var n=ah(e)?l:Zn;return n(e,ba(hi(t,3)))}function ca(e){var t=ah(e)?wn:Kr;return t(e)}function la(e,t,n){t=(n?Ai(e,t,n):t===ne)?1:ds(t);var r=ah(e)?En:Qr;return r(e,t)}function fa(e){var t=ah(e)?bn:eo;return t(e)}function ha(e){if(null==e)return 0;if(Pa(e))return us(e)?K(e):e.length;var t=yf(e);return t==Fe||t==Ze?e.size:Cr(e).length}function da(e,t,n){var r=ah(e)?m:no;return n&&Ai(e,t,n)&&(t=ne),r(e,hi(t,3))}function pa(e,t){if("function"!=typeof t)throw new tl(ue);return e=ds(e),function(){if(--e<1)return t.apply(this,arguments)}}function _a(e,t,n){return t=n?ne:t,t=e&&null==t?e.length:t,ri(e,me,ne,ne,ne,ne,t)}function va(e,t){var n;if("function"!=typeof t)throw new tl(ue);return e=ds(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ne),n}}function ma(e,t,n){t=n?ne:t;var r=ri(e,de,ne,ne,ne,ne,ne,t);return r.placeholder=ma.placeholder,r}function ya(e,t,n){t=n?ne:t;var r=ri(e,pe,ne,ne,ne,ne,ne,t);return r.placeholder=ya.placeholder,r}function ga(e,t,n){function r(t){var n=h,r=d;return h=d=ne,y=t,_=e.apply(r,n)}function o(e){return y=e,v=Ef(a,t),g?r(e):_}function i(e){var n=e-m,r=e-y,o=t-n;return w?Dl(o,p-r):o}function u(e){var n=e-m,r=e-y;return m===ne||n>=t||n<0||w&&r>=p}function a(){var e=qf();return u(e)?s(e):void(v=Ef(a,i(e)))}function s(e){return v=ne,E&&h?r(e):(h=d=ne,_)}function c(){v!==ne&&df(v),y=0,h=m=d=v=ne}function l(){return v===ne?_:s(qf())}function f(){var e=qf(),n=u(e);if(h=arguments,d=this,m=e,n){if(v===ne)return o(m);if(w)return v=Ef(a,t),r(m)}return v===ne&&(v=Ef(a,t)),_}var h,d,p,_,v,m,y=0,g=!1,w=!1,E=!0;if("function"!=typeof e)throw new tl(ue);return t=_s(t)||0,Za(n)&&(g=!!n.leading,w="maxWait"in n,p=w?Hl(_s(n.maxWait)||0,t):p,E="trailing"in n?!!n.trailing:E),f.cancel=c,f.flush=l,f}function wa(e){return ri(e,ge)}function Ea(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new tl(ue);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=e.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(Ea.Cache||rn),n}function ba(e){if("function"!=typeof e)throw new tl(ue);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ta(e){return va(2,e)}function ka(e,t){if("function"!=typeof e)throw new tl(ue);return t=t===ne?t:ds(t),qr(e,t)}function Aa(e,t){if("function"!=typeof e)throw new tl(ue);return t=t===ne?0:Hl(ds(t),0),qr(function(n){var r=n[t],o=go(n,0,t);return r&&p(o,r),i(e,this,o)})}function Oa(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new tl(ue);return Za(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ga(e,t,{leading:r,maxWait:t,trailing:o})}function Sa(e){return _a(e,1)}function La(e,t){return t=null==t?Ec:t,nh(t,e)}function xa(){if(!arguments.length)return[];var e=arguments[0];return ah(e)?e:[e]}function Ra(e){return Mn(e,!1,!0)}function Ia(e,t){return Mn(e,!1,!0,t)}function Ca(e){return Mn(e,!0,!0)}function Ba(e,t){return Mn(e,!0,!0,t)}function Ma(e,t){return null==t||Gn(e,t,Is(t))}function Ha(e,t){return e===t||e!==e&&t!==t}function Da(e){return Na(e)&&sl.call(e,"callee")&&(!bl.call(e,"callee")||fl.call(e)==Pe)}function Pa(e){return null!=e&&Ua(e.length)&&!Wa(e)}function Na(e){return qa(e)&&Pa(e)}function ja(e){return e===!0||e===!1||qa(e)&&fl.call(e)==je}function Ga(e){return null!=e&&1===e.nodeType&&qa(e)&&!os(e)}function Va(e){if(Pa(e)&&(ah(e)||"string"==typeof e||"function"==typeof e.splice||ch(e)||Da(e)))return!e.length;var t=yf(e);if(t==Fe||t==Ze)return!e.size;if(Ri(e))return!Ml(e).length;for(var n in e)if(sl.call(e,n))return!1;return!0}function Xa(e,t){return Tr(e,t)}function $a(e,t,n){n="function"==typeof n?n:ne;var r=n?n(e,t):ne;return r===ne?Tr(e,t,n):!!r}function Fa(e){return!!qa(e)&&(fl.call(e)==Ve||"string"==typeof e.message&&"string"==typeof e.name)}function za(e){return"number"==typeof e&&Cl(e)}function Wa(e){var t=Za(e)?fl.call(e):"";return t==Xe||t==$e}function Ya(e){return"number"==typeof e&&e==ds(e)}function Ua(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Re}function Za(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qa(e){return null!=e&&"object"==typeof e}function Ka(e,t){return e===t||Or(e,t,pi(t))}function Qa(e,t,n){return n="function"==typeof n?n:ne,Or(e,t,pi(t),n)}function Ja(e){return rs(e)&&e!=+e}function es(e){if(gf(e))throw new Zc(ie);return Sr(e)}function ts(e){return null===e}function ns(e){return null==e}function rs(e){return"number"==typeof e||qa(e)&&fl.call(e)==ze}function os(e){if(!qa(e)||fl.call(e)!=We)return!1;var t=gl(e);if(null===t)return!0;var n=sl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&al.call(n)==ll}function is(e){return Ya(e)&&e>=-Re&&e<=Re}function us(e){return"string"==typeof e||!ah(e)&&qa(e)&&fl.call(e)==qe}function as(e){return"symbol"==typeof e||qa(e)&&fl.call(e)==Ke}function ss(e){return e===ne}function cs(e){return qa(e)&&yf(e)==Qe}function ls(e){return qa(e)&&fl.call(e)==Je}function fs(e){if(!e)return[];if(Pa(e))return us(e)?Q(e):Co(e);if(wl&&e[wl])return $(e[wl]());var t=yf(e),n=t==Fe?F:t==Ze?Y:Fs;return n(e)}function hs(e){if(!e)return 0===e?e:0;if(e=_s(e),e===xe||e===-xe){var t=e<0?-1:1;return t*Ie}return e===e?e:0}function ds(e){var t=hs(e),n=t%1;return t===t?n?t-n:t:0}function ps(e){return e?Bn(ds(e),0,Be):0}function _s(e){if("number"==typeof e)return e;if(as(e))return Ce;if(Za(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Za(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(St,"");var n=Nt.test(e);return n||Gt.test(e)?Fn(e.slice(2),n?2:8):Pt.test(e)?Ce:+e}function vs(e){return Bo(e,Cs(e))}function ms(e){return Bn(ds(e),-Re,Re)}function ys(e){return null==e?"":ao(e)}function gs(e,t){var n=of(e);return t?Ln(n,t):n}function ws(e,t){return w(e,hi(t,3),Qn)}function Es(e,t){return w(e,hi(t,3),ir)}function bs(e,t){return null==e?e:sf(e,hi(t,3),Cs)}function Ts(e,t){return null==e?e:cf(e,hi(t,3),Cs)}function ks(e,t){return e&&Qn(e,hi(t,3))}function As(e,t){return e&&ir(e,hi(t,3))}function Os(e){return null==e?[]:cr(e,Is(e))}function Ss(e){return null==e?[]:cr(e,Cs(e))}function Ls(e,t,n){var r=null==e?ne:fr(e,t);return r===ne?n:r}function xs(e,t){return null!=e&&yi(e,t,_r)}function Rs(e,t){return null!=e&&yi(e,t,vr)}function Is(e){return Pa(e)?gn(e):Cr(e)}function Cs(e){return Pa(e)?gn(e,!0):Br(e)}function Bs(e,t){var n={};return t=hi(t,3),Qn(e,function(e,r,o){In(n,t(e,r,o),e)}),n}function Ms(e,t){var n={};return t=hi(t,3),Qn(e,function(e,r,o){In(n,r,t(e,r,o))}),n}function Hs(e,t){return Ds(e,ba(hi(t)))}function Ds(e,t){return null==e?{}:$r(e,ci(e),hi(t))}function Ps(e,t,n){t=Oi(t,e)?[t]:yo(t);var r=-1,o=t.length;for(o||(e=ne,o=1);++r<o;){var i=null==e?ne:e[$i(t[r])];i===ne&&(r=o,i=n),e=Wa(i)?i.call(e):i}return e}function Ns(e,t,n){return null==e?e:Jr(e,t,n)}function js(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:Jr(e,t,n,r)}function Gs(e,t,n){var r=ah(e)||ph(e);if(t=hi(t,4),null==n)if(r||Za(e)){var o=e.constructor;n=r?ah(e)?new o:[]:Wa(o)?of(gl(e)):{}}else n={};return(r?a:Qn)(e,function(e,r,o){return t(n,e,r,o)}),n}function Vs(e,t){return null==e||co(e,t)}function Xs(e,t,n){return null==e?e:lo(e,t,mo(n))}function $s(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:lo(e,t,mo(n),r)}function Fs(e){return e?M(e,Is(e)):[]}function zs(e){return null==e?[]:M(e,Cs(e))}function Ws(e,t,n){return n===ne&&(n=t,t=ne),n!==ne&&(n=_s(n),n=n===n?n:0),t!==ne&&(t=_s(t),t=t===t?t:0),Bn(_s(e),t,n)}function Ys(e,t,n){return t=hs(t),n===ne?(n=t,t=0):n=hs(n),e=_s(e),mr(e,t,n)}function Us(e,t,n){if(n&&"boolean"!=typeof n&&Ai(e,t,n)&&(t=n=ne),n===ne&&("boolean"==typeof t?(n=t,t=ne):"boolean"==typeof e&&(n=e,e=ne)),e===ne&&t===ne?(e=0,t=1):(e=hs(e),t===ne?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=jl();return Dl(e+o*(t-e+$n("1e-"+((o+"").length-1))),t)}return Yr(e,t)}function Zs(e){return Gh(ys(e).toLowerCase())}function qs(e){return e=ys(e),e&&e.replace(Xt,ur).replace(Rn,"")}function Ks(e,t,n){e=ys(e),t=ao(t);var r=e.length;n=n===ne?r:Bn(ds(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function Qs(e){return e=ys(e),e&&mt.test(e)?e.replace(_t,ar):e}function Js(e){return e=ys(e),e&&Ot.test(e)?e.replace(At,"\\$&"):e}function ec(e,t,n){e=ys(e),t=ds(t);var r=t?K(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return qo(xl(o),n)+e+qo(Ll(o),n)}function tc(e,t,n){e=ys(e),t=ds(t);var r=t?K(e):0;return t&&r<t?e+qo(t-r,n):e}function nc(e,t,n){e=ys(e),t=ds(t);var r=t?K(e):0;return t&&r<t?qo(t-r,n)+e:e}function rc(e,t,n){return n||null==t?t=0:t&&(t=+t),Nl(ys(e).replace(Lt,""),t||0)}function oc(e,t,n){return t=(n?Ai(e,t,n):t===ne)?1:ds(t),Zr(ys(e),t)}function ic(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function uc(e,t,n){return n&&"number"!=typeof n&&Ai(e,t,n)&&(t=n=ne),(n=n===ne?Be:n>>>0)?(e=ys(e),e&&("string"==typeof t||null!=t&&!hh(t))&&(t=ao(t),!t&&V(e))?go(Q(e),0,n):e.split(t,n)):[]}function ac(e,t,n){return e=ys(e),n=Bn(ds(n),0,e.length),t=ao(t),e.slice(n,n+t.length)==t}function sc(e,t,r){var o=n.templateSettings;r&&Ai(e,t,r)&&(t=ne),e=ys(e),t=gh({},t,o,Tn);var i,u,a=gh({},t.imports,o.imports,Tn),s=Is(a),c=M(a,s),l=0,f=t.interpolate||$t,h="__p += '",d=Jc((t.escape||$t).source+"|"+f.source+"|"+(f===wt?Ht:$t).source+"|"+(t.evaluate||$t).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Dn+"]")+"\n";e.replace(d,function(t,n,r,o,a,s){return r||(r=o),h+=e.slice(l,s).replace(Ft,j),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),h+="';\n";var _=t.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(ft,""):h).replace(ht,"$1").replace(dt,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Vh(function(){return qc(s,p+"return "+h).apply(ne,c)});if(v.source=h,Fa(v))throw v;return v}function cc(e){return ys(e).toLowerCase()}function lc(e){return ys(e).toUpperCase()}function fc(e,t,n){if(e=ys(e),e&&(n||t===ne))return e.replace(St,"");if(!e||!(t=ao(t)))return e;var r=Q(e),o=Q(t),i=D(r,o),u=P(r,o)+1;return go(r,i,u).join("")}function hc(e,t,n){if(e=ys(e),e&&(n||t===ne))return e.replace(xt,"");if(!e||!(t=ao(t)))return e;var r=Q(e),o=P(r,Q(t))+1;return go(r,0,o).join("")}function dc(e,t,n){if(e=ys(e),e&&(n||t===ne))return e.replace(Lt,"");if(!e||!(t=ao(t)))return e;var r=Q(e),o=D(r,Q(t));return go(r,o).join("")}function pc(e,t){var n=be,r=Te;if(Za(t)){var o="separator"in t?t.separator:o;n="length"in t?ds(t.length):n,r="omission"in t?ao(t.omission):r}e=ys(e);var i=e.length;if(V(e)){var u=Q(e);i=u.length}if(n>=i)return e;var a=n-K(r);if(a<1)return r;var s=u?go(u,0,a).join(""):e.slice(0,a);if(o===ne)return s+r;if(u&&(a+=s.length-a),hh(o)){if(e.slice(a).search(o)){var c,l=s;for(o.global||(o=Jc(o.source,ys(Dt.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var f=c.index;s=s.slice(0,f===ne?a:f)}}else if(e.indexOf(ao(o),a)!=a){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+r}function _c(e){return e=ys(e),e&&vt.test(e)?e.replace(pt,sr):e}function vc(e,t,n){return e=ys(e),t=n?ne:t,t===ne?X(e)?te(e):g(e):e.match(t)||[]}function mc(e){var t=e?e.length:0,n=hi();return e=t?d(e,function(e){if("function"!=typeof e[1])throw new tl(ue);return[n(e[0]),e[1]]}):[],qr(function(n){for(var r=-1;++r<t;){var o=e[r];if(i(o[0],this,n))return i(o[1],this,n)}})}function yc(e){return jn(Mn(e,!0))}function gc(e){return function(){return e}}function wc(e,t){return null==e||e!==e?t:e}function Ec(e){return e}function bc(e){return Ir("function"==typeof e?e:Mn(e,!0))}function Tc(e){return Dr(Mn(e,!0))}function kc(e,t){return Pr(e,Mn(t,!0))}function Ac(e,t,n){var r=Is(t),o=cr(t,r);null!=n||Za(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=cr(t,Is(t)));var i=!(Za(n)&&"chain"in n&&!n.chain),u=Wa(e);return a(o,function(n){var r=t[n];e[n]=r,u&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Co(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,p([this.value()],arguments))})}),e}function Oc(){return Yn._===this&&(Yn._=hl),this}function Sc(){}function Lc(e){return e=ds(e),qr(function(t){return Gr(t,e)})}function xc(e){return Oi(e)?O($i(e)):Fr(e)}function Rc(e){return function(t){return null==e?ne:fr(e,t)}}function Ic(){return[]}function Cc(){return!1}function Bc(){return{}}function Mc(){return""}function Hc(){return!0}function Dc(e,t){if(e=ds(e),e<1||e>Re)return[];var n=Be,r=Dl(e,Be);t=hi(t),e-=Be;for(var o=I(r,t);++n<e;)t(n);return o}function Pc(e){return ah(e)?d(e,$i):as(e)?[e]:Co(Tf(e))}function Nc(e){var t=++cl;return ys(e)+t}function jc(e){return e&&e.length?Wn(e,Ec,pr):ne}function Gc(e,t){return e&&e.length?Wn(e,hi(t,2),pr):ne}function Vc(e){return A(e,Ec)}function Xc(e,t){return A(e,hi(t,2))}function $c(e){return e&&e.length?Wn(e,Ec,Mr):ne}function Fc(e,t){return e&&e.length?Wn(e,hi(t,2),Mr):ne}function zc(e){return e&&e.length?R(e,Ec):0}function Wc(e,t){return e&&e.length?R(e,hi(t,2)):0}t=t?lr.defaults(Yn.Object(),t,lr.pick(Yn,Hn)):Yn;var Yc=t.Array,Uc=t.Date,Zc=t.Error,qc=t.Function,Kc=t.Math,Qc=t.Object,Jc=t.RegExp,el=t.String,tl=t.TypeError,nl=Yc.prototype,rl=qc.prototype,ol=Qc.prototype,il=t["__core-js_shared__"],ul=function(){var e=/[^.]+$/.exec(il&&il.keys&&il.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),al=rl.toString,sl=ol.hasOwnProperty,cl=0,ll=al.call(Qc),fl=ol.toString,hl=Yn._,dl=Jc("^"+al.call(sl).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pl=qn?t.Buffer:ne,_l=t.Symbol,vl=t.Uint8Array,ml=pl?pl.allocUnsafe:ne,yl=Qc.defineProperty,gl=z(Qc.getPrototypeOf,Qc),wl=_l?_l.iterator:ne,El=Qc.create,bl=ol.propertyIsEnumerable,Tl=nl.splice,kl=_l?_l.isConcatSpreadable:ne,Al=t.clearTimeout!==Yn.clearTimeout&&t.clearTimeout,Ol=Uc&&Uc.now!==Yn.Date.now&&Uc.now,Sl=t.setTimeout!==Yn.setTimeout&&t.setTimeout,Ll=Kc.ceil,xl=Kc.floor,Rl=Qc.getOwnPropertySymbols,Il=pl?pl.isBuffer:ne,Cl=t.isFinite,Bl=nl.join,Ml=z(Qc.keys,Qc),Hl=Kc.max,Dl=Kc.min,Pl=Uc.now,Nl=t.parseInt,jl=Kc.random,Gl=nl.reverse,Vl=_i(t,"DataView"),Xl=_i(t,"Map"),$l=_i(t,"Promise"),Fl=_i(t,"Set"),zl=_i(t,"WeakMap"),Wl=_i(Qc,"create"),Yl=_i(Qc,"defineProperty"),Ul=zl&&new zl,Zl={},ql=Fi(Vl),Kl=Fi(Xl),Ql=Fi($l),Jl=Fi(Fl),ef=Fi(zl),tf=_l?_l.prototype:ne,nf=tf?tf.valueOf:ne,rf=tf?tf.toString:ne,of=function(){
function e(){}return function(t){if(!Za(t))return{};if(El)return El(t);e.prototype=prototype;var n=new e;return e.prototype=ne,n}}();n.templateSettings={escape:yt,evaluate:gt,interpolate:wt,variable:"",imports:{_:n}},n.prototype=y.prototype,n.prototype.constructor=n,S.prototype=of(y.prototype),S.prototype.constructor=S,Z.prototype=of(y.prototype),Z.prototype.constructor=Z,zt.prototype.clear=Wt,zt.prototype.delete=Yt,zt.prototype.get=Ut,zt.prototype.has=Zt,zt.prototype.set=qt,Kt.prototype.clear=Qt,Kt.prototype.delete=Jt,Kt.prototype.get=en,Kt.prototype.has=tn,Kt.prototype.set=nn,rn.prototype.clear=on,rn.prototype.delete=un,rn.prototype.get=an,rn.prototype.has=sn,rn.prototype.set=cn,ln.prototype.add=ln.prototype.push=fn,ln.prototype.has=hn,dn.prototype.clear=pn,dn.prototype.delete=_n,dn.prototype.get=vn,dn.prototype.has=mn,dn.prototype.set=yn;var uf=Po(Qn),af=Po(ir,!0),sf=No(),cf=No(!0),lf=Ul?function(e,t){return Ul.set(e,t),e}:Ec,ff=Yl?function(e,t){return Yl(e,"toString",{configurable:!0,enumerable:!1,value:gc(t),writable:!0})}:Ec,hf=qr,df=Al||function(e){return Yn.clearTimeout(e)},pf=Fl&&1/Y(new Fl([,-0]))[1]==xe?function(e){return new Fl(e)}:Sc,_f=Ul?function(e){return Ul.get(e)}:Sc,vf=Rl?z(Rl,Qc):Ic,mf=Rl?function(e){for(var t=[];e;)p(t,vf(e)),e=gl(e);return t}:Ic,yf=dr;(Vl&&yf(new Vl(new ArrayBuffer(1)))!=tt||Xl&&yf(new Xl)!=Fe||$l&&yf($l.resolve())!=Ye||Fl&&yf(new Fl)!=Ze||zl&&yf(new zl)!=Qe)&&(yf=function(e){var t=fl.call(e),n=t==We?e.constructor:ne,r=n?Fi(n):ne;if(r)switch(r){case ql:return tt;case Kl:return Fe;case Ql:return Ye;case Jl:return Ze;case ef:return Qe}return t});var gf=il?Wa:Cc,wf=Vi(lf),Ef=Sl||function(e,t){return Yn.setTimeout(e,t)},bf=Vi(ff),Tf=Bi(function(e){e=ys(e);var t=[];return Tt.test(e)&&t.push(""),e.replace(kt,function(e,n,r,o){t.push(r?o.replace(Mt,"$1"):n||e)}),t}),kf=qr(function(e,t){return Na(e)?Xn(e,Kn(t,1,Na,!0)):[]}),Af=qr(function(e,t){var n=fu(t);return Na(n)&&(n=ne),Na(e)?Xn(e,Kn(t,1,Na,!0),hi(n,2)):[]}),Of=qr(function(e,t){var n=fu(t);return Na(n)&&(n=ne),Na(e)?Xn(e,Kn(t,1,Na,!0),ne,n):[]}),Sf=qr(function(e){var t=d(e,vo);return t.length&&t[0]===e[0]?yr(t):[]}),Lf=qr(function(e){var t=fu(e),n=d(e,vo);return t===fu(n)?t=ne:n.pop(),n.length&&n[0]===e[0]?yr(n,hi(t,2)):[]}),xf=qr(function(e){var t=fu(e),n=d(e,vo);return t===fu(n)?t=ne:n.pop(),n.length&&n[0]===e[0]?yr(n,ne,t):[]}),Rf=qr(pu),If=ai(function(e,t){var n=e?e.length:0,r=Cn(e,t);return Wr(e,d(t,function(e){return ki(e,n)?+e:e}).sort(Lo)),r}),Cf=qr(function(e){return so(Kn(e,1,Na,!0))}),Bf=qr(function(e){var t=fu(e);return Na(t)&&(t=ne),so(Kn(e,1,Na,!0),hi(t,2))}),Mf=qr(function(e){var t=fu(e);return Na(t)&&(t=ne),so(Kn(e,1,Na,!0),ne,t)}),Hf=qr(function(e,t){return Na(e)?Xn(e,t):[]}),Df=qr(function(e){return po(l(e,Na))}),Pf=qr(function(e){var t=fu(e);return Na(t)&&(t=ne),po(l(e,Na),hi(t,2))}),Nf=qr(function(e){var t=fu(e);return Na(t)&&(t=ne),po(l(e,Na),ne,t)}),jf=qr(Du),Gf=qr(function(e){var t=e.length,n=t>1?e[t-1]:ne;return n="function"==typeof n?(e.pop(),n):ne,Pu(e,n)}),Vf=ai(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Cn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Z&&ki(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Xu,args:[o],thisArg:ne}),new S(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ne),e})):this.thru(o)}),Xf=Ho(function(e,t,n){sl.call(e,n)?++e[n]:In(e,n,1)}),$f=Fo(tu),Ff=Fo(nu),zf=Ho(function(e,t,n){sl.call(e,n)?e[n].push(t):In(e,n,[t])}),Wf=qr(function(e,t,n){var r=-1,o="function"==typeof t,u=Oi(t),a=Pa(e)?Yc(e.length):[];return uf(e,function(e){var s=o?t:u&&null!=e?e[t]:ne;a[++r]=s?i(s,e,n):wr(e,t,n)}),a}),Yf=Ho(function(e,t,n){In(e,n,t)}),Uf=Ho(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Zf=qr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ai(e,t[0],t[1])?t=[]:n>2&&Ai(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,Kn(t,1),[])}),qf=Ol||function(){return Yn.Date.now()},Kf=qr(function(e,t,n){var r=le;if(n.length){var o=W(n,fi(Kf));r|=_e}return ri(e,r,t,n,o)}),Qf=qr(function(e,t,n){var r=le|fe;if(n.length){var o=W(n,fi(Qf));r|=_e}return ri(t,r,e,n,o)}),Jf=qr(function(e,t){return Vn(e,1,t)}),eh=qr(function(e,t,n){return Vn(e,_s(t)||0,n)});Ea.Cache=rn;var th=hf(function(e,t){t=1==t.length&&ah(t[0])?d(t[0],B(hi())):d(Kn(t,1),B(hi()));var n=t.length;return qr(function(r){for(var o=-1,u=Dl(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return i(e,this,r)})}),nh=qr(function(e,t){var n=W(t,fi(nh));return ri(e,_e,ne,t,n)}),rh=qr(function(e,t){var n=W(t,fi(rh));return ri(e,ve,ne,t,n)}),oh=ai(function(e,t){return ri(e,ye,ne,ne,ne,t)}),ih=Jo(pr),uh=Jo(function(e,t){return e>=t}),ah=Yc.isArray,sh=Jn?B(Jn):Er,ch=Il||Cc,lh=er?B(er):br,fh=tr?B(tr):Ar,hh=nr?B(nr):Lr,dh=rr?B(rr):xr,ph=or?B(or):Rr,_h=Jo(Mr),vh=Jo(function(e,t){return e<=t}),mh=Do(function(e,t){if(Ri(t)||Pa(t))return void Bo(t,Is(t),e);for(var n in t)sl.call(t,n)&&An(e,n,t[n])}),yh=Do(function(e,t){Bo(t,Cs(t),e)}),gh=Do(function(e,t,n,r){Bo(t,Cs(t),e,r)}),wh=Do(function(e,t,n,r){Bo(t,Is(t),e,r)}),Eh=ai(Cn),bh=qr(function(e){return e.push(ne,Tn),i(gh,ne,e)}),Th=qr(function(e){return e.push(ne,Hi),i(Lh,ne,e)}),kh=Yo(function(e,t,n){e[t]=n},gc(Ec)),Ah=Yo(function(e,t,n){sl.call(e,t)?e[t].push(n):e[t]=[n]},hi),Oh=qr(wr),Sh=Do(function(e,t,n){Nr(e,t,n)}),Lh=Do(function(e,t,n,r){Nr(e,t,n,r)}),xh=ai(function(e,t){return null==e?{}:(t=d(t,$i),Xr(e,Xn(ci(e),t)))}),Rh=ai(function(e,t){return null==e?{}:Xr(e,d(t,$i))}),Ih=ni(Is),Ch=ni(Cs),Bh=Vo(function(e,t,n){return t=t.toLowerCase(),e+(n?Zs(t):t)}),Mh=Vo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hh=Vo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Dh=Go("toLowerCase"),Ph=Vo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Nh=Vo(function(e,t,n){return e+(n?" ":"")+Gh(t)}),jh=Vo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Gh=Go("toUpperCase"),Vh=qr(function(e,t){try{return i(e,ne,t)}catch(e){return Fa(e)?e:new Zc(e)}}),Xh=ai(function(e,t){return a(t,function(t){t=$i(t),In(e,t,Kf(e[t],e))}),e}),$h=zo(),Fh=zo(!0),zh=qr(function(e,t){return function(n){return wr(n,e,t)}}),Wh=qr(function(e,t){return function(n){return wr(e,n,t)}}),Yh=Zo(d),Uh=Zo(c),Zh=Zo(m),qh=Qo(),Kh=Qo(!0),Qh=Uo(function(e,t){return e+t},0),Jh=ti("ceil"),ed=Uo(function(e,t){return e/t},1),td=ti("floor"),nd=Uo(function(e,t){return e*t},1),rd=ti("round"),od=Uo(function(e,t){return e-t},0);return n.after=pa,n.ary=_a,n.assign=mh,n.assignIn=yh,n.assignInWith=gh,n.assignWith=wh,n.at=Eh,n.before=va,n.bind=Kf,n.bindAll=Xh,n.bindKey=Qf,n.castArray=xa,n.chain=Gu,n.chunk=Yi,n.compact=Ui,n.concat=Zi,n.cond=mc,n.conforms=yc,n.constant=gc,n.countBy=Xf,n.create=gs,n.curry=ma,n.curryRight=ya,n.debounce=ga,n.defaults=bh,n.defaultsDeep=Th,n.defer=Jf,n.delay=eh,n.difference=kf,n.differenceBy=Af,n.differenceWith=Of,n.drop=qi,n.dropRight=Ki,n.dropRightWhile=Qi,n.dropWhile=Ji,n.fill=eu,n.filter=Ku,n.flatMap=Qu,n.flatMapDeep=Ju,n.flatMapDepth=ea,n.flatten=ru,n.flattenDeep=ou,n.flattenDepth=iu,n.flip=wa,n.flow=$h,n.flowRight=Fh,n.fromPairs=uu,n.functions=Os,n.functionsIn=Ss,n.groupBy=zf,n.initial=cu,n.intersection=Sf,n.intersectionBy=Lf,n.intersectionWith=xf,n.invert=kh,n.invertBy=Ah,n.invokeMap=Wf,n.iteratee=bc,n.keyBy=Yf,n.keys=Is,n.keysIn=Cs,n.map=oa,n.mapKeys=Bs,n.mapValues=Ms,n.matches=Tc,n.matchesProperty=kc,n.memoize=Ea,n.merge=Sh,n.mergeWith=Lh,n.method=zh,n.methodOf=Wh,n.mixin=Ac,n.negate=ba,n.nthArg=Lc,n.omit=xh,n.omitBy=Hs,n.once=Ta,n.orderBy=ia,n.over=Yh,n.overArgs=th,n.overEvery=Uh,n.overSome=Zh,n.partial=nh,n.partialRight=rh,n.partition=Uf,n.pick=Rh,n.pickBy=Ds,n.property=xc,n.propertyOf=Rc,n.pull=Rf,n.pullAll=pu,n.pullAllBy=_u,n.pullAllWith=vu,n.pullAt=If,n.range=qh,n.rangeRight=Kh,n.rearg=oh,n.reject=sa,n.remove=mu,n.rest=ka,n.reverse=yu,n.sampleSize=la,n.set=Ns,n.setWith=js,n.shuffle=fa,n.slice=gu,n.sortBy=Zf,n.sortedUniq=Ou,n.sortedUniqBy=Su,n.split=uc,n.spread=Aa,n.tail=Lu,n.take=xu,n.takeRight=Ru,n.takeRightWhile=Iu,n.takeWhile=Cu,n.tap=Vu,n.throttle=Oa,n.thru=Xu,n.toArray=fs,n.toPairs=Ih,n.toPairsIn=Ch,n.toPath=Pc,n.toPlainObject=vs,n.transform=Gs,n.unary=Sa,n.union=Cf,n.unionBy=Bf,n.unionWith=Mf,n.uniq=Bu,n.uniqBy=Mu,n.uniqWith=Hu,n.unset=Vs,n.unzip=Du,n.unzipWith=Pu,n.update=Xs,n.updateWith=$s,n.values=Fs,n.valuesIn=zs,n.without=Hf,n.words=vc,n.wrap=La,n.xor=Df,n.xorBy=Pf,n.xorWith=Nf,n.zip=jf,n.zipObject=Nu,n.zipObjectDeep=ju,n.zipWith=Gf,n.entries=Ih,n.entriesIn=Ch,n.extend=yh,n.extendWith=gh,Ac(n,n),n.add=Qh,n.attempt=Vh,n.camelCase=Bh,n.capitalize=Zs,n.ceil=Jh,n.clamp=Ws,n.clone=Ra,n.cloneDeep=Ca,n.cloneDeepWith=Ba,n.cloneWith=Ia,n.conformsTo=Ma,n.deburr=qs,n.defaultTo=wc,n.divide=ed,n.endsWith=Ks,n.eq=Ha,n.escape=Qs,n.escapeRegExp=Js,n.every=qu,n.find=$f,n.findIndex=tu,n.findKey=ws,n.findLast=Ff,n.findLastIndex=nu,n.findLastKey=Es,n.floor=td,n.forEach=ta,n.forEachRight=na,n.forIn=bs,n.forInRight=Ts,n.forOwn=ks,n.forOwnRight=As,n.get=Ls,n.gt=ih,n.gte=uh,n.has=xs,n.hasIn=Rs,n.head=au,n.identity=Ec,n.includes=ra,n.indexOf=su,n.inRange=Ys,n.invoke=Oh,n.isArguments=Da,n.isArray=ah,n.isArrayBuffer=sh,n.isArrayLike=Pa,n.isArrayLikeObject=Na,n.isBoolean=ja,n.isBuffer=ch,n.isDate=lh,n.isElement=Ga,n.isEmpty=Va,n.isEqual=Xa,n.isEqualWith=$a,n.isError=Fa,n.isFinite=za,n.isFunction=Wa,n.isInteger=Ya,n.isLength=Ua,n.isMap=fh,n.isMatch=Ka,n.isMatchWith=Qa,n.isNaN=Ja,n.isNative=es,n.isNil=ns,n.isNull=ts,n.isNumber=rs,n.isObject=Za,n.isObjectLike=qa,n.isPlainObject=os,n.isRegExp=hh,n.isSafeInteger=is,n.isSet=dh,n.isString=us,n.isSymbol=as,n.isTypedArray=ph,n.isUndefined=ss,n.isWeakMap=cs,n.isWeakSet=ls,n.join=lu,n.kebabCase=Mh,n.last=fu,n.lastIndexOf=hu,n.lowerCase=Hh,n.lowerFirst=Dh,n.lt=_h,n.lte=vh,n.max=jc,n.maxBy=Gc,n.mean=Vc,n.meanBy=Xc,n.min=$c,n.minBy=Fc,n.stubArray=Ic,n.stubFalse=Cc,n.stubObject=Bc,n.stubString=Mc,n.stubTrue=Hc,n.multiply=nd,n.nth=du,n.noConflict=Oc,n.noop=Sc,n.now=qf,n.pad=ec,n.padEnd=tc,n.padStart=nc,n.parseInt=rc,n.random=Us,n.reduce=ua,n.reduceRight=aa,n.repeat=oc,n.replace=ic,n.result=Ps,n.round=rd,n.runInContext=e,n.sample=ca,n.size=ha,n.snakeCase=Ph,n.some=da,n.sortedIndex=wu,n.sortedIndexBy=Eu,n.sortedIndexOf=bu,n.sortedLastIndex=Tu,n.sortedLastIndexBy=ku,n.sortedLastIndexOf=Au,n.startCase=Nh,n.startsWith=ac,n.subtract=od,n.sum=zc,n.sumBy=Wc,n.template=sc,n.times=Dc,n.toFinite=hs,n.toInteger=ds,n.toLength=ps,n.toLower=cc,n.toNumber=_s,n.toSafeInteger=ms,n.toString=ys,n.toUpper=lc,n.trim=fc,n.trimEnd=hc,n.trimStart=dc,n.truncate=pc,n.unescape=_c,n.uniqueId=Nc,n.upperCase=jh,n.upperFirst=Gh,n.each=ta,n.eachRight=na,n.first=au,Ac(n,function(){var e={};return Qn(n,function(t,r){sl.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION=re,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),a(["drop","take"],function(e,t){Z.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Z(this);n=n===ne?1:Hl(ds(n),0);var o=this.clone();return r?o.__takeCount__=Dl(n,o.__takeCount__):o.__views__.push({size:Dl(n,Be),type:e+(o.__dir__<0?"Right":"")}),o},Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),a(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Oe||n==Le;Z.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:hi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),a(["head","last"],function(e,t){var n="take"+(t?"Right":"");Z.prototype[e]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[n](1)}}),Z.prototype.compact=function(){return this.filter(Ec)},Z.prototype.find=function(e){return this.filter(e).head()},Z.prototype.findLast=function(e){return this.reverse().find(e)},Z.prototype.invokeMap=qr(function(e,t){return"function"==typeof e?new Z(this):this.map(function(n){return wr(n,e,t)})}),Z.prototype.reject=function(e){return this.filter(ba(hi(e)))},Z.prototype.slice=function(e,t){e=ds(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Z(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ne&&(t=ds(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Z.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Z.prototype.toArray=function(){return this.take(Be)},Qn(Z.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=n[o?"take"+("last"==t?"Right":""):t],u=o||/^find/.test(t);i&&(n.prototype[t]=function(){var t=this.__wrapped__,a=o?[1]:arguments,s=t instanceof Z,c=a[0],l=s||ah(t),f=function(e){var t=i.apply(n,p([e],a));return o&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,_=u&&!h,v=s&&!d;if(!u&&l){t=v?t:new Z(this);var m=e.apply(t,a);return m.__actions__.push({func:Xu,args:[f],thisArg:ne}),new S(m,h)}return _&&v?e.apply(this,a):(m=this.thru(f),_?o?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(e){var t=nl[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(ah(n)?n:[],e)}return this[r](function(n){return t.apply(ah(n)?n:[],e)})}}),Qn(Z.prototype,function(e,t){var r=n[t];if(r){var o=r.name+"",i=Zl[o]||(Zl[o]=[]);i.push({name:t,func:r})}}),Zl[Wo(ne,fe).name]=[{name:"wrapper",func:ne}],Z.prototype.clone=J,Z.prototype.reverse=ee,Z.prototype.value=Bt,n.prototype.at=Vf,n.prototype.chain=$u,n.prototype.commit=Fu,n.prototype.next=zu,n.prototype.plant=Yu,n.prototype.reverse=Uu,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Zu,n.prototype.first=n.prototype.head,wl&&(n.prototype[wl]=Wu),n},lr=cr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Yn._=lr,define(function(){return lr})):Zn?((Zn.exports=lr)._=lr,Un._=lr):Yn._=lr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("js-cookie"),a=r(u),s=e("howler"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.COOKIE_NAME=t.COOKIE_NAME||"isMute",this.EXPIRES_DATE=t.EXPIRES_DATE,this.disableBlurPause=!!t.disableBlurPause,this.isMute=this.getCookie(),this.isPaused=!1,this.isPlayng=!1,this.toggleMute(this.isMute),this.sound=new s.Howl(t.howl),this.initListeners()}return i(e,[{key:"initListeners",value:function(){var e=this;this.disableBlurPause||$(window).on("blur",function(){e.pause()}).on("focus",function(){e.play()})}},{key:"play",value:function(){return this.isMute||this.isPlayng?this:(this.isPaused=!1,this.isPlayng=!0,this.sound.play(),this)}},{key:"pause",value:function(){return this.isPaused=!0,this.isPlayng=!1,this.sound.pause(),this}},{key:"togglePlay",value:function(e){return void 0===e&&(e=!this.isPaused),e?this.play():this.pause(),this}},{key:"mute",value:function(){return this.isMute=!0,this.setCookie(this.isMute),this}},{key:"unmute",value:function(){return this.isMute=!1,this.setCookie(this.isMute),this}},{key:"toggleMute",value:function(e){return void 0===e&&(e=!this.getCookie()),e?this.mute():this.unmute(),this}},{key:"setCookie",value:function(e){return a.default.set(this.COOKIE_NAME,e,{expires:this.EXPIRES_DATE})}},{key:"getCookie",value:function(){var e=a.default.get(this.COOKIE_NAME);return"true"===e}},{key:"hasCookie",value:function(){return void 0!==a.default.get(this.COOKIE_NAME)}}]),e}();n.default=c},{howler:2,"js-cookie":3}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("eventemitter2"),c=e("./TouchController"),l=r(c),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.element=e.element,n.maxDistance=e.maxDistance,n.holdingDelay=e.holdingDelay||1e3,n.watchInterval=e.watchInterval||100,n.position={x:0,y:0},n.setEvent(),n}return u(t,e),a(t,[{key:"setEvent",value:function(){var e=this,t=new l.default({touchstartElement:this.element,touchmoveElement:document,touchendElement:document,holdingDelay:this.holdingDelay,watchInterval:this.watchInterval});t.on("touchstart",function(e){}),t.on("touchmove",function(t){e.movePosition({x:-t.deltaX,y:-t.deltaY})}),t.on("touchend",function(t){e.animatePosition({x:0,y:0}),t.isDoubleTap&&e.emit("doubletapped"),e.emit("touchend")}),t.on("touchholding",function(t){e.emit("holding",e.position)})}},{key:"movePosition",value:function(e){var t=this.position,n={x:t.x-e.x,y:t.y-e.y};this.jumpPosition(n),this.emit("moved",this.position)}},{key:"animatePosition",value:function(e){var t=this;e&&$(this.position).animate(e,{step:function(e,n){var r={};r[n.prop]=n.now,t.jumpPosition(r)},complete:function(){t.setPosition(e),t.emit("animateend",t.position)}})}},{key:"jumpPosition",value:function(e){if(e){var t=e.x||this.position.x,n=e.y||this.position.y,r=Math.sqrt(t*t+n*n);if(this.maxDistance&&r>this.maxDistance){var o=this.maxDistance/r;t*=o,n*=o,e.x=t,e.y=n}this.element.style.transform="translate("+t+"px, "+n+"px)",this.setPosition(e),this.emit("jumped",this.position)}}},{key:"setPosition",value:function(e){Object.assign(this.position,e)}}]),t}(s.EventEmitter2);n.default=f},{"./TouchController":12,eventemitter2:1}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(){r(this,e),this.COLS=7,this.ROWS=9,this.VOXEL_LENGTH=4,this.VOXEL_SIZE=55,this.START_X=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.START_Y=0,this.START_Z=Math.floor((this.COLS-this.VOXEL_LENGTH)/2),this.HIDDEN_ROWS=this.VOXEL_LENGTH,this.LOGICAL_ROWS=this.ROWS+this.HIDDEN_ROWS,this.WIDTH=this.VOXEL_SIZE*this.COLS,this.HEIGHT=this.VOXEL_SIZE*this.ROWS,this.CENTER_X=this.WIDTH/2,this.CENTER_Y=this.HEIGHT/2,this.CENTER_Z=this.WIDTH/2,this.FIELD_MARK_LENGTH=50,this.RENDER_INTERVAL=30,this.TICK_INTERVAL=1200,this.SPEEDUP_RATE=100,this.CLEARLINE_EFFECT_INTERVAL=50,this.AUTO_ROTATE_SPEED=.02,this.STICK_WEIGHT=850,this.STICK_CONTROLL_THROTTLE=50,this.CAMERA_HEIGHT_DEFAULT=300,this.CAMERA_DISTANCE_DEFAULT=1400,this.GOAL_LINES_RATE=5,this.SHADOW_BLOCK={id:8,color:"#000",opacity:.3,scale:.99},this.CLEARLINE_BLOCK={id:9,color:"#aaa"},this.GAMEOVER_BLOCK={id:10,color:"#777"},this.BLOCK_LIST=[{id:0,color:"#FF6666",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:1,color:"#FFCC66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:2,color:"#FFFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,1],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:3,color:"#CCFF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:4,color:"#66FF66",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:5,color:"#66FFCC",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:6,color:"#66FFFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]},{id:7,color:"#66CCFF",shape:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}]};t.exports=new o},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("lodash"),c=r(s),l=e("eventemitter2"),f=e("./Util"),h=r(f),d=e("./TouchController"),p=r(d),_=e("./StickController"),v=r(_),m=e("./TetricusCONST"),y=r(m),g=y.default,w=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.model=e,r.view=n,r.rootElm=document.querySelector(".js-game-controller"),r.stickTouchareaElm=document.querySelector(".js-stick-toucharea"),r.infoLevelElm=document.querySelector(".js-info-level"),r.infoScoreElm=document.querySelector(".js-info-score"),r.infoLinesElm=document.querySelector(".js-info-lines"),r.touch=new p.default({touchstartElement:r.rootElm,touchmoveElement:document,touchendElement:document,holdingDelay:500,watchInterval:100}),r.stick=new v.default({element:r.stickTouchareaElm,maxDistance:30,holdingDelay:50,watchInterval:g.STICK_CONTROLL_THROTTLE}),r.isAutoMode=!1,r.isTutorialMode=!1,r.isPlayngGame=!1,r.isPausingGame=!1,r.initModelEvent(),r.initResizeEvent(),r.initBlurEvent(),r.initKeyEvent(),r.initTouchEvent(),r.initStickController(),r}return u(t,e),a(t,[{key:"newGame",value:function(){this.view.dispose(),this.view.init(),this.view.start(),this.model.initGame(),this.model.startGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("startGame")}},{key:"pauseGame",value:function(){this.view.stop(),this.model.pauseGame(),this.isPlayngGame=!1,this.isPausingGame=!0,this.emit("pauseGame")}},{key:"resumeGame",value:function(){this.view.start(),this.model.resumeGame(),this.isPlayngGame=!0,this.isPausingGame=!1,this.emit("resumeGame")}},{key:"setAutoMode",value:function(){this.isAutoMode=!0,this.isTutorialMode=!1,this.view.isAutoRotate=!0}},{key:"setTutorialMode",value:function(){this.isAutoMode=!1,this.isTutorialMode=!0,this.view.isAutoRotate=!1,this.view.setCamera()}},{key:"initModelEvent",value:function(){var e=this;this.model.on("gamestart",function(){e.view.isAutoRotate=e.isAutoMode}),this.model.on("newblockcreated",function(){}),this.model.on("currentblockcreated",function(){e.view.drawCurrentBlock(e.model.currentBlock);var t=e.getShadowBlock(),n=e.setBlockToBoard(t);e.updateBoard(n)}),this.model.on("nextblockcreated",function(){}),this.model.on("gameover",function(){e.isAutoMode||e.isTutorialMode?e.newGame():e.view.isAutoRotate=!0,e.emit("gameover")}),this.model.on("tick",function(t){e.view.moveCurrentBlock(e.model.currentBlock);var n=e.getShadowBlock(),r=e.setBlockToBoard(n);e.updateBoard(r)}),this.model.on("blockmoved",function(){e.view.moveCurrentBlock(e.model.currentBlock);var t=e.getShadowBlock(),n=e.setBlockToBoard(t);e.updateBoard(n)}),this.model.on("gamequit",function(){}),this.model.on("freeze",function(){e.updateBoard()}),this.model.on("clearline",function(){e.updateBoard(),e.infoLevelElm.innerText=e.model.level,e.infoScoreElm.innerText=h.default.zeroPadding(e.model.score,4),e.infoLinesElm.innerText=h.default.zeroPadding(e.model.sumOfClearLines,4)}),this.model.on("beforeDropClearLines",function(t){var n=$.Deferred();n.resolve().then(function(){e.model.pauseGame()}).then(e.effectClearLine(t)).then(function(){e.model.resumeGame(),t.dfd.resolve()})}),this.model.on("afterDropClearLines",function(){e.updateBoard()})}},{key:"effectClearLine",value:function(e){var t=this;return function(){var n=$.Deferred(),r=$.Deferred();r.resolve();var o=function(e,n,o,i){r=r.then(h.default.sleep(g.CLEARLINE_EFFECT_INTERVAL)).then(function(){e[i][o][n]=g.CLEARLINE_BLOCK.id+1,t.updateBoard(e)})};return e.filledRowList.reverse().forEach(function(e,n){var r=e[0],i=e[1];(r.length||i.length)&&(r.forEach(function(e){for(var r=c.default.cloneDeep(t.model.board),i=0;i<g.COLS;++i)r[i][n][e]&&o(r,e,n,i)}),i.forEach(function(e){for(var r=c.default.cloneDeep(t.model.board),i=0;i<g.COLS;++i)r[e][n][i]&&o(r,i,n,e)}))}),r.then(function(){n.resolve()}),n.promise()}}},{key:"getShadowBlock",value:function(){var e=c.default.clone(this.model.currentBlock);return e.id=g.SHADOW_BLOCK.id,this.model.dropBlockY(e),e}},{key:"setBlockToBoard",value:function(e){for(var t=c.default.cloneDeep(this.model.board),n=0;n<g.VOXEL_LENGTH;++n)for(var r=0;r<g.VOXEL_LENGTH;++r)for(var o=0;o<g.VOXEL_LENGTH;++o){var i=o+e.x,u=r+e.y,a=n+e.z;!e.shape[n][r][o]||a<0||(t[a][u][i]=e.shape[n][r][o]?e.id+1:0)}return t}},{key:"initResizeEvent",value:function(){var e=this;window.addEventListener("resize",function(){e.view.setSize()},!1)}},{key:"initBlurEvent",value:function(){var e=this;window.addEventListener("blur",function(){e.pauseGame()},!1),window.addEventListener("focus",function(){(e.isAutoMode||e.isTutorialMode)&&e.resumeGame()},!1)}},{key:"initKeyEvent",value:function(){var e=this,t=[[37,"left"],[39,"right"],[40,"forward"],[38,"backward"],[32,"rotate"],[16,"rotateX"],[17,"rotateY"],[13,"drop"],[27,"pause"],[48,"pers"],[49,"ortho1"],[50,"ortho2"],[51,"ortho3"],[67,"camera"],[66,"block"]],n=new Map(t);document.addEventListener("keydown",function(t){if(e.isPlayngGame){var r=n.get(t.keyCode);r&&(t.preventDefault(),e.handleMethod(r))}},!1)}},{key:"handleMethod",value:function(e){switch(e){case"left":this.moveBlockRightAndLeft(-1);break;case"right":this.moveBlockRightAndLeft(1);break;case"forward":this.moveBlockBackAndForward(1);break;case"backward":this.moveBlockBackAndForward(-1);break;case"rotate":this.rotateBlock();break;case"rotateX":this.rotateBlockHorizontal();break;case"rotateY":this.rotateBlockVertical();break;case"drop":this.dropBlock();break;case"pause":this.pauseGame();break;case"pers":break;case"ortho1":break;case"ortho2":break;case"ortho3":break;case"camera":this.switchModeCamera();break;case"block":this.switchModeBlock()}}},{key:"initTouchEvent",value:function(){var e=this,t=void 0,n=void 0,r=!1,o=!1;this.model.on("freeze",function(){r=!0}),this.touch.on("touchstart",function(e){t=e.touchStartX,n=e.touchStartY,r=!1}),this.touch.on("touchmove",function(i){var u=i.touchX-t,a=i.touchY-n,s=u/g.VOXEL_SIZE|0,c=a/g.VOXEL_SIZE|0;if(!r){for((s||c)&&(o=!0);s;){var l=s/Math.abs(s);e.moveBlockRightAndLeft(l),s-=l,t=i.touchX}for(;c;){var f=c/Math.abs(c);e.moveBlockBackAndForward(f),c-=f,n=i.touchY}}}),this.touch.on("touchend",function(t){t.isDoubleTap,t.isTap&&e.rotateBlock(),e.emit("touchend",{isBlockMoved:o}),o=!1}),this.touch.on("touchholding",function(){e.model.moveBlockY()})}},{key:"initStickController",value:function(){var e=this,t=!1;this.stick.on("moved",h.default.throttle(function(n){t=!0,e.rotateView(n)},g.STICK_CONTROLL_THROTTLE)),this.stick.on("doubletapped",function(){e.view.setCamera()}),this.stick.on("holding",function(t){e.rotateView(t)}),this.stick.on("touchend",function(){e.emit("stickTouchend",{isStickMoved:t}),t=!1})}},{key:"rotateView",value:function(e){var t=this,n=e.x/-g.STICK_WEIGHT,r=e.y/-g.STICK_WEIGHT;r<0&&this.view.camera.position.y>g.HEIGHT&&(this.view.camera.position.y=g.HEIGHT,r=0),this.model.pauseGame(),this.view.controls.rotate({x:n,y:r}),setTimeout(function(){t.model.resumeGame()})}},{key:"switchModeCamera",value:function(){this.touch.dispose(),this.view.enableControls(),this.emit("switchModeCamera")}},{key:"switchModeBlock",value:function(){this.touch.setEvent(),this.view.disableControls(),this.emit("switchModeBlock")}},{key:"changeRotateDirection",value:function(){this.isVertical=!this.isVertical,this.emit("changeRotateDirection")}},{key:"updateBoard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.model.board;e=c.default.cloneDeep(e),e.forEach(function(e){e.splice(0,g.HIDDEN_ROWS)}),this.view.disposeBoard(),this.view.drawBoard(e)}},{key:"rotateBlock",value:function(){this.isVertical?this.rotateBlockVertical():this.rotateBlockHorizontal()}},{key:"rotateBlockHorizontal",value:function(){this.model.rotateBlockXZ()}},{key:"rotateBlockVertical",value:function(){var e=this.view.checkCameraDirection();0!==e.x&&this.model.rotateBlockXY(e.x<0),0!==e.z&&this.model.rotateBlockZY(e.z<0)}},{key:"moveBlockRightAndLeft",value:function(e){var t=this.view.checkCameraDirection();0!==t.x&&this.model.moveBlockZ(e*t.x),0!==t.z&&this.model.moveBlockX(e*-t.z)}},{key:"moveBlockBackAndForward",value:function(e){var t=this.view.checkCameraDirection();0!==t.x&&this.model.moveBlockX(e*t.x),0!==t.z&&this.model.moveBlockZ(e*t.z)}},{key:"dropBlock",value:function(){this.model.dropBlockY(),this.view.moveCurrentBlock(this.model.currentBlock)}}]),t}(l.EventEmitter2);n.default=w},{"./StickController":6,"./TetricusCONST":7,"./TouchController":12,"./Util":13,eventemitter2:1,lodash:4}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("lodash"),c=r(s),l=e("eventemitter2"),f=e("./TetricusCONST"),h=r(f),d=h.default,p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return u(t,e),a(t,[{key:"newGame",value:function(){this.initGame(),this.startGame()}},{key:"initGame",value:function(){clearTimeout(this.tickId),clearInterval(this.renderId),this.isPlayng=!1,this.isPausing=!1,this.lose=!1,
this.tickInterval=d.TICK_INTERVAL,this.sumOfClearLines=0,this.level=1,this.score=0,this.frameCount=0,this.initBoard(),this.initBlock(),this.createNextBlock()}},{key:"startGame",value:function(){this.isPlayng=!0,this.isPausing=!1,this.createCurrentBlock(),this.createNextBlock(),this.tick(),this.emit("gamestart")}},{key:"pauseGame",value:function(){this.isPlayng=!1,this.isPausing=!0,clearTimeout(this.tickId),delete this.tickId}},{key:"resumeGame",value:function(){var e=this;!this.isPlayng&&this.isPausing&&(this.isPlayng=!0,this.isPausing=!1,this.tickId=setTimeout(function(){e.tick()},this.tickInterval))}},{key:"quitGame",value:function(){var e=$.Deferred();return e.promise()}},{key:"stopGame",value:function(){this.quitGame()}},{key:"tick",value:function(){var e=this;if(clearTimeout(this.tickId),this.isPlayng&&!this.isPausing){var t=this.moveBlockY();if(!t){if(this.freeze(),this.checkClearLines(),this.checkGameOver())return this.emit("gameover"),!1;this.frameCount++,this.createCurrentBlock(),this.createNextBlock()}this.tickId=setTimeout(function(){e.tick()},this.tickInterval),this.emit("tick",!t)}}},{key:"initBoard",value:function(){this.board=[];for(var e=0;e<d.COLS;++e){this.board[e]=[];for(var t=0;t<d.LOGICAL_ROWS;++t){this.board[e][t]=[];for(var n=0;n<d.COLS;++n)this.board[e][t][n]=0}}}},{key:"initBlock",value:function(){this.nextBlock=this.createBlock(0),this.currentBlock=this.createBlock(0),this.currentBlock.x=d.START_X,this.currentBlock.y=d.START_Y,this.currentBlock.z=d.START_Z}},{key:"createBlock",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=d.BLOCK_LIST[e]||{},n=t.shape,r={id:e,color:t.color,shape:[],x:0,y:0,z:0},o=0;o<d.VOXEL_LENGTH;++o){r.shape[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r.shape[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)r.shape[o][i][u]=n[o][i][u]||0}}return this.emit("newblockcreated"),r}},{key:"createCurrentBlock",value:function(){this.nextBlock||this.createNextBlock(),this.currentBlock=this.nextBlock,this.currentBlock.x=d.START_X,this.currentBlock.y=d.START_Y,this.currentBlock.z=d.START_Z,this.emit("currentblockcreated")}},{key:"createNextBlock",value:function(){var e=Math.floor(Math.random()*d.BLOCK_LIST.length);this.nextBlock=this.createBlock(e),this.emit("nextblockcreated")}},{key:"freeze",value:function(){for(var e=0;e<d.VOXEL_LENGTH;++e)for(var t=0;t<d.VOXEL_LENGTH;++t)for(var n=0;n<d.VOXEL_LENGTH;++n){var r=n+this.currentBlock.x,o=t+this.currentBlock.y,i=e+this.currentBlock.z;!this.currentBlock.shape[e][t][n]||i<0||(this.board[i][o][r]=this.currentBlock.shape[e][t][n]?this.currentBlock.id+1:0)}this.emit("freeze")}},{key:"checkClearLines",value:function(){var e=this,t=$.Deferred(),n=this.getFilledRowList(),r=c.default.flattenDeep(n).length;r&&t.resolve().then(function(){var t=$.Deferred(),r={filledRowList:n,dfd:t};return e.emit("beforeDropClearLines",r),t.promise()}).then(function(){return e.dropRow(n)}).then(function(){e.emit("afterDropClearLines"),e.sumOfClearLines+=r,e.levelUp(),e.setSpeed(),e.calcScore(r),r>0&&e.emit("clearline")})}},{key:"getFilledRowList",value:function(){for(var e=this,t=[],n=function(n){for(var r=[],o=[],i=0;i<d.COLS;++i){var u=e.board[i][n].every(function(e){return 0!==e});u&&r.push(i)}for(var a=function(t){var r=e.board.every(function(e){return 0!==e[n][t]});return r?void o.push(t):"continue"},s=0;s<d.COLS;++s){a(s)}t.push([o,r])},r=d.LOGICAL_ROWS-1;r>=0;--r)n(r);return t}},{key:"levelUp",value:function(){for(var e=0,t=0;t<this.level;t++)e+=d.GOAL_LINES_RATE*(t+1);this.sumOfClearLines>=e&&++this.level}},{key:"setSpeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.level;this.tickInterval=d.TICK_INTERVAL-d.SPEEDUP_RATE*(e-1)}},{key:"calcScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.score+=e<=1?e:Math.pow(2,e)}},{key:"dropRow",value:function(e){var t=this;e.length&&e.forEach(function(e,n){var r=e[0],o=e[1];(r.length||o.length)&&(r.forEach(function(e){t.dropRowX(e,n)}),o.forEach(function(e){t.dropRowZ(e,n)}))})}},{key:"dropRowX",value:function(e,t){for(var n=[],r=0;r<=t;++r){n[r]=[];for(var o=0;o<d.COLS;++o)n[r][o]=this.board[o][r][e],this.board[o][r][e]=r?n[r-1][o]:0}}},{key:"dropRowZ",value:function(e,t){for(var n=[],r=0;r<=t;++r){n[r]=[];for(var o=0;o<d.COLS;++o)n[r][o]=this.board[e][r][o],this.board[e][r][o]=r?n[r-1][o]:0}}},{key:"rotateBoard",value:function(e){for(var t=d.COLS-1,n=[],r=0;r<d.COLS;++r){n[r]=[];for(var o=0;o<d.LOGICAL_ROWS;++o){n[r][o]=[];for(var i=0;i<d.COLS;++i)n[r][o][i]=e[t-i][o][r]}}return n}},{key:"dropBlockY",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentBlock,t=this.valid(0,1,0,e);t;)e.y++,t=this.valid(0,1,0,e);return t}},{key:"moveBlockX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.valid(e,0,0);return t&&(this.currentBlock.x+=e,this.emit("blockmoved")),t}},{key:"moveBlockY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.valid(0,e,0);return t&&(this.currentBlock.y+=e,this.emit("blockmoved")),t}},{key:"moveBlockZ",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.valid(0,0,e);return t&&(this.currentBlock.z+=e,this.emit("blockmoved")),t}},{key:"rotateBlockXZ",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.assign({},this.currentBlock);t.shape=this.rotateXZ(this.currentBlock.shape,e);var n=this.valid(0,0,0,t);return n&&(this.currentBlock=t),n}},{key:"rotateBlockXY",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.assign({},this.currentBlock);t.shape=this.rotateXY(this.currentBlock.shape,e);var n=this.valid(0,0,0,t);return n&&(this.currentBlock=t),n}},{key:"rotateBlockZY",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.assign({},this.currentBlock);t.shape=this.rotateZY(this.currentBlock.shape,e);var n=this.valid(0,0,0,t);return n&&(this.currentBlock=t),n}},{key:"rotateXZ",value:function(e,t){for(var n=d.VOXEL_LENGTH-1,r=[],o=0;o<d.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)t?r[o][i][u]=e[n-u][i][o]:r[o][i][u]=e[u][i][n-o]}}return r}},{key:"rotateXY",value:function(e,t){for(var n=d.VOXEL_LENGTH-1,r=[],o=0;o<d.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)t?r[o][i][u]=e[o][n-u][i]:r[o][i][u]=e[o][u][n-i]}}return r}},{key:"rotateZY",value:function(e,t){for(var n=d.VOXEL_LENGTH-1,r=[],o=0;o<d.VOXEL_LENGTH;++o){r[o]=[];for(var i=0;i<d.VOXEL_LENGTH;++i){r[o][i]=[];for(var u=0;u<d.VOXEL_LENGTH;++u)t?r[o][i][u]=e[i][n-o][u]:r[o][i][u]=e[n-i][o][u]}}return r}},{key:"valid",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentBlock,o=r.x+e,i=r.y+t,u=r.z+n,a=0;a<d.VOXEL_LENGTH;++a)for(var s=0;s<d.VOXEL_LENGTH;++s)for(var c=0;c<d.VOXEL_LENGTH;++c){var l=c+o,f=s+i,h=a+u;if(r.shape[a][s][c]&&("undefined"==typeof this.board[h]||"undefined"==typeof this.board[h][f]||"undefined"==typeof this.board[h][f][l]||this.board[h][f][l]||l<0||l>=d.COLS||h<0||h>=d.COLS||f>=d.LOGICAL_ROWS))return!1}return!0}},{key:"checkGameOver",value:function(){for(var e=!0,t=0;t<d.VOXEL_LENGTH;++t)for(var n=0;n<d.VOXEL_LENGTH;++n)for(var r=0;r<d.VOXEL_LENGTH;++r){var o=(r+this.currentBlock.x,n+this.currentBlock.y);t+this.currentBlock.z;if(o>=d.HIDDEN_ROWS){e=!1;break}}return e}}]),t}(l.EventEmitter2);n.default=p},{"./TetricusCONST":7,eventemitter2:1,lodash:4}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("eventemitter2"),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.controller=e,n.$modalPause=$(".js-modal-pause"),n.$modalGameover=$(".js-modal-gameover"),n.$modalStart=$(".js-modal-start"),n.$modalHowto=$(".js-modal-howto"),n.$modalResult=$(".js-modal-result"),n.$modals=n.$modalPause.add(n.$modalGameover).add(n.$modalStart).add(n.$modalHowto).add(n.$modalResult),n.$btnModalClose=$(".js-btn-modal-close"),n.$btnResume=$(".js-btn-resume"),n.$btnStart=$(".js-btn-start"),n.$btnPause=$(".js-btn-pause"),n.$btnSound=$(".js-btn-sound"),n.$btnToResult=$(".js-btn-to-result"),n.$btnToHowto=$(".js-btn-to-howto"),n.$btnToBack=$(".js-btn-to-back"),n.$btnRotateVertical=$(".js-btn-rotate-vertical"),n.$btnRotateHorizontal=$(".js-btn-rotate-horizontal"),n.$btnRotate=n.$btnRotateVertical.add(n.$btnRotateHorizontal),n.$slideHowto=$(".js-slide-howto"),n.$slideDots=$(".js-slide-dots"),n.setEvent(),n.setControllerEvent(),n.setHowto(),n}return i(t,e),u(t,[{key:"setEvent",value:function(){var e=this;$("button").on("touchstart",function(e){e.stopPropagation()}),this.$btnPause.on("click",function(){e.$btnPause.toggleClass("is-active"),e.$modalPause.show(),e.controller.isPlayngGame?e.controller.pauseGame():e.controller.resumeGame()}),this.$btnSound.on("click",function(){e.toggleBtnSound();var t=e.$btnSound.hasClass("is-sound-on");e.emit("toggleSound",{isSoundOn:t})}),this.$btnRotateVertical.on("touchstart",function(){e.controller.rotateBlockVertical()}),this.$btnRotateHorizontal.on("touchstart",function(){e.controller.rotateBlockHorizontal()}),this.$btnModalClose.on("click",function(){e.$modals.hide()}),this.$btnResume.on("click",function(){e.controller.resumeGame()}),this.$btnStart.on("click",function(){e.controller.isAutoMode=!1,e.controller.newGame()}),this.$btnToResult.on("click",function(){e.$modals.hide(),e.$modalResult.show()}),this.$btnToHowto.on("click",function(){return e.$modals.hide(),e.$modalHowto.show(),e.$modalHowto.removeClass("is-touch-none"),e.controller.isAutoMode?(e.controller.setTutorialMode(),void e.$modalHowto.addClass("is-touch-none")):void(e.controller.isPlayngGame&&e.controller.pauseGame())}),this.$btnToBack.on("click",function(){e.backModal()})}},{key:"setControllerEvent",value:function(){var e=this;this.controller.on("pauseGame",function(){e.isModalShown()||e.$modalPause.show()}),this.controller.on("resumeGame",function(){e.controller.isAutoMode||e.controller.isTutorialMode||e.$modals.hide()}),this.controller.on("gameover",function(){e.isModalShown()||e.controller.isAutoMode||e.$modalResult.show()})}},{key:"setHowto",value:function(){var e=this,t="is-active",n="data-slide-index",r=this.$slideHowto.children(),o=this.$slideDots.children(),i=r.length,u=+this.$modalHowto.attr(n)||0;r.hide().first().show();var a=function(){++u,u>=i&&(u=0,e.backModal()),r.hide().eq(u).show(),o.removeClass(t).eq(u).addClass(t),e.$modalHowto.attr(n,u)};this.$modalHowto.on("click",a),this.controller.on("touchend",function(t){e.controller.isTutorialMode&&0===u&&t.isBlockMoved&&a()}),this.controller.on("stickTouchend",function(t){e.controller.isTutorialMode&&1===u&&t.isStickMoved&&a()}),this.$btnRotate.on("click",function(t){e.controller.isTutorialMode&&2===u&&a()})}},{key:"backModal",value:function(){this.$modals.hide(),this.controller.isPausingGame?this.controller.resumeGame():(this.$modalStart.show(),this.controller.setAutoMode())}},{key:"showStartModal",value:function(){this.$modalStart.show()}},{key:"isModalShown",value:function(){return this.$modals.get().some(function(e){return $(e).is(":visible")})}},{key:"toggleBtnSound",value:function(e){this.$btnSound.toggleClass("is-sound-on",e)}}]),t}(a.EventEmitter2);n.default=s},{eventemitter2:1}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e("./lib/EditorControls_");var u=e("./TetricusCONST"),a=r(u),s=a.default,c=function(){function e(){o(this,e),this.framecount=0,this.isAutoRotate=!1,this.CONTAINER_ID="js-game-view",this.ZERO_VECTOR=new THREE.Vector3(0,0,0),this.CENTER_VECTOR=new THREE.Vector3(s.CENTER_X,s.CENTER_Y,s.CENTER_Z),this.CAMERA_POSITION=new THREE.Vector3(s.CENTER_X,(-s.CAMERA_HEIGHT_DEFAULT),s.CAMERA_DISTANCE_DEFAULT),this.CAMERA_NEAR=1,this.CAMERA_FAR=1e5,this.VIEW_BLOCK_LIST=s.BLOCK_LIST.concat([s.SHADOW_BLOCK,s.CLEARLINE_BLOCK,s.GAMEOVER_BLOCK])}return i(e,[{key:"dispose",value:function(){this.stop(),this.container&&(this.container.innerHTML=""),this.renderer&&(this.renderer.dispose(),delete this.renderer),this.scene&&delete this.scene,this.camera&&delete this.camera,this.controls&&(this.controls.dispose(),delete this.controls)}},{key:"init",value:function(){var e=this;this.container=document.getElementById(this.CONTAINER_ID),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(15790320),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(s.WIDTH,s.HEIGHT),this.container.appendChild(this.renderer.domElement),this.scene=new THREE.Scene,this.perscamera=new THREE.PerspectiveCamera(45,s.WIDTH/s.HEIGHT,this.CAMERA_NEAR,this.CAMERA_FAR),this.orthocamera=new THREE.OrthographicCamera(-window.innerWidth/2,window.innerWidth/2,window.innerHeight/2,-window.innerHeight/2,this.CAMERA_NEAR,this.CAMERA_FAR),this.cubecamera=new THREE.CubeCamera(this.CAMERA_NEAR,this.CAMERA_FAR,128),this.setCamera(),this.controls=new THREE.EditorControls(this.camera),this.controls.center=this.CENTER_VECTOR,this.disableControls();var t=new THREE.AxisHelper(this.CAMERA_FAR);t.position.set(0,0,0);var n=s.CENTER_X,r=s.WIDTH/s.VOXEL_SIZE,o=new THREE.GridHelper(n,r);o.position.set(n,s.HEIGHT,n),this.scene.add(o);var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(0,s.FIELD_MARK_LENGTH,0),new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,s.FIELD_MARK_LENGTH),new THREE.Vector3(0,0,0),new THREE.Vector3(s.FIELD_MARK_LENGTH,0,0));var u=new THREE.LineBasicMaterial({color:0,opacity:.2,transparent:!0}),a=new THREE.Line(i,u);a.type=THREE.LinePieces;var c=a.clone().translateX(s.WIDTH).rotateY(-Math.PI/2),l=a.clone().translateZ(s.WIDTH).rotateY(Math.PI/2),f=a.clone().translateX(s.WIDTH).translateZ(s.WIDTH).rotateY(Math.PI);this.scene.add(a,c,l,f);var h=new THREE.AmbientLight(6316128);this.scene.add(h);var d=new THREE.DirectionalLight(16777215);d.position.set(.5,-.75,1).normalize(),this.scene.add(d),this.cubeGeo=new THREE.BoxGeometry(s.VOXEL_SIZE,s.VOXEL_SIZE,s.VOXEL_SIZE),this.cubeMaterial=[],this.VIEW_BLOCK_LIST.forEach(function(t){var n=new THREE.MeshLambertMaterial({color:t.color});t.opacity>=0&&(n.transparent=!0,n.opacity=.3),e.cubeMaterial.push(n)}),this.setSize()}},{key:"setSize",value:function(){this.width=window.innerWidth||s.WIDTH,this.height=window.innerHeight||s.HEIGHT,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),this.render()}},{key:"setCamera",value:function(e){switch(e){case"ortho1":this.camera=this.orthocamera,this.camera.position.set(s.CENTER_X,s.CENTER_Y,s.CAMERA_DISTANCE_DEFAULT);break;case"ortho2":this.camera=this.orthocamera,this.camera.position.set(s.CAMERA_DISTANCE_DEFAULT,s.CENTER_Y,s.CENTER_Z);break;case"ortho3":this.camera=this.orthocamera,this.camera.position.set(s.CENTER_X,-1e3,s.CENTER_Z);break;default:this.camera=this.perscamera,this.camera.position.copy(this.CAMERA_POSITION)}this.camera.up.set(0,-1,0),this.camera.zoom=1,this.camera.lookAt(this.CENTER_VECTOR)}},{key:"disableControls",value:function(){this.controls&&(this.controls.enabled=!1)}},{key:"enableControls",value:function(){this.controls&&(this.controls.enabled=!0)}},{key:"checkCameraDirection",value:function(){var e=this.camera.position.clone().sub(this.CENTER_VECTOR),t={x:Math.sign(Math.abs(e.x)>Math.abs(e.z)?e.x:0),y:Math.sign(-e.y),z:Math.sign(Math.abs(e.z)>Math.abs(e.x)?e.z:0)};return t}},{key:"rotateCamera",value:function(){this.controls.rotate({x:s.AUTO_ROTATE_SPEED,y:0})}},{key:"tick",value:function(){this.framecount++}},{key:"render",value:function(){this.isAutoRotate&&this.rotateCamera(),this.renderer.render(this.scene,this.camera)}},{key:"drawBoard",value:function(e){this.boardVoxels=[];for(var t=0;t<s.COLS;++t)for(var n=0;n<s.ROWS;++n)for(var r=0;r<s.COLS;++r){var o=r,i=n,u=t,a=e[u][i][o]-1;if(e[u][i][o]){var c=this.drawVoxel(o,i,u,a);this.boardVoxels.push(c)}}}},{key:"disposeBoard",value:function(){this.boardVoxels&&this.boardVoxels.length&&this.disposeVoxels(this.boardVoxels)}},{key:"disposeBlock",value:function(e){this.disposeVoxels(e.voxels)}},{key:"disposeVoxels",value:function(e){var t=this;e.forEach(function(e){e.geometry.dispose(),e.material.dispose(),t.scene.remove(e)})}},{key:"drawCurrentBlock",value:function(e){this.currentBlock&&this.disposeBlock(this.currentBlock),this.currentBlock=Object.assign({},e),this.drawBlock(this.currentBlock)}},{key:"drawBlock",value:function(e){if(e){e.voxels=[];for(var t=0;t<s.VOXEL_LENGTH;++t)for(var n=0;n<s.VOXEL_LENGTH;++n)for(var r=0;r<s.VOXEL_LENGTH;++r)if(e.shape[t][n][r]){var o=r+e.x,i=n+e.y-s.HIDDEN_ROWS,u=t+e.z,a=this.drawVoxel(o,i,u,e.id);e.voxels.push(a)}}}},{key:"drawVoxel",value:function(e,t,n,r){var o=e*s.VOXEL_SIZE,i=t*s.VOXEL_SIZE,u=n*s.VOXEL_SIZE,a=new THREE.Mesh(this.cubeGeo,this.cubeMaterial[r]);return a.position.set(o,i,u),a.position.addScalar(s.VOXEL_SIZE/2),a.scale.setScalar(this.VIEW_BLOCK_LIST[r].scale||1),t<0?a:(this.scene.add(a),a)}},{key:"moveCurrentBlock",value:function(e){this.currentBlock&&(Object.assign(this.currentBlock,e),this.moveBlock(this.currentBlock))}},{key:"moveBlock",value:function(e){if(e)for(var t=0,n=0;n<s.VOXEL_LENGTH;++n)for(var r=0;r<s.VOXEL_LENGTH;++r)for(var o=0;o<s.VOXEL_LENGTH;++o)if(e.shape[n][r][o]){var i=o+e.x,u=r+e.y-s.HIDDEN_ROWS,a=n+e.z,c=e.voxels[t];this.moveVoxel(i,u,a,c),t++}}},{key:"moveVoxel",value:function(e,t,n,r){if(!(t<0)){var o=e*s.VOXEL_SIZE,i=t*s.VOXEL_SIZE,u=n*s.VOXEL_SIZE;r.position.set(o,i,u),r.position.addScalar(s.VOXEL_SIZE/2),this.scene.add(r)}}},{key:"start",value:function(){var e=this,t=Date.now(),n=t,r=n,o=n;if("number"!=typeof this.loopId){this.loopId=null;var i=function t(i){var u=Date.now(),a=u-r,c=u-o;a>s.RENDER_INTERVAL&&(r=u,e.render()),c>s.TICK_INTERVAL&&(o=u,e.tick()),n=u,e.loopId=requestAnimationFrame(t)};i()}}},{key:"stop",value:function(){cancelAnimationFrame(this.loopId),this.loopId=null}}]),e}();n.default=c},{"./TetricusCONST":7,"./lib/EditorControls_":14}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("eventemitter2"),s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.element=e.element||document,n.touchstartElement=e.touchstartElement||n.element,n.touchmoveElement=e.touchmoveElement||n.element,n.touchendElement=e.touchendElement||n.element,n.doubleTapDelay=e.doubleTapDelay||500,n.holdingDelay=e.holdingDelay||1e3,n.watchInterval=e.watchInterval||100,n.touchSupport="ontouchstart"in window,n.touchstart=n.touchSupport?"touchstart":"mousedown",n.touchmove=n.touchSupport?"touchmove":"mousemove",n.touchend=n.touchSupport?"touchend":"mouseup",n.deltaX=0,n.deltaY=0,n.moveX=0,n.moveY=0,n.defineEventListener(),n.setEvent(),n}return i(t,e),u(t,[{key:"setEvent",value:function(){this.touchstartElement.addEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.addEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.addEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"dispose",value:function(){this.touchstartElement.removeEventListener(this.touchstart,this.onTouchStart,!1),this.touchmoveElement.removeEventListener(this.touchmove,this.onTouchMove,!1),this.touchendElement.removeEventListener(this.touchend,this.onTouchEnd,!1)}},{key:"defineEventListener",value:function(){var e=this,t=void 0,n=void 0,r=function(){clearInterval(t),clearTimeout(n)},o=function(){r(),n=setTimeout(function(){t=setInterval(function(){e.emit("touchholding",e)},e.watchInterval)},e.holdingDelay)};this.onTouchStart=function(t){t.preventDefault(),t.stopPropagation(),e.isDoubleTap=e.isTap,e.isDragging=!0,e.isTap=!0,e.touchStartTime=Date.now(),e.touchStartX=e.touchSupport?t.touches[0].pageX:t.pageX,e.touchStartY=e.touchSupport?t.touches[0].pageY:t.pageY,o(),e.emit("touchstart",{touchStartTime:e.touchStartTime,touchStartX:e.touchStartX,touchStartY:e.touchStartY})},this.onTouchMove=function(t){e.isDragging&&(r(),e.lasttouchX=e.touchX||e.touchStartX,e.lasttouchY=e.touchY||e.touchStartY,e.touchX=e.touchSupport?t.touches[0].pageX:t.pageX,e.touchY=e.touchSupport?t.touches[0].pageY:t.pageY,e.deltaX=e.touchX-e.lasttouchX,e.deltaY=e.touchY-e.lasttouchY,e.moveX=e.touchX-e.touchStartX,e.moveY=e.touchY-e.touchStartY,e.isTap=e.isDoubleTap=!1,o(),e.emit("touchmove",{lasttouchX:e.lasttouchX,lasttouchY:e.lasttouchY,touchX:e.touchX,touchY:e.touchY,deltaX:e.deltaX,deltaY:e.deltaY,moveX:e.moveX,moveY:e.moveY}))},this.onTouchEnd=function(t){e.isDragging=!1,r(),e.elapsedTime=Date.now()-e.touchStartTime,e.touchEndX=e.touchX,e.touchEndY=e.touchY,e.emit("touchend",{elapsedTime:e.elapsedTime,touchEndX:e.touchEndX,touchEndY:e.touchEndY,moveX:e.moveX,moveY:e.moveY,isTap:e.isTap,isDoubleTap:e.isDoubleTap}),e.touchX=e.touchY=null,e.moveX=e.moveY=0,setTimeout(function(){e.isTap=e.isDoubleTap=!1},e.doubleTapDelay)}}}]),t}(a.EventEmitter2);n.default=s},{eventemitter2:1}],13:[function(e,t,n){"use strict";var r=$(window);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){var t=window.setTimeout(e,1e3/60);return t},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(e){window.clearTimeout(e)};var o={TRANSITIONEND:"transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd",ANIMATIONEND:"animationend webkitAnimationEnd mozAnimationEnd msAnimationEnd oAnimationEnd",getWinSize:function(){window.winW=Math.max(r.width(),window.innerWidth||0),window.winH=Math.max(r.height(),window.innerHeight||0)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},throttle:function(e,t){var n=!1,r=function(r){n||(n=!0,setTimeout(function(){n=!1,e(r)},t))};return r},debounce:function(e,t){var n,r=function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)};return r},async:function(e){!function t(n){e[n]&&e[n](function(){t(n+1)})}(0)},delay:function(e){return function(t){setTimeout(t,e)}},sleep:function(e){return function(){var t=$.Deferred();return setTimeout(function(){t.resolve()},e),t.promise()}},zeroPadding:function(e,t){return(new Array(t).join("0")+e).slice(-t)},getQueryString:function(){var e={},t=window.location.search;if(t.length>1)for(var n=t.substring(1),r=n.split("&"),o=0;o<r.length;o++){var i=r[o].split("="),u=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]);e[u]=a}return e},getUserAgent:function(){return o.ua={},o.ua.name=window.navigator.userAgent.toLowerCase(),o.ua.isSP=/ipod|iphone|ipad|android/i.test(o.ua.name),o.ua.isPC=!o.ua.isSP,o.ua.isIOS=/ipod|iphone|ipad/i.test(o.ua.name),o.ua.isAndroid=/android/.test(o.ua.name),o.ua.isIE8=/msie 8/.test(o.ua.name),o.ua.isIE9=/msie 9/.test(o.ua.name),o.ua.isSP&&(document.body.className+=" isSP"),o.ua.isPC&&(document.body.className+=" isPC"),o.ua},removeOtherDeviceElement:function(){o.ua.isSP?$(".onlypc").remove():$(".onlysp").remove()}};t.exports=o},{}],14:[function(e,t,n){"use strict";THREE.EditorControls=function(e,t){function n(e){c.enabled!==!1&&(0===e.button?h=f.ROTATE:1===e.button?h=f.ZOOM:2===e.button&&(h=f.PAN),_.set(e.clientX,e.clientY),t.addEventListener("mousemove",r,!1),t.addEventListener("mouseup",o,!1),t.addEventListener("mouseout",o,!1),t.addEventListener("dblclick",o,!1))}function r(e){if(c.enabled!==!1){p.set(e.clientX,e.clientY);var t=p.x-_.x,n=p.y-_.y;h===f.ROTATE?c.rotate(new THREE.Vector3(.005*-t,.005*-n,0)):h===f.ZOOM?c.zoom(new THREE.Vector3(0,0,n)):h===f.PAN&&c.pan(new THREE.Vector3((-t),n,0)),_.set(e.clientX,e.clientY)}}function o(e){t.removeEventListener("mousemove",r,!1),t.removeEventListener("mouseup",o,!1),t.removeEventListener("mouseout",o,!1),t.removeEventListener("dblclick",o,!1),h=f.NONE}function i(e){e.preventDefault();var t=0;e.wheelDelta?t=-e.wheelDelta:e.detail&&(t=10*e.detail),c.zoom(new THREE.Vector3(0,0,t))}function u(e){e.preventDefault()}function a(e){if(c.enabled!==!1){switch(e.touches.length){case 1:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[0].pageX,e.touches[0].pageY,0);break;case 2:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[1].pageX,e.touches[1].pageY,0),w=y[0].distanceTo(y[1])}g[0].copy(y[0]),g[1].copy(y[1])}}function s(e){function t(e,t){var n=t[0];for(var r in t)n.distanceTo(e)>t[r].distanceTo(e)&&(n=t[r]);return n}if(c.enabled!==!1){switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[0].pageX,e.touches[0].pageY,0),c.rotate(y[0].sub(t(y[0],g)).multiplyScalar(-.005));break;case 2:y[0].set(e.touches[0].pageX,e.touches[0].pageY,0),y[1].set(e.touches[1].pageX,e.touches[1].pageY,0);var n=y[0].distanceTo(y[1]);c.zoom(new THREE.Vector3(0,0,w-n)),w=n;var r=y[0].clone().sub(t(y[0],g)),o=y[1].clone().sub(t(y[1],g));r.x=-r.x,o.x=-o.x,c.pan(r.add(o).multiplyScalar(.5))}g[0].copy(y[0]),g[1].copy(y[1])}}t=void 0!==t?t:document,this.enabled=!0,this.center=new THREE.Vector3;var c=this,l=new THREE.Vector3,f={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},h=f.NONE,d=new THREE.Matrix3,p=new THREE.Vector2,_=new THREE.Vector2,v=new THREE.Spherical,m={type:"change"};this.focus=function(t,n){var r=new THREE.Vector3;if(t.matrixWorld.decompose(c.center,new THREE.Quaternion,r),n&&t.geometry){r=(r.x+r.y+r.z)/3,c.center.add(t.geometry.boundingSphere.center.clone().multiplyScalar(r));var o=t.geometry.boundingSphere.radius*r,i=e.position.clone().sub(c.center).normalize().multiplyScalar(2*o);e.position.copy(c.center).add(i)}e.lookAt(c.center),c.dispatchEvent(m)},this.pan=function(t){var n=e.position.distanceTo(c.center);t.multiplyScalar(.001*n),t.applyMatrix3(d.getNormalMatrix(e.matrix)),e.position.add(t),c.center.add(t),c.dispatchEvent(m)},this.zoom=function(t){var n=e.position.distanceTo(c.center);t.multiplyScalar(.001*n),t.length()>n||(t.applyMatrix3(d.getNormalMatrix(e.matrix)),e.position.add(t),c.dispatchEvent(m))},this.rotate=function(t){l.copy(e.position).sub(c.center),v.setFromVector3(l),v.theta+=t.x,v.phi+=t.y,v.makeSafe(),l.setFromSpherical(v),e.position.copy(c.center).add(l),e.lookAt(c.center),c.dispatchEvent(m)},this.dispose=function(){t.removeEventListener("contextmenu",u,!1),t.removeEventListener("mousedown",n,!1),t.removeEventListener("mousewheel",i,!1),t.removeEventListener("MozMousePixelScroll",i,!1),t.removeEventListener("mousemove",r,!1),t.removeEventListener("mouseup",o,!1),t.removeEventListener("mouseout",o,!1),t.removeEventListener("dblclick",o,!1),t.removeEventListener("touchstart",a,!1),t.removeEventListener("touchmove",s,!1)},t.addEventListener("contextmenu",u,!1),t.addEventListener("mousedown",n,!1),t.addEventListener("mousewheel",i,!1),t.addEventListener("MozMousePixelScroll",i,!1);var y=(new THREE.Vector3,[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]),g=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],w=null;t.addEventListener("touchstart",a,!1),t.addEventListener("touchmove",s,!1)},THREE.EditorControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.EditorControls.prototype.constructor=THREE.EditorControls},{}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("./Util"),i=r(o),u=e("./SoundController"),a=r(u),s=e("./TetricusCONST"),c=r(s),l=e("./TetricusView"),f=r(l),h=e("./TetricusModel"),d=r(h),p=e("./TetricusController"),_=r(p),v=e("./TetricusUI"),m=r(v),y=new d.default,g=new f.default,w=new _.default(y,g),E=new m.default(w),b=new a.default({src:"./audio/bgm.mp3",COOKIE_NAME:"TETRICUS-isMute",EXPIRES_DATE:365,howl:{src:["./audio/bgm.mp3"],loop:!0,volume:.2}});w.on("startGame",function(){b.play()}),E.on("toggleSound",function(e){b.toggleMute(!e.isSoundOn),b.togglePlay(e.isSoundOn)}),E.toggleBtnSound(!b.isMute),E.showStartModal(),w.isAutoMode=!0,w.newGame();var T=i.default.getQueryString();T.debug&&!function(){var e=+T.debug||0,t=c.default.BLOCK_LIST[e].shape;c.default.BLOCK_LIST.forEach(function(e){e.shape=t});var n=function(){c.default.START_X=Math.floor((c.default.COLS-c.default.VOXEL_LENGTH)/2),c.default.START_Y=0,c.default.START_Z=Math.floor((c.default.COLS-c.default.VOXEL_LENGTH)/2),c.default.HIDDEN_ROWS=c.default.VOXEL_LENGTH,c.default.LOGICAL_ROWS=c.default.ROWS+c.default.HIDDEN_ROWS,c.default.WIDTH=c.default.VOXEL_SIZE*c.default.COLS,c.default.HEIGHT=c.default.VOXEL_SIZE*c.default.ROWS,c.default.CENTER_X=c.default.WIDTH/2,c.default.CENTER_Y=c.default.HEIGHT/2,c.default.CENTER_Z=c.default.WIDTH/2,g.constructor()};T.interval&&(y.tickInterval=+T.interval),T.cols&&(c.default.COLS=+T.cols,n()),T.rows&&(c.default.ROWS=+T.rows,n()),T.voxel_size&&(c.default.VOXEL_SIZE=+T.voxel_size,n()),T.render_interval&&(c.default.RENDER_INTERVAL=+T.render_interval),T.tick_interval&&(c.default.TICK_INTERVAL=+T.tick_interval),T.speedup_rate&&(c.default.SPEEDUP_RATE=+T.speedup_rate),w.newGame()}()},{"./SoundController":5,"./TetricusCONST":7,"./TetricusController":8,"./TetricusModel":9,"./TetricusUI":10,"./TetricusView":11,"./Util":13}]},{},[15]);